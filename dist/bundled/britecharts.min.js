!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("d3")):"function"==typeof define&&define.amd?define(["d3"],e):"object"==typeof exports?exports.britecharts=e(require("d3")):t.britecharts=e(t.d3)}(window,(function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=88)}([function(t,e,n){"use strict";n.r(e);var r=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},i=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return r(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)<0?r=a+1:i=a}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)>0?i=a:r=a+1}return r}}};var a=i(r),o=a.right,u=a.left,s=o,l=function(t,e){null==e&&(e=c);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return a};function c(t,e){return[t,e]}var h=function(t,e,n){var r,i,a,o,u=t.length,s=e.length,l=new Array(u*s);for(null==n&&(n=c),r=a=0;r<u;++r)for(o=t[r],i=0;i<s;++i,++a)l[a]=n(o,e[i]);return l},f=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},d=function(t){return null===t?NaN:+t},p=function(t,e){var n,r,i=t.length,a=0,o=-1,u=0,s=0;if(null==e)for(;++o<i;)isNaN(n=d(t[o]))||(s+=(r=n-u)*(n-(u+=r/++a)));else for(;++o<i;)isNaN(n=d(e(t[o],o,t)))||(s+=(r=n-u)*(n-(u+=r/++a)));if(a>1)return s/(a-1)},g=function(t,e){var n=p(t,e);return n?Math.sqrt(n):n},m=function(t,e){var n,r,i,a=t.length,o=-1;if(null==e){for(;++o<a;)if(null!=(n=t[o])&&n>=n)for(r=i=n;++o<a;)null!=(n=t[o])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++o<a;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=i=n;++o<a;)null!=(n=e(t[o],o,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},v=Array.prototype,y=v.slice,x=v.map,b=function(t){return function(){return t}},w=function(t){return t},_=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);++r<i;)a[r]=t+r*n;return a},M=Math.sqrt(50),A=Math.sqrt(10),k=Math.sqrt(2),T=function(t,e,n){var r,i,a,o,u=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=E(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(i=Math.ceil(e-t+1));++u<i;)a[u]=(t+u)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),a=new Array(i=Math.ceil(t-e+1));++u<i;)a[u]=(t-u)/o;return r&&a.reverse(),a};function E(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=M?10:a>=A?5:a>=k?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=M?10:a>=A?5:a>=k?2:1)}function C(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=M?i*=10:a>=A?i*=5:a>=k&&(i*=2),e<t?-i:i}var S=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},O=function(){var t=w,e=m,n=S;function r(r){var i,a,o=r.length,u=new Array(o);for(i=0;i<o;++i)u[i]=t(r[i],i,r);var l=e(u),c=l[0],h=l[1],f=n(u,c,h);Array.isArray(f)||(f=C(c,h,f),f=_(Math.ceil(c/f)*f,h,f));for(var d=f.length;f[0]<=c;)f.shift(),--d;for(;f[d-1]>h;)f.pop(),--d;var p,g=new Array(d+1);for(i=0;i<=d;++i)(p=g[i]=[]).x0=i>0?f[i-1]:c,p.x1=i<d?f[i]:h;for(i=0;i<o;++i)c<=(a=u[i])&&a<=h&&g[s(f,a,0,d)].push(r[i]);return g}return r.value=function(e){return arguments.length?(t="function"==typeof e?e:b(e),r):t},r.domain=function(t){return arguments.length?(e="function"==typeof t?t:b([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?b(y.call(t)):b(t),r):n},r},N=function(t,e,n){if(null==n&&(n=d),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t);return o+(+n(t[a+1],a+1,t)-o)*(i-a)}},P=function(t,e,n){return t=x.call(t,d).sort(r),Math.ceil((n-e)/(2*(N(t,.75)-N(t,.25))*Math.pow(t.length,-1/3)))},D=function(t,e,n){return Math.ceil((n-e)/(3.5*g(t)*Math.pow(t.length,-1/3)))},B=function(t,e){var n,r,i=t.length,a=-1;if(null==e){for(;++a<i;)if(null!=(n=t[a])&&n>=n)for(r=n;++a<i;)null!=(n=t[a])&&n>r&&(r=n)}else for(;++a<i;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=n;++a<i;)null!=(n=e(t[a],a,t))&&n>r&&(r=n);return r},R=function(t,e){var n,r=t.length,i=r,a=-1,o=0;if(null==e)for(;++a<r;)isNaN(n=d(t[a]))?--i:o+=n;else for(;++a<r;)isNaN(n=d(e(t[a],a,t)))?--i:o+=n;if(i)return o/i},I=function(t,e){var n,i=t.length,a=-1,o=[];if(null==e)for(;++a<i;)isNaN(n=d(t[a]))||o.push(n);else for(;++a<i;)isNaN(n=d(e(t[a],a,t)))||o.push(n);return N(o.sort(r),.5)},L=function(t){for(var e,n,r,i=t.length,a=-1,o=0;++a<i;)o+=t[a].length;for(n=new Array(o);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--o]=r[e];return n},j=function(t,e){var n,r,i=t.length,a=-1;if(null==e){for(;++a<i;)if(null!=(n=t[a])&&n>=n)for(r=n;++a<i;)null!=(n=t[a])&&r>n&&(r=n)}else for(;++a<i;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=n;++a<i;)null!=(n=e(t[a],a,t))&&r>n&&(r=n);return r},F=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},V=function(t,e){if(n=t.length){var n,i,a=0,o=0,u=t[o];for(null==e&&(e=r);++a<n;)(e(i=t[a],u)<0||0!==e(u,u))&&(u=i,o=a);return 0===e(u,u)?o:void 0}},z=function(t,e,n){for(var r,i,a=(null==n?t.length:n)-(e=null==e?0:+e);a;)i=Math.random()*a--|0,r=t[a+e],t[a+e]=t[i+e],t[i+e]=r;return t},U=function(t,e){var n,r=t.length,i=-1,a=0;if(null==e)for(;++i<r;)(n=+t[i])&&(a+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(a+=n);return a},H=function(t){if(!(i=t.length))return[];for(var e=-1,n=j(t,q),r=new Array(n);++e<n;)for(var i,a=-1,o=r[e]=new Array(i);++a<i;)o[a]=t[a][e];return r};function q(t){return t.length}var Y=function(){return H(arguments)};n.d(e,"bisect",(function(){return s})),n.d(e,"bisectRight",(function(){return o})),n.d(e,"bisectLeft",(function(){return u})),n.d(e,"ascending",(function(){return r})),n.d(e,"bisector",(function(){return i})),n.d(e,"cross",(function(){return h})),n.d(e,"descending",(function(){return f})),n.d(e,"deviation",(function(){return g})),n.d(e,"extent",(function(){return m})),n.d(e,"histogram",(function(){return O})),n.d(e,"thresholdFreedmanDiaconis",(function(){return P})),n.d(e,"thresholdScott",(function(){return D})),n.d(e,"thresholdSturges",(function(){return S})),n.d(e,"max",(function(){return B})),n.d(e,"mean",(function(){return R})),n.d(e,"median",(function(){return I})),n.d(e,"merge",(function(){return L})),n.d(e,"min",(function(){return j})),n.d(e,"pairs",(function(){return l})),n.d(e,"permute",(function(){return F})),n.d(e,"quantile",(function(){return N})),n.d(e,"range",(function(){return _})),n.d(e,"scan",(function(){return V})),n.d(e,"shuffle",(function(){return z})),n.d(e,"sum",(function(){return U})),n.d(e,"ticks",(function(){return T})),n.d(e,"tickIncrement",(function(){return E})),n.d(e,"tickStep",(function(){return C})),n.d(e,"transpose",(function(){return H})),n.d(e,"variance",(function(){return p})),n.d(e,"zip",(function(){return Y}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=new Date,i=new Date;function a(t,e,n,o){function u(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return u.floor=function(e){return t(e=new Date(+e)),e},u.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},u.round=function(t){var e=u(t),n=u.ceil(t);return t-e<n-t?e:n},u.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},u.range=function(n,r,i){var a,o=[];if(n=u.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return o;do{o.push(a=new Date(+n)),e(n,i),t(n)}while(a<n&&n<r);return o},u.filter=function(n){return a((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(u.count=function(e,a){return r.setTime(+e),i.setTime(+a),t(r),t(i),Math.floor(n(r,i))},u.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?u.filter(o?function(e){return o(e)%t==0}:function(e){return u.count(0,e)%t==0}):u:null}),u}},function(t,e,n){"use strict";n.r(e);var r=n(29),i=n(64),a=function(t){return Object(i.a)(Object(r.a)(t).call(document.documentElement))},o=0;function u(){return new s}function s(){this._="@"+(++o).toString(36)}s.prototype=u.prototype={constructor:s,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var l=n(66),c=n(84),h=n(44),f=n(32),d=n(30),p=n(23),g=function(t){return"string"==typeof t?new p.a([document.querySelectorAll(t)],[document.documentElement]):new p.a([null==t?[]:t],p.c)},m=n(43),v=n(65),y=n(67),x=n(85),b=n(46),w=function(t,e){null==e&&(e=Object(b.a)().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=Object(d.a)(t,e[n]);return i},_=n(45),M=n(37);n.d(e,"create",(function(){return a})),n.d(e,"creator",(function(){return r.a})),n.d(e,"local",(function(){return u})),n.d(e,"matcher",(function(){return l.a})),n.d(e,"mouse",(function(){return c.a})),n.d(e,"namespace",(function(){return h.a})),n.d(e,"namespaces",(function(){return f.a})),n.d(e,"clientPoint",(function(){return d.a})),n.d(e,"select",(function(){return i.a})),n.d(e,"selectAll",(function(){return g})),n.d(e,"selection",(function(){return p.b})),n.d(e,"selector",(function(){return m.a})),n.d(e,"selectorAll",(function(){return v.a})),n.d(e,"style",(function(){return y.b})),n.d(e,"touch",(function(){return x.a})),n.d(e,"touches",(function(){return w})),n.d(e,"window",(function(){return _.a})),n.d(e,"event",(function(){return M.c})),n.d(e,"customEvent",(function(){return M.a}))},function(t,e,n){"use strict";n.d(e,"d",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return o})),n.d(e,"e",(function(){return u}));var r=1e3,i=6e4,a=36e5,o=864e5,u=6048e5},function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return u}));var r=n(48);function i(t,e){return function(n){return t+n*e}}function a(t,e){var n=e-t;return n?i(t,n>180||n<-180?n-360*Math.round(n/360):n):Object(r.a)(isNaN(t)?e:t)}function o(t){return 1==(t=+t)?u:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Object(r.a)(isNaN(e)?n:e)}}function u(t,e){var n=e-t;return n?i(t,n):Object(r.a)(isNaN(t)?e:t)}},function(t,e,n){"use strict";n.d(e,"g",(function(){return o})),n.d(e,"c",(function(){return u})),n.d(e,"k",(function(){return s})),n.d(e,"m",(function(){return l})),n.d(e,"i",(function(){return c})),n.d(e,"a",(function(){return h})),n.d(e,"e",(function(){return f})),n.d(e,"h",(function(){return d})),n.d(e,"d",(function(){return p})),n.d(e,"l",(function(){return g})),n.d(e,"n",(function(){return m})),n.d(e,"j",(function(){return v})),n.d(e,"b",(function(){return y})),n.d(e,"f",(function(){return x}));var r=n(1),i=n(3);function a(t){return Object(r.a)((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*i.c)/i.e}))}var o=a(0),u=a(1),s=a(2),l=a(3),c=a(4),h=a(5),f=a(6),d=o.range,p=u.range,g=s.range,m=l.range,v=c.range,y=h.range,x=f.range},function(t,e,n){"use strict";n.d(e,"g",(function(){return o})),n.d(e,"c",(function(){return u})),n.d(e,"k",(function(){return s})),n.d(e,"m",(function(){return l})),n.d(e,"i",(function(){return c})),n.d(e,"a",(function(){return h})),n.d(e,"e",(function(){return f})),n.d(e,"h",(function(){return d})),n.d(e,"d",(function(){return p})),n.d(e,"l",(function(){return g})),n.d(e,"n",(function(){return m})),n.d(e,"j",(function(){return v})),n.d(e,"b",(function(){return y})),n.d(e,"f",(function(){return x}));var r=n(1),i=n(3);function a(t){return Object(r.a)((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/i.e}))}var o=a(0),u=a(1),s=a(2),l=a(3),c=a(4),h=a(5),f=a(6),d=o.range,p=u.range,g=s.range,m=l.range,v=c.range,y=h.range,x=f.range},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"e",(function(){return b})),n.d(e,"h",(function(){return M})),n.d(e,"g",(function(){return A})),n.d(e,"b",(function(){return k})),n.d(e,"f",(function(){return N}));var r=n(15);function i(){}var a=.7,o=1/a,u="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3,8})$/,h=new RegExp("^rgb\\("+[u,u,u]+"\\)$"),f=new RegExp("^rgb\\("+[l,l,l]+"\\)$"),d=new RegExp("^rgba\\("+[u,u,u,s]+"\\)$"),p=new RegExp("^rgba\\("+[l,l,l,s]+"\\)$"),g=new RegExp("^hsl\\("+[s,l,l]+"\\)$"),m=new RegExp("^hsla\\("+[s,l,l,s]+"\\)$"),v={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function y(){return this.rgb().formatHex()}function x(){return this.rgb().formatRgb()}function b(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=c.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?w(e):3===n?new k(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?new k(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?new k(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=h.exec(t))?new k(e[1],e[2],e[3],1):(e=f.exec(t))?new k(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=d.exec(t))?_(e[1],e[2],e[3],e[4]):(e=p.exec(t))?_(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=g.exec(t))?S(e[1],e[2]/100,e[3]/100,1):(e=m.exec(t))?S(e[1],e[2]/100,e[3]/100,e[4]):v.hasOwnProperty(t)?w(v[t]):"transparent"===t?new k(NaN,NaN,NaN,0):null}function w(t){return new k(t>>16&255,t>>8&255,255&t,1)}function _(t,e,n,r){return r<=0&&(t=e=n=NaN),new k(t,e,n,r)}function M(t){return t instanceof i||(t=b(t)),t?new k((t=t.rgb()).r,t.g,t.b,t.opacity):new k}function A(t,e,n,r){return 1===arguments.length?M(t):new k(t,e,n,null==r?1:r)}function k(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function T(){return"#"+C(this.r)+C(this.g)+C(this.b)}function E(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function C(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function S(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new P(t,e,n,r)}function O(t){if(t instanceof P)return new P(t.h,t.s,t.l,t.opacity);if(t instanceof i||(t=b(t)),!t)return new P;if(t instanceof P)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),o=Math.max(e,n,r),u=NaN,s=o-a,l=(o+a)/2;return s?(u=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+a:2-o-a,u*=60):s=l>0&&l<1?0:u,new P(u,s,l,t.opacity)}function N(t,e,n,r){return 1===arguments.length?O(t):new P(t,e,n,null==r?1:r)}function P(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function D(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Object(r.a)(i,b,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:y,formatHex:y,formatHsl:function(){return O(this).formatHsl()},formatRgb:x,toString:x}),Object(r.a)(k,A,Object(r.b)(i,{brighter:function(t){return t=null==t?o:Math.pow(o,t),new k(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?a:Math.pow(a,t),new k(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:T,formatHex:T,formatRgb:E,toString:E})),Object(r.a)(P,N,Object(r.b)(i,{brighter:function(t){return t=null==t?o:Math.pow(o,t),new P(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?a:Math.pow(a,t),new P(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new k(D(t>=240?t-240:t+120,i,r),D(t,i,r),D(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}))},function(t,e,n){"use strict";n.r(e);var r,i,a=n(23),o=n(79),u=0,s=0,l=0,c=0,h=0,f=0,d="object"==typeof performance&&performance.now?performance:Date,p="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function g(){return h||(p(m),h=d.now()+f)}function m(){h=0}function v(){this._call=this._time=this._next=null}function y(t,e,n){var r=new v;return r.restart(t,e,n),r}function x(){h=(c=d.now())+f,u=s=0;try{!function(){g(),++u;for(var t,e=r;e;)(t=h-e._time)>=0&&e._call.call(null,t),e=e._next;--u}()}finally{u=0,function(){var t,e,n=r,a=1/0;for(;n;)n._call?(a>n._time&&(a=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:r=e);i=t,w(a)}(),h=0}}function b(){var t=d.now(),e=t-c;e>1e3&&(f-=e,c=t)}function w(t){u||(s&&(s=clearTimeout(s)),t-h>24?(t<1/0&&(s=setTimeout(x,t-d.now()-f)),l&&(l=clearInterval(l))):(l||(c=d.now(),l=setInterval(b,1e3)),u=1,p(x)))}v.prototype=y.prototype={constructor:v,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?g():+n)+(null==e?0:+e),this._next||i===this||(i?i._next=this:r=this,i=this),this._call=t,this._time=n,w()},stop:function(){this._call&&(this._call=null,this._time=1/0,w())}};var _=function(t,e,n){var r=new v;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r},M=Object(o.a)("start","end","cancel","interrupt"),A=[],k=function(t,e,n,r,i,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function a(s){var l,c,h,f;if(1!==n.state)return u();for(l in i)if((f=i[l]).name===n.name){if(3===f.state)return _(a);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[l]):+l<e&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[l])}if(_((function(){3===n.state&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(s))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),l=0,c=-1;l<h;++l)(f=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function o(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=5,1),a=-1,o=r.length;++a<o;)r[a].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=y((function(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:M,tween:A,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})};function T(t,e){var n=C(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function E(t,e){var n=C(t,e);if(n.state>3)throw new Error("too late; already running");return n}function C(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var S=function(t,e){var n,r,i,a=t.__transition,o=!0;if(a){for(i in e=null==e?null:e+"",a)(n=a[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete t.__transition}},O=n(77),N=n(44);function P(t,e){var n,r;return function(){var i=E(this,t),a=i.tween;if(a!==n)for(var o=0,u=(r=n=a).length;o<u;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}i.tween=r}}function D(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var a=E(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var u={name:e,value:n},s=0,l=i.length;s<l;++s)if(i[s].name===e){i[s]=u;break}s===l&&i.push(u)}a.tween=i}}function B(t,e,n){var r=t._id;return t.each((function(){var t=E(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return C(t,r).value[e]}}var R=n(7),I=n(14),L=n(36),j=n(59),F=function(t,e){var n;return("number"==typeof e?I.a:e instanceof R.e?L.a:(n=Object(R.e)(e))?(e=n,L.a):j.a)(t,e)};function V(t){return function(){this.removeAttribute(t)}}function z(t){return function(){this.removeAttributeNS(t.space,t.local)}}function U(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=e(r=o,n)}}function H(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=e(r=o,n)}}function q(t,e,n){var r,i,a;return function(){var o,u,s=n(this);if(null!=s)return(o=this.getAttribute(t))===(u=s+"")?null:o===r&&u===i?a:(i=u,a=e(r=o,s));this.removeAttribute(t)}}function Y(t,e,n){var r,i,a;return function(){var o,u,s=n(this);if(null!=s)return(o=this.getAttributeNS(t.space,t.local))===(u=s+"")?null:o===r&&u===i?a:(i=u,a=e(r=o,s));this.removeAttributeNS(t.space,t.local)}}function X(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function G(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function W(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&G(t,i)),n}return i._value=e,i}function $(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&X(t,i)),n}return i._value=e,i}function Q(t,e){return function(){T(this,t).delay=+e.apply(this,arguments)}}function Z(t,e){return e=+e,function(){T(this,t).delay=e}}function K(t,e){return function(){E(this,t).duration=+e.apply(this,arguments)}}function J(t,e){return e=+e,function(){E(this,t).duration=e}}function tt(t,e){if("function"!=typeof e)throw new Error;return function(){E(this,t).ease=e}}var et=n(66);function nt(t,e,n){var r,i,a=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?T:E;return function(){var o=a(this,t),u=o.on;u!==r&&(i=(r=u).copy()).on(e,n),o.on=i}}var rt=n(43),it=n(65),at=a.b.prototype.constructor,ot=n(67);function ut(t){return function(){this.style.removeProperty(t)}}function st(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function lt(t,e,n){var r,i;function a(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&st(t,a,n)),r}return a._value=e,a}function ct(t){return function(e){this.textContent=t.call(this,e)}}function ht(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&ct(r)),e}return r._value=t,r}var ft=0;function dt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function pt(t){return Object(a.b)().transition(t)}function gt(){return++ft}var mt=a.b.prototype;dt.prototype=pt.prototype={constructor:dt,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Object(rt.a)(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var u,s,l=r[o],c=l.length,h=a[o]=new Array(c),f=0;f<c;++f)(u=l[f])&&(s=t.call(u,u.__data__,f,l))&&("__data__"in u&&(s.__data__=u.__data__),h[f]=s,k(h[f],e,n,f,h,C(u,n)));return new dt(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Object(it.a)(t));for(var r=this._groups,i=r.length,a=[],o=[],u=0;u<i;++u)for(var s,l=r[u],c=l.length,h=0;h<c;++h)if(s=l[h]){for(var f,d=t.call(s,s.__data__,h,l),p=C(s,n),g=0,m=d.length;g<m;++g)(f=d[g])&&k(f,e,n,g,d,p);a.push(d),o.push(s)}return new dt(a,o,e,n)},filter:function(t){"function"!=typeof t&&(t=Object(et.a)(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],u=o.length,s=r[i]=[],l=0;l<u;++l)(a=o[l])&&t.call(a,a.__data__,l,o)&&s.push(a);return new dt(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),u=0;u<a;++u)for(var s,l=e[u],c=n[u],h=l.length,f=o[u]=new Array(h),d=0;d<h;++d)(s=l[d]||c[d])&&(f[d]=s);for(;u<r;++u)o[u]=e[u];return new dt(o,this._parents,this._name,this._id)},selection:function(){return new at(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=gt(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,u=r[a],s=u.length,l=0;l<s;++l)if(o=u[l]){var c=C(o,e);k(o,t,n,l,u,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new dt(r,this._parents,t,n)},call:mt.call,nodes:mt.nodes,node:mt.node,size:mt.size,empty:mt.empty,each:mt.each,on:function(t,e){var n=this._id;return arguments.length<2?C(this.node(),n).on.on(t):this.each(nt(n,t,e))},attr:function(t,e){var n=Object(N.a)(t),r="transform"===n?O.b:F;return this.attrTween(t,"function"==typeof e?(n.local?Y:q)(n,r,B(this,"attr."+t,e)):null==e?(n.local?z:V)(n):(n.local?H:U)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Object(N.a)(t);return this.tween(n,(r.local?W:$)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?O.a:F;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var a=Object(ot.b)(this,t),o=(this.style.removeProperty(t),Object(ot.b)(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}(t,r)).on("end.style."+t,ut(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,a;return function(){var o=Object(ot.b)(this,t),u=n(this),s=u+"";return null==u&&(this.style.removeProperty(t),s=u=Object(ot.b)(this,t)),o===s?null:o===r&&s===i?a:(i=s,a=e(r=o,u))}}(t,r,B(this,"style."+t,e))).each(function(t,e){var n,r,i,a,o="style."+e,u="end."+o;return function(){var s=E(this,t),l=s.on,c=null==s.value[o]?a||(a=ut(e)):void 0;l===n&&i===c||(r=(n=l).copy()).on(u,i=c),s.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,a=n+"";return function(){var o=Object(ot.b)(this,t);return o===a?null:o===r?i:i=e(r=o,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,lt(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(B(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,ht(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=C(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==e?P:D)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Q:Z)(e,t)):C(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?K:J)(e,t)):C(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(tt(e,t)):C(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var u={value:o},s={value:function(){0==--i&&a()}};n.each((function(){var n=E(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(u),e._.interrupt.push(u),e._.end.push(s)),n.on=e}))}))}};var vt={time:null,delay:0,duration:250,ease:n(49).b};function yt(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return vt.time=g(),vt;return n}a.b.prototype.interrupt=function(t){return this.each((function(){S(this,t)}))},a.b.prototype.transition=function(t){var e,n;t instanceof dt?(e=t._id,t=t._name):(e=gt(),(n=vt).time=g(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,u=r[a],s=u.length,l=0;l<s;++l)(o=u[l])&&k(o,t,e,l,u,n||yt(o,e));return new dt(r,this._parents,t,e)};var xt=[null],bt=function(t,e){var n,r,i=t.__transition;if(i)for(r in e=null==e?null:e+"",i)if((n=i[r]).state>1&&n.name===e)return new dt([[t]],xt,e,+r);return null};n.d(e,"transition",(function(){return pt})),n.d(e,"active",(function(){return bt})),n.d(e,"interrupt",(function(){return S}))},function(t,e,n){"use strict";n.r(e);var r=n(56);n.d(e,"formatDefaultLocale",(function(){return r.a})),n.d(e,"format",(function(){return r.b})),n.d(e,"formatPrefix",(function(){return r.c}));var i=n(68);n.d(e,"formatLocale",(function(){return i.a}));var a=n(40);n.d(e,"formatSpecifier",(function(){return a.b})),n.d(e,"FormatSpecifier",(function(){return a.a}));var o=n(80);n.d(e,"precisionFixed",(function(){return o.a}));var u=n(81);n.d(e,"precisionPrefix",(function(){return u.a}));var s=n(82);n.d(e,"precisionRound",(function(){return s.a}))},function(t,e,n){"use strict";var r;void 0===(r=function(){return{colorSchemas:{britecharts:["#6aedc7","#39c2c9","#ffce00","#ffa71a","#f866b9","#998ce3"],grey:["#F8F8FA","#EFF2F5","#D2D6DF","#C3C6CF","#ADB0B6","#666A73","#45494E","#363A43","#282C35"],orange:["#fcc870","#ffa71a","#fb8825","#f6682f","#db5a2c","#bf4c28","#a43b1c","#892a10","#f9e9c5"],blueGreen:["#ccf7f6","#70e4e0","#00d8d2","#00acaf","#007f8c","#005e66","#003c3f","#002d2f","#0d2223"],teal:["#ccfffe","#94f7f4","#00fff8","#1de1e1","#39c2c9","#2e9a9d","#227270","#1a5957","#133f3e"],green:["#edfff7","#d7ffef","#c0ffe7","#95f5d7","#6aedc7","#59c3a3","#479980","#34816a","#206953"],yellow:["#f9f2b3","#fbe986","#fce05a","#fed72d","#ffce00","#fcc11c","#f9b438","#eda629","#e09819"],pink:["#fdd1ea","#fb9cd2","#f866b9","#fc40b6","#ff1ab3","#e3239d","#c62c86","#a62073","#85135f"],purple:["#ddd6fc","#bbb1f0","#998ce3","#8e6bc1","#824a9e","#77337f","#6b1c60","#591650","#470f3f"],red:["#ffd8d4","#ffb5b0","#ff938c","#ff766c","#ff584c","#f04b42","#e03d38","#be2e29","#9c1e19"]},colorSchemasHuman:{britecharts:"Britecharts Default",grey:"Britecharts Grey",orange:"Orange",blueGreen:"Blue",teal:"Light Blue",green:"Green",yellow:"Yellow",pink:"Pink",purple:"Purple",red:"Red"},colorGradients:{greenBlue:["#39C7EA","#4CDCBA"],orangePink:["#FBC670","#F766B8"],bluePurple:["#3DC3C9","#824a9e"]},colorGradientsHuman:{greenBlue:"Green to Blue",orangePink:"Orange to Pink",bluePurple:"Blue to Purple"},singleColors:{aloeGreen:["#7bdcc0"],greenColor:["#6aedc7"],blueColor:["#39c2c9"],yellowColor:["#ffce00"],orangeColor:["#ffa71a"],pinkColor:["#f866b9"],purpleColor:["#998ce3"]},singleColorsHuman:{aloeGreen:"Aloe Green",greenColor:"Green",blueColor:"Blue",yellowColor:"Yellow",orangeColor:"Orange",pinkColor:"Pink",purpleColor:"Purple"}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";function r(t){return+t}function i(t){return t*t}function a(t){return t*(2-t)}function o(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}n.r(e);var u=n(49),s=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),l=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),c=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),h=Math.PI,f=h/2;function d(t){return 1-Math.cos(t*f)}function p(t){return Math.sin(t*f)}function g(t){return(1-Math.cos(h*t))/2}function m(t){return Math.pow(2,10*t-10)}function v(t){return 1-Math.pow(2,-10*t)}function y(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function x(t){return 1-Math.sqrt(1-t*t)}function b(t){return Math.sqrt(1- --t*t)}function w(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var _=7.5625;function M(t){return 1-A(1-t)}function A(t){return(t=+t)<4/11?_*t*t:t<8/11?_*(t-=6/11)*t+3/4:t<10/11?_*(t-=9/11)*t+15/16:_*(t-=21/22)*t+63/64}function k(t){return((t*=2)<=1?1-A(1-t):A(t-1)+1)/2}var T=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),E=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),C=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),S=2*Math.PI,O=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=S);function i(t){return e*Math.pow(2,10*--t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*S)},i.period=function(n){return t(e,n)},i}(1,.3),N=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=S);function i(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*S)},i.period=function(n){return t(e,n)},i}(1,.3),P=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=S);function i(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((r-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*S)},i.period=function(n){return t(e,n)},i}(1,.3);n.d(e,"easeLinear",(function(){return r})),n.d(e,"easeQuad",(function(){return o})),n.d(e,"easeQuadIn",(function(){return i})),n.d(e,"easeQuadOut",(function(){return a})),n.d(e,"easeQuadInOut",(function(){return o})),n.d(e,"easeCubic",(function(){return u.b})),n.d(e,"easeCubicIn",(function(){return u.a})),n.d(e,"easeCubicOut",(function(){return u.c})),n.d(e,"easeCubicInOut",(function(){return u.b})),n.d(e,"easePoly",(function(){return c})),n.d(e,"easePolyIn",(function(){return s})),n.d(e,"easePolyOut",(function(){return l})),n.d(e,"easePolyInOut",(function(){return c})),n.d(e,"easeSin",(function(){return g})),n.d(e,"easeSinIn",(function(){return d})),n.d(e,"easeSinOut",(function(){return p})),n.d(e,"easeSinInOut",(function(){return g})),n.d(e,"easeExp",(function(){return y})),n.d(e,"easeExpIn",(function(){return m})),n.d(e,"easeExpOut",(function(){return v})),n.d(e,"easeExpInOut",(function(){return y})),n.d(e,"easeCircle",(function(){return w})),n.d(e,"easeCircleIn",(function(){return x})),n.d(e,"easeCircleOut",(function(){return b})),n.d(e,"easeCircleInOut",(function(){return w})),n.d(e,"easeBounce",(function(){return A})),n.d(e,"easeBounceIn",(function(){return M})),n.d(e,"easeBounceOut",(function(){return A})),n.d(e,"easeBounceInOut",(function(){return k})),n.d(e,"easeBack",(function(){return C})),n.d(e,"easeBackIn",(function(){return T})),n.d(e,"easeBackOut",(function(){return E})),n.d(e,"easeBackInOut",(function(){return C})),n.d(e,"easeElastic",(function(){return N})),n.d(e,"easeElasticIn",(function(){return O})),n.d(e,"easeElasticOut",(function(){return N})),n.d(e,"easeElasticInOut",(function(){return P}))},function(t,e,n){"use strict";n.r(e);var r=n(0);function i(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function a(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}var o=n(25),u=Array.prototype,s=u.map,l=u.slice,c={name:"implicit"};function h(){var t=Object(o.map)(),e=[],n=[],r=c;function a(i){var a=i+"",o=t.get(a);if(!o){if(r!==c)return r;t.set(a,o=e.push(i))}return n[(o-1)%n.length]}return a.domain=function(n){if(!arguments.length)return e.slice();e=[],t=Object(o.map)();for(var r,i,u=-1,s=n.length;++u<s;)t.has(i=(r=n[u])+"")||t.set(i,e.push(r));return a},a.range=function(t){return arguments.length?(n=l.call(t),a):n.slice()},a.unknown=function(t){return arguments.length?(r=t,a):r},a.copy=function(){return h(e,n).unknown(r)},i.apply(a,arguments),a}function f(){var t,e,n=h().unknown(void 0),a=n.domain,o=n.range,u=[0,1],s=!1,l=0,c=0,d=.5;function p(){var n=a().length,i=u[1]<u[0],h=u[i-0],f=u[1-i];t=(f-h)/Math.max(1,n-l+2*c),s&&(t=Math.floor(t)),h+=(f-h-t*(n-l))*d,e=t*(1-l),s&&(h=Math.round(h),e=Math.round(e));var p=Object(r.range)(n).map((function(e){return h+t*e}));return o(i?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(a(t),p()):a()},n.range=function(t){return arguments.length?(u=[+t[0],+t[1]],p()):u.slice()},n.rangeRound=function(t){return u=[+t[0],+t[1]],s=!0,p()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(s=!!t,p()):s},n.padding=function(t){return arguments.length?(l=Math.min(1,c=+t),p()):l},n.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),p()):l},n.paddingOuter=function(t){return arguments.length?(c=+t,p()):c},n.align=function(t){return arguments.length?(d=Math.max(0,Math.min(1,t)),p()):d},n.copy=function(){return f(a(),u).round(s).paddingInner(l).paddingOuter(c).align(d)},i.apply(p(),arguments)}function d(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return d(e())},t}function p(){return d(f.apply(null,arguments).paddingInner(1))}var g=n(41),m=n(14),v=n(83),y=function(t){return+t},x=[0,1];function b(t){return t}function w(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function _(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function M(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=w(i,r),a=n(o,a)):(r=w(r,i),a=n(a,o)),function(t){return a(r(t))}}function A(t,e,n){var i=Math.min(t.length,e.length)-1,a=new Array(i),o=new Array(i),u=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<i;)a[u]=w(t[u],t[u+1]),o[u]=n(e[u],e[u+1]);return function(e){var n=Object(r.bisect)(t,e,1,i)-1;return o[n](a[n](e))}}function k(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function T(){var t,e,n,r,i,a,o=x,u=x,c=g.a,h=b;function f(){return r=Math.min(o.length,u.length)>2?A:M,i=a=null,d}function d(e){return isNaN(e=+e)?n:(i||(i=r(o.map(t),u,c)))(t(h(e)))}return d.invert=function(n){return h(e((a||(a=r(u,o.map(t),m.a)))(n)))},d.domain=function(t){return arguments.length?(o=s.call(t,y),h===b||(h=_(o)),f()):o.slice()},d.range=function(t){return arguments.length?(u=l.call(t),f()):u.slice()},d.rangeRound=function(t){return u=l.call(t),c=v.a,f()},d.clamp=function(t){return arguments.length?(h=t?_(o):b,d):h!==b},d.interpolate=function(t){return arguments.length?(c=t,f()):c},d.unknown=function(t){return arguments.length?(n=t,d):n},function(n,r){return t=n,e=r,f()}}function E(t,e){return T()(t,e)}var C=n(40),S=n(81),O=n(56),N=n(82),P=n(80),D=function(t,e,n,i){var a,o=Object(r.tickStep)(t,e,n);switch((i=Object(C.b)(null==i?",f":i)).type){case"s":var u=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(a=Object(S.a)(o,u))||(i.precision=a),Object(O.c)(i,u);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(a=Object(N.a)(o,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=a-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(a=Object(P.a)(o))||(i.precision=a-2*("%"===i.type))}return Object(O.b)(i)};function B(t){var e=t.domain;return t.ticks=function(t){var n=e();return Object(r.ticks)(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return D(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,a=e(),o=0,u=a.length-1,s=a[o],l=a[u];return l<s&&(i=s,s=l,l=i,i=o,o=u,u=i),(i=Object(r.tickIncrement)(s,l,n))>0?(s=Math.floor(s/i)*i,l=Math.ceil(l/i)*i,i=Object(r.tickIncrement)(s,l,n)):i<0&&(s=Math.ceil(s*i)/i,l=Math.floor(l*i)/i,i=Object(r.tickIncrement)(s,l,n)),i>0?(a[o]=Math.floor(s/i)*i,a[u]=Math.ceil(l/i)*i,e(a)):i<0&&(a[o]=Math.ceil(s*i)/i,a[u]=Math.floor(l*i)/i,e(a)),t},t}function R(){var t=E(b,b);return t.copy=function(){return k(t,R())},i.apply(t,arguments),B(t)}function I(t){var e;function n(t){return isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=s.call(e,y),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return I(t).unknown(e)},t=arguments.length?s.call(t,y):[0,1],B(n)}var L=function(t,e){var n,r=0,i=(t=t.slice()).length-1,a=t[r],o=t[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),t[r]=e.floor(a),t[i]=e.ceil(o),t};function j(t){return Math.log(t)}function F(t){return Math.exp(t)}function V(t){return-Math.log(-t)}function z(t){return-Math.exp(-t)}function U(t){return isFinite(t)?+("1e"+t):t<0?0:t}function H(t){return function(e){return-t(-e)}}function q(t){var e,n,i=t(j,F),a=i.domain,o=10;function u(){return e=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(o),n=function(t){return 10===t?U:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(o),a()[0]<0?(e=H(e),n=H(n),t(V,z)):t(j,F),i}return i.base=function(t){return arguments.length?(o=+t,u()):o},i.domain=function(t){return arguments.length?(a(t),u()):a()},i.ticks=function(t){var i,u=a(),s=u[0],l=u[u.length-1];(i=l<s)&&(d=s,s=l,l=d);var c,h,f,d=e(s),p=e(l),g=null==t?10:+t,m=[];if(!(o%1)&&p-d<g){if(d=Math.round(d)-1,p=Math.round(p)+1,s>0){for(;d<p;++d)for(h=1,c=n(d);h<o;++h)if(!((f=c*h)<s)){if(f>l)break;m.push(f)}}else for(;d<p;++d)for(h=o-1,c=n(d);h>=1;--h)if(!((f=c*h)<s)){if(f>l)break;m.push(f)}}else m=Object(r.ticks)(d,p,Math.min(p-d,g)).map(n);return i?m.reverse():m},i.tickFormat=function(t,r){if(null==r&&(r=10===o?".0e":","),"function"!=typeof r&&(r=Object(O.b)(r)),t===1/0)return r;null==t&&(t=10);var a=Math.max(1,o*t/i.ticks().length);return function(t){var i=t/n(Math.round(e(t)));return i*o<o-.5&&(i*=o),i<=a?r(t):""}},i.nice=function(){return a(L(a(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},i}function Y(){var t=q(T()).domain([1,10]);return t.copy=function(){return k(t,Y()).base(t.base())},i.apply(t,arguments),t}function X(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function G(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function W(t){var e=1,n=t(X(e),G(e));return n.constant=function(n){return arguments.length?t(X(e=+n),G(e)):e},B(n)}function $(){var t=W(T());return t.copy=function(){return k(t,$()).constant(t.constant())},i.apply(t,arguments)}function Q(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Z(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function K(t){return t<0?-t*t:t*t}function J(t){var e=t(b,b),n=1;function r(){return 1===n?t(b,b):.5===n?t(Z,K):t(Q(n),Q(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},B(e)}function tt(){var t=J(T());return t.copy=function(){return k(t,tt()).exponent(t.exponent())},i.apply(t,arguments),t}function et(){return tt.apply(null,arguments).exponent(.5)}function nt(){var t,e=[],n=[],a=[];function o(){var t=0,i=Math.max(1,n.length);for(a=new Array(i-1);++t<i;)a[t-1]=Object(r.quantile)(e,t/i);return u}function u(e){return isNaN(e=+e)?t:n[Object(r.bisect)(a,e)]}return u.invertExtent=function(t){var r=n.indexOf(t);return r<0?[NaN,NaN]:[r>0?a[r-1]:e[0],r<a.length?a[r]:e[e.length-1]]},u.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,i=0,a=t.length;i<a;++i)null==(n=t[i])||isNaN(n=+n)||e.push(n);return e.sort(r.ascending),o()},u.range=function(t){return arguments.length?(n=l.call(t),o()):n.slice()},u.unknown=function(e){return arguments.length?(t=e,u):t},u.quantiles=function(){return a.slice()},u.copy=function(){return nt().domain(e).range(n).unknown(t)},i.apply(u,arguments)}function rt(){var t,e=0,n=1,a=1,o=[.5],u=[0,1];function s(e){return e<=e?u[Object(r.bisect)(o,e,0,a)]:t}function c(){var t=-1;for(o=new Array(a);++t<a;)o[t]=((t+1)*n-(t-a)*e)/(a+1);return s}return s.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],c()):[e,n]},s.range=function(t){return arguments.length?(a=(u=l.call(t)).length-1,c()):u.slice()},s.invertExtent=function(t){var r=u.indexOf(t);return r<0?[NaN,NaN]:r<1?[e,o[0]]:r>=a?[o[a-1],n]:[o[r-1],o[r]]},s.unknown=function(e){return arguments.length?(t=e,s):s},s.thresholds=function(){return o.slice()},s.copy=function(){return rt().domain([e,n]).range(u).unknown(t)},i.apply(B(s),arguments)}function it(){var t,e=[.5],n=[0,1],a=1;function o(i){return i<=i?n[Object(r.bisect)(e,i,0,a)]:t}return o.domain=function(t){return arguments.length?(e=l.call(t),a=Math.min(e.length,n.length-1),o):e.slice()},o.range=function(t){return arguments.length?(n=l.call(t),a=Math.min(e.length,n.length-1),o):n.slice()},o.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return it().domain(e).range(n).unknown(t)},i.apply(o,arguments)}var at=n(33),ot=n(69),ut=n(5),st=n(53),lt=n(70),ct=n(71),ht=n(51),ft=n(52),dt=n(21);function pt(t){return new Date(t)}function gt(t){return t instanceof Date?+t:+new Date(+t)}function mt(t,e,n,i,a,o,u,l,c){var h=E(b,b),f=h.invert,d=h.domain,p=c(".%L"),g=c(":%S"),m=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),x=c("%b %d"),w=c("%B"),_=c("%Y"),M=[[u,1,1e3],[u,5,5e3],[u,15,15e3],[u,30,3e4],[o,1,6e4],[o,5,3e5],[o,15,9e5],[o,30,18e5],[a,1,36e5],[a,3,108e5],[a,6,216e5],[a,12,432e5],[i,1,864e5],[i,2,1728e5],[n,1,6048e5],[e,1,2592e6],[e,3,7776e6],[t,1,31536e6]];function A(r){return(u(r)<r?p:o(r)<r?g:a(r)<r?m:i(r)<r?v:e(r)<r?n(r)<r?y:x:t(r)<r?w:_)(r)}function T(e,n,i,a){if(null==e&&(e=10),"number"==typeof e){var o=Math.abs(i-n)/e,u=Object(r.bisector)((function(t){return t[2]})).right(M,o);u===M.length?(a=Object(r.tickStep)(n/31536e6,i/31536e6,e),e=t):u?(a=(u=M[o/M[u-1][2]<M[u][2]/o?u-1:u])[1],e=u[0]):(a=Math.max(Object(r.tickStep)(n,i,e),1),e=l)}return null==a?e:e.every(a)}return h.invert=function(t){return new Date(f(t))},h.domain=function(t){return arguments.length?d(s.call(t,gt)):d().map(pt)},h.ticks=function(t,e){var n,r=d(),i=r[0],a=r[r.length-1],o=a<i;return o&&(n=i,i=a,a=n),n=(n=T(t,i,a,e))?n.range(i,a+1):[],o?n.reverse():n},h.tickFormat=function(t,e){return null==e?A:c(e)},h.nice=function(t,e){var n=d();return(t=T(t,n[0],n[n.length-1],e))?d(L(n,t)):h},h.copy=function(){return k(h,mt(t,e,n,i,a,o,u,l,c))},h}var vt=function(){return i.apply(mt(at.a,ot.a,ut.g,st.b,lt.a,ct.a,ht.a,ft.a,dt.b).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},yt=n(34),xt=n(72),bt=n(6),wt=n(54),_t=n(73),Mt=n(74),At=function(){return i.apply(mt(yt.a,xt.a,bt.g,wt.a,_t.a,Mt.a,ht.a,ft.a,dt.d).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)};function kt(){var t,e,n,r,i,a=0,o=1,u=b,s=!1;function l(e){return isNaN(e=+e)?i:u(0===n?.5:(e=(r(e)-t)*n,s?Math.max(0,Math.min(1,e)):e))}return l.domain=function(i){return arguments.length?(t=r(a=+i[0]),e=r(o=+i[1]),n=t===e?0:1/(e-t),l):[a,o]},l.clamp=function(t){return arguments.length?(s=!!t,l):s},l.interpolator=function(t){return arguments.length?(u=t,l):u},l.unknown=function(t){return arguments.length?(i=t,l):i},function(i){return r=i,t=i(a),e=i(o),n=t===e?0:1/(e-t),l}}function Tt(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Et(){var t=B(kt()(b));return t.copy=function(){return Tt(t,Et())},a.apply(t,arguments)}function Ct(){var t=q(kt()).domain([1,10]);return t.copy=function(){return Tt(t,Ct()).base(t.base())},a.apply(t,arguments)}function St(){var t=W(kt());return t.copy=function(){return Tt(t,St()).constant(t.constant())},a.apply(t,arguments)}function Ot(){var t=J(kt());return t.copy=function(){return Tt(t,Ot()).exponent(t.exponent())},a.apply(t,arguments)}function Nt(){return Ot.apply(null,arguments).exponent(.5)}function Pt(){var t=[],e=b;function n(n){if(!isNaN(n=+n))return e((Object(r.bisect)(t,n)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var i,a=0,o=e.length;a<o;++a)null==(i=e[a])||isNaN(i=+i)||t.push(i);return t.sort(r.ascending),n},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return Pt(e).domain(t)},a.apply(n,arguments)}function Dt(){var t,e,n,r,i,a,o,u=0,s=.5,l=1,c=b,h=!1;function f(t){return isNaN(t=+t)?o:(t=.5+((t=+a(t))-e)*(t<e?r:i),c(h?Math.max(0,Math.min(1,t)):t))}return f.domain=function(o){return arguments.length?(t=a(u=+o[0]),e=a(s=+o[1]),n=a(l=+o[2]),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),f):[u,s,l]},f.clamp=function(t){return arguments.length?(h=!!t,f):h},f.interpolator=function(t){return arguments.length?(c=t,f):c},f.unknown=function(t){return arguments.length?(o=t,f):o},function(o){return a=o,t=o(u),e=o(s),n=o(l),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),f}}function Bt(){var t=B(Dt()(b));return t.copy=function(){return Tt(t,Bt())},a.apply(t,arguments)}function Rt(){var t=q(Dt()).domain([.1,1,10]);return t.copy=function(){return Tt(t,Rt()).base(t.base())},a.apply(t,arguments)}function It(){var t=W(Dt());return t.copy=function(){return Tt(t,It()).constant(t.constant())},a.apply(t,arguments)}function Lt(){var t=J(Dt());return t.copy=function(){return Tt(t,Lt()).exponent(t.exponent())},a.apply(t,arguments)}function jt(){return Lt.apply(null,arguments).exponent(.5)}n.d(e,"scaleBand",(function(){return f})),n.d(e,"scalePoint",(function(){return p})),n.d(e,"scaleIdentity",(function(){return I})),n.d(e,"scaleLinear",(function(){return R})),n.d(e,"scaleLog",(function(){return Y})),n.d(e,"scaleSymlog",(function(){return $})),n.d(e,"scaleOrdinal",(function(){return h})),n.d(e,"scaleImplicit",(function(){return c})),n.d(e,"scalePow",(function(){return tt})),n.d(e,"scaleSqrt",(function(){return et})),n.d(e,"scaleQuantile",(function(){return nt})),n.d(e,"scaleQuantize",(function(){return rt})),n.d(e,"scaleThreshold",(function(){return it})),n.d(e,"scaleTime",(function(){return vt})),n.d(e,"scaleUtc",(function(){return At})),n.d(e,"scaleSequential",(function(){return Et})),n.d(e,"scaleSequentialLog",(function(){return Ct})),n.d(e,"scaleSequentialPow",(function(){return Ot})),n.d(e,"scaleSequentialSqrt",(function(){return Nt})),n.d(e,"scaleSequentialSymlog",(function(){return St})),n.d(e,"scaleSequentialQuantile",(function(){return Pt})),n.d(e,"scaleDiverging",(function(){return Bt})),n.d(e,"scaleDivergingLog",(function(){return Rt})),n.d(e,"scaleDivergingPow",(function(){return Lt})),n.d(e,"scaleDivergingSqrt",(function(){return jt})),n.d(e,"scaleDivergingSymlog",(function(){return It})),n.d(e,"tickFormat",(function(){return D}))},function(t,e,n){"use strict";n.r(e);var r=n(79);n.d(e,"dispatch",(function(){return r.a}))},function(t,e,n){"use strict";e.a=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}},function(t,e,n){"use strict";function r(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}n.d(e,"b",(function(){return r})),e.a=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t}},function(t,e,n){"use strict";n.r(e);var r=n(7);n.d(e,"color",(function(){return r.e})),n.d(e,"rgb",(function(){return r.g})),n.d(e,"hsl",(function(){return r.f}));var i=n(50);n.d(e,"lab",(function(){return i.a})),n.d(e,"hcl",(function(){return i.c})),n.d(e,"lch",(function(){return i.d})),n.d(e,"gray",(function(){return i.b}));var a=n(78);n.d(e,"cubehelix",(function(){return a.a}))},function(t,e,n){"use strict";var r;void 0===(r=function(t){var e=n(91),r=n(10).colorSchemas,i=(n(35),n(96)),a="undefined"!=typeof window&&window.btoa;a||(a=n(97).encode);var o={styleClass:"britechartStyle",defaultFilename:"britechart.png",chartBackground:"#ffffff",imageSourceBase:"data:image/svg+xml;base64,",titleFontSize:"36px",titleFontFamily:"'Avenir Next', sans-serif",titleTopOffset:25,titleLeftOffset:10,get styleBackgroundString(){return"<style>svg{background:"+this.chartBackground+";padding: 20px;}</style>"}};function u(t,e){if(t){t.attr("version",1.1).attr("xmlns","http://www.w3.org/2000/svg");var n=i.initializeSerializer()(t.node());return n=function(t){if(navigator.userAgent.search("FireFox")>-1)return t.replace(/url.*&quot;\)/,'url(&quot;linearGradient[id*="-gradient-"]&quot;);');return t}(n),n=function(t){return t.replace(">",">"+o.styleBackgroundString)}(n=h.call(this,n,e,parseInt(t.attr("width"),10)))}}function s(t){var e=new Image;return e.src=""+o.imageSourceBase+a(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(function(t,e){return String.fromCharCode("0x"+e)}))),e}function l(t,e){return e.getContext("2d").drawImage(t,0,0),e}function c(t,e,n){n.preventDefault(),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.defaultFilename,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image/png",r=t.toDataURL(n),i=document.createElement("a");i.href=r,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i)}(l(this,t),e)}function h(t,e,n){if(!e||!n)return t;var i=r.grey;return t=t.replace(/<g/,'<text x="'+this.margin().left+'" y="'+o.titleTopOffset+'" font-family="'+o.titleFontFamily+'" font-size="'+o.titleFontSize+'" fill="'+i[6]+'"> '+e+" </text><g ")}return{exportChart:function(t,n,r){var i=u.call(this,t,r),a=function(t,e){var n=document.createElement("canvas");return n.height=e,n.width=t,n}(this.width(),this.height());if(navigator.msSaveOrOpenBlob){return e(a,i,{log:!1,ignoreMouse:!0}),navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob(a.msToBlob(),n)}var o=s(i);o.onload=c.bind(o,a,n)},convertSvgToHtml:u,createImage:s,drawImageOnCanvas:l}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";var r;void 0===(r=function(){return{bar:'\n            <svg class="load-state bar-load-state" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 711 325">\n              \n            <defs>\n                <linearGradient id="lgrad" x1="0%" y1="50%" x2="100%" y2="50%" >\n                    <stop offset="0" stop-color="#ffffff" stop-opacity="0.8" />\n                    <stop offset="33.33%" stop-color="#ffffff" stop-opacity="0.8" />\n                    <stop offset="50%" stop-color="#ffffff" stop-opacity="0" />\n                    <stop offset="66.66%" stop-color="#ffffff" stop-opacity="0.8" />\n                    <stop offset="100%" stop-color="#ffffff" stop-opacity="0.8" />\n                </linearGradient>\n            </defs>\n        \n                <g fill="none" fill-rule="evenodd">\n                    <g transform="translate(0 29)">\n                        <g stroke="#EFF2F5" stroke-dasharray="4 4">\n                            <path d="M.400592911 200.302477L710.674315 200.302477M.400592884 131.172748L710.674315 131.172748M.324410282 64.2071321L710.621499 64.2071321M.291004517.563888874L709.82431.563888889"/>\n                        </g>\n                        <g fill="#D2D6DF" transform="translate(63.08 11)">\n                            <polygon points="-.08 176 23.92 176 23.92 255 -.08 255"/>\n                            <polygon points="50.829 147 74.829 147 74.829 255 50.829 255"/>\n                            <polygon points="254.465 0 278.465 0 278.465 255 254.465 255"/>\n                            <polygon points="458.102 169 482.102 169 482.102 255 458.102 255"/>\n                            <polygon points="152.647 82 176.647 82 176.647 255 152.647 255"/>\n                            <polygon points="356.283 66 380.283 66 380.283 255 356.283 255"/>\n                            <polygon points="559.92 229 583.92 229 583.92 255 559.92 255"/>\n                            <polygon points="101.738 115 125.738 115 125.738 255 101.738 255"/>\n                            <polygon points="305.374 42 329.374 42 329.374 255 305.374 255"/>\n                            <polygon points="509.011 201 533.011 201 533.011 255 509.011 255"/>\n                            <polygon points="203.556 19 227.556 19 227.556 255 203.556 255"/>\n                            <polygon points="407.192 115 431.192 115 431.192 255 407.192 255"/>\n                        </g>\n                    </g>\n                    <polygon fill="#D2D6DF" fill-rule="nonzero" points="0 295 711 295 711 294 0 294"/>\n                </g>\n                <rect class="chart-filter" fill="url(#lgrad)" x="-100%" y="0" width="300%" height="100%"></rect>\n            </svg>\n        ',donut:'\n            <svg class="load-state donut-load-state" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 376 331">\n                \n            <defs>\n                <linearGradient id="lgrad" x1="0%" y1="50%" x2="100%" y2="50%" >\n                    <stop offset="0" stop-color="#ffffff" stop-opacity="0.8" />\n                    <stop offset="33.33%" stop-color="#ffffff" stop-opacity="0.8" />\n                    <stop offset="50%" stop-color="#ffffff" stop-opacity="0" />\n                    <stop offset="66.66%" stop-color="#ffffff" stop-opacity="0.8" />\n                    <stop offset="100%" stop-color="#ffffff" stop-opacity="0.8" />\n                </linearGradient>\n            </defs>\n        \n                <g fill="none" fill-rule="evenodd">\n                    <g transform="translate(116 107)">\n                        <circle cx="72" cy="72" r="72" stroke="#EFF2F5" stroke-linecap="round" stroke-width="9.6"/>\n                        <path stroke="#D2D6DF" stroke-width="19.2" d="M126.153559,119.524055 C137.264629,106.845712 144,90.2321371 144,72.0444604 C144,32.2554036 111.764502,0 72,0"/>\n                        <circle cx="72" cy="72" r="67.2" fill="#FFF"/>\n                    </g>\n                </g>\n                <rect class="chart-filter" fill="url(#lgrad)" x="-100%" y="0" width="300%" height="100%"></rect>\n            </svg>\n        ',line:'\n            <svg\n                class="load-state line-load-state"\n                xmlns="http://www.w3.org/2000/svg"\n                viewBox="0 0 711 325"\n            >\n                \n            <defs>\n                <linearGradient id="lgrad" x1="0%" y1="50%" x2="100%" y2="50%" >\n                    <stop offset="0" stop-color="#ffffff" stop-opacity="0.8" />\n                    <stop offset="33.33%" stop-color="#ffffff" stop-opacity="0.8" />\n                    <stop offset="50%" stop-color="#ffffff" stop-opacity="0" />\n                    <stop offset="66.66%" stop-color="#ffffff" stop-opacity="0.8" />\n                    <stop offset="100%" stop-color="#ffffff" stop-opacity="0.8" />\n                </linearGradient>\n            </defs>\n        \n                <path\n                    id="chart-bg"\n                    class="chart-bg"\n                    style="stroke:#C3C6CF;"\n                    d="M3.4,216.5h707.3 M3.4,160.5h707.3 M3.3,103.5h707.3 M3.3,48.5h707.6 M0.4,276.6H710H0.4z"\n                />\n                <polyline\n                    id="chart-line"\n                    class="chart-line"\n                    style="stroke:#C3C6CF;stroke-width:4;fill:none;"\n                    points="8.8,175.8 62.4,237.7 116.1,184.7 169.7,175.8 223.3,57 277,176.8 330.6,176.8 384.3,122.5 437.9,176.8 491.6,176.8 545.2,218.4 598.8,122.5 652.5,184.7 706.1,135.1 "\n                />\n                <rect class="chart-filter" fill="url(#lgrad)" x="-100%" y="0" width="300%" height="100%"></rect>\n            </svg>\n        ',row:'\n            <svg class="load-state row-load-state" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 711 325">\n              \n            <defs>\n                <linearGradient id="lgrad" x1="0%" y1="50%" x2="100%" y2="50%" >\n                    <stop offset="0" stop-color="#ffffff" stop-opacity="0.8" />\n                    <stop offset="33.33%" stop-color="#ffffff" stop-opacity="0.8" />\n                    <stop offset="50%" stop-color="#ffffff" stop-opacity="0" />\n                    <stop offset="66.66%" stop-color="#ffffff" stop-opacity="0.8" />\n                    <stop offset="100%" stop-color="#ffffff" stop-opacity="0.8" />\n                </linearGradient>\n            </defs>\n        \n                <g fill="none" fill-rule="evenodd">\n                    <g transform="translate(0 29)">\n                        <g stroke="#EFF2F5" stroke-dasharray="4 4">\n                            <path d="M.400592911 200.302477L710.674315 200.302477M.400592884 131.172748L710.674315 131.172748M.324410282 64.2071321L710.621499 64.2071321M.291004517.563888874L709.82431.563888889"/>\n                        </g>\n                        <g fill="#D2D6DF" transform="translate(63.08 11)">\n                            <polygon points="-.08 176 23.92 176 23.92 255 -.08 255"/>\n                            <polygon points="50.829 147 74.829 147 74.829 255 50.829 255"/>\n                            <polygon points="254.465 0 278.465 0 278.465 255 254.465 255"/>\n                            <polygon points="458.102 169 482.102 169 482.102 255 458.102 255"/>\n                            <polygon points="152.647 82 176.647 82 176.647 255 152.647 255"/>\n                            <polygon points="356.283 66 380.283 66 380.283 255 356.283 255"/>\n                            <polygon points="559.92 229 583.92 229 583.92 255 559.92 255"/>\n                            <polygon points="101.738 115 125.738 115 125.738 255 101.738 255"/>\n                            <polygon points="305.374 42 329.374 42 329.374 255 305.374 255"/>\n                            <polygon points="509.011 201 533.011 201 533.011 255 509.011 255"/>\n                            <polygon points="203.556 19 227.556 19 227.556 255 203.556 255"/>\n                            <polygon points="407.192 115 431.192 115 431.192 255 407.192 255"/>\n                        </g>\n                    </g>\n                    <polygon fill="#D2D6DF" fill-rule="nonzero" points="0 295 711 295 711 294 0 294"/>\n                </g>\n                <rect class="chart-filter" fill="url(#lgrad)" x="-100%" y="0" width="300%" height="100%"></rect>\n            </svg>\n        ',stackedArea:'\n            <svg\n                class="load-state stacked-area-load-state"\n                xmlns="http://www.w3.org/2000/svg"\n                viewBox="0 0 711 325"\n            >\n                \n            <defs>\n                <linearGradient id="lgrad" x1="0%" y1="50%" x2="100%" y2="50%" >\n                    <stop offset="0" stop-color="#ffffff" stop-opacity="0.8" />\n                    <stop offset="33.33%" stop-color="#ffffff" stop-opacity="0.8" />\n                    <stop offset="50%" stop-color="#ffffff" stop-opacity="0" />\n                    <stop offset="66.66%" stop-color="#ffffff" stop-opacity="0.8" />\n                    <stop offset="100%" stop-color="#ffffff" stop-opacity="0.8" />\n                </linearGradient>\n            </defs>\n        \n                <path\n                    id="chart-bg"\n                    class="chart-bg"\n                    style="stroke:#C3C6CF;"\n                    d="M3.4,216.5h707.3 M3.4,160.5h707.3 M3.3,103.5h707.3 M3.3,48.5h707.6 M0.4,276.6H710H0.4z"\n                />\n                <g transform="translate(20 50)">\n                    <path\n                        id="chart-area"\n                        strokeLinecap="square"\n                        d="M0.34233103,0.593688165 L709.977885,0.593688189"\n                        transform="translate(.01 227.976)"\n                    />\n                    <path fill="#C3C6CF" d="M0.528124801,224.014648 L0.528124801,177.734375 L53.3834796,177.734375 C71.5390789,177.734375 86.8277373,168.972754 101.240241,151.662202 C112.578335,138.044258 121.139826,123.110227 136.974507,91.596773 C137.343842,90.8617404 139.300293,86.9654028 139.856735,85.8583549 C155.041692,55.6476711 163.354313,41.0906306 174.319873,27.7179171 C188.951312,9.87459412 204.885845,0.5 223.830634,0.5 C242.123071,0.5 257.291724,8.27027858 270.907992,23.1359289 C281.228683,34.4036118 289.135925,47.1272372 302.542017,72.085092 C303.275893,73.4513345 306.289669,79.0766612 307.063369,80.5168656 C321.41025,107.222876 330.088083,120.97663 341.470704,132.92446 C355.88994,148.05969 371.908861,155.792969 391.654853,155.792969 C412.142049,155.792969 428.763593,152.325614 442.880698,145.765582 C454.197328,140.506893 463.373931,133.679865 473.786035,123.626931 C476.528659,120.978915 486.44777,110.911455 488.791866,108.6483 C502.907223,95.0203436 514.194325,88.9355469 530.135322,88.9355469 C546.532652,88.9355469 559.505909,97.338499 575.973261,115.41103 C579.723508,119.526837 593.103621,135.086814 592.915496,134.871799 C605.09738,148.794859 614.368835,157.635549 625.072091,164.58539 C638.386599,173.230769 652.701021,177.734375 669.279853,177.734375 L673.779853,177.734375 L673.779853,224.014648 L0.528124801,224.014648 Z" />\n                </g>\n                <rect class="chart-filter" fill="url(#lgrad)" x="-100%" y="0" width="300%" height="100%"></rect>\n            </svg>\n        '}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";n.r(e);var r=Array.prototype.slice,i=function(t){return t};function a(t){return"translate("+(t+.5)+",0)"}function o(t){return"translate(0,"+(t+.5)+")"}function u(t){return function(e){return+t(e)}}function s(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function l(){return!this.__axis}function c(t,e){var n=[],c=null,h=null,f=6,d=6,p=3,g=1===t||4===t?-1:1,m=4===t||2===t?"x":"y",v=1===t||3===t?a:o;function y(r){var a=null==c?e.ticks?e.ticks.apply(e,n):e.domain():c,o=null==h?e.tickFormat?e.tickFormat.apply(e,n):i:h,y=Math.max(f,0)+p,x=e.range(),b=+x[0]+.5,w=+x[x.length-1]+.5,_=(e.bandwidth?s:u)(e.copy()),M=r.selection?r.selection():r,A=M.selectAll(".domain").data([null]),k=M.selectAll(".tick").data(a,e).order(),T=k.exit(),E=k.enter().append("g").attr("class","tick"),C=k.select("line"),S=k.select("text");A=A.merge(A.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),k=k.merge(E),C=C.merge(E.append("line").attr("stroke","currentColor").attr(m+"2",g*f)),S=S.merge(E.append("text").attr("fill","currentColor").attr(m,g*y).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),r!==M&&(A=A.transition(r),k=k.transition(r),C=C.transition(r),S=S.transition(r),T=T.transition(r).attr("opacity",1e-6).attr("transform",(function(t){return isFinite(t=_(t))?v(t):this.getAttribute("transform")})),E.attr("opacity",1e-6).attr("transform",(function(t){var e=this.parentNode.__axis;return v(e&&isFinite(e=e(t))?e:_(t))}))),T.remove(),A.attr("d",4===t||2==t?d?"M"+g*d+","+b+"H0.5V"+w+"H"+g*d:"M0.5,"+b+"V"+w:d?"M"+b+","+g*d+"V0.5H"+w+"V"+g*d:"M"+b+",0.5H"+w),k.attr("opacity",1).attr("transform",(function(t){return v(_(t))})),C.attr(m+"2",g*f),S.attr(m,g*y).text(o),M.filter(l).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),M.each((function(){this.__axis=_}))}return y.scale=function(t){return arguments.length?(e=t,y):e},y.ticks=function(){return n=r.call(arguments),y},y.tickArguments=function(t){return arguments.length?(n=null==t?[]:r.call(t),y):n.slice()},y.tickValues=function(t){return arguments.length?(c=null==t?null:r.call(t),y):c&&c.slice()},y.tickFormat=function(t){return arguments.length?(h=t,y):h},y.tickSize=function(t){return arguments.length?(f=d=+t,y):f},y.tickSizeInner=function(t){return arguments.length?(f=+t,y):f},y.tickSizeOuter=function(t){return arguments.length?(d=+t,y):d},y.tickPadding=function(t){return arguments.length?(p=+t,y):p},y}function h(t){return c(1,t)}function f(t){return c(2,t)}function d(t){return c(3,t)}function p(t){return c(4,t)}n.d(e,"axisTop",(function(){return h})),n.d(e,"axisRight",(function(){return f})),n.d(e,"axisBottom",(function(){return d})),n.d(e,"axisLeft",(function(){return p}))},function(t,e,n){"use strict";n.r(e);var r=n(41),i=n(61),a=n(42),o=n(58),u=n(60),s=function(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}},l=n(4),c=function(t,e){var n=Object(l.c)(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}},h=n(14),f=n(31),d=n(62),p=n(83),g=n(59),m=n(77),v=Math.SQRT2;function y(t){return((t=Math.exp(t))+1/t)/2}var x=function(t,e){var n,r,i=t[0],a=t[1],o=t[2],u=e[0],s=e[1],l=e[2],c=u-i,h=s-a,f=c*c+h*h;if(f<1e-12)r=Math.log(l/o)/v,n=function(t){return[i+t*c,a+t*h,o*Math.exp(v*t*r)]};else{var d=Math.sqrt(f),p=(l*l-o*o+4*f)/(2*o*2*d),g=(l*l-o*o-4*f)/(2*l*2*d),m=Math.log(Math.sqrt(p*p+1)-p),x=Math.log(Math.sqrt(g*g+1)-g);r=(x-m)/v,n=function(t){var e,n=t*r,u=y(m),s=o/(2*d)*(u*(e=v*n+m,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(m));return[i+s*c,a+s*h,o*u/y(v*n+m)]}}return n.duration=1e3*r,n},b=n(36),w=n(7);function _(t){return function(e,n){var r=t((e=Object(w.f)(e)).h,(n=Object(w.f)(n)).h),i=Object(l.a)(e.s,n.s),a=Object(l.a)(e.l,n.l),o=Object(l.a)(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=a(t),e.opacity=o(t),e+""}}}var M=_(l.c),A=_(l.a),k=n(50);function T(t,e){var n=Object(l.a)((t=Object(k.a)(t)).l,(e=Object(k.a)(e)).l),r=Object(l.a)(t.a,e.a),i=Object(l.a)(t.b,e.b),a=Object(l.a)(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=a(e),t+""}}function E(t){return function(e,n){var r=t((e=Object(k.c)(e)).h,(n=Object(k.c)(n)).h),i=Object(l.a)(e.c,n.c),a=Object(l.a)(e.l,n.l),o=Object(l.a)(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=a(t),e.opacity=o(t),e+""}}}var C=E(l.c),S=E(l.a),O=n(78);function N(t){return function e(n){function r(e,r){var i=t((e=Object(O.a)(e)).h,(r=Object(O.a)(r)).h),a=Object(l.a)(e.s,r.s),o=Object(l.a)(e.l,r.l),u=Object(l.a)(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=a(t),e.l=o(Math.pow(t,n)),e.opacity=u(t),e+""}}return n=+n,r.gamma=e,r}(1)}var P=N(l.c),D=N(l.a);function B(t,e){for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return a[e](t-e)}}var R=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n};n.d(e,"interpolate",(function(){return r.a})),n.d(e,"interpolateArray",(function(){return i.a})),n.d(e,"interpolateBasis",(function(){return a.b})),n.d(e,"interpolateBasisClosed",(function(){return o.a})),n.d(e,"interpolateDate",(function(){return u.a})),n.d(e,"interpolateDiscrete",(function(){return s})),n.d(e,"interpolateHue",(function(){return c})),n.d(e,"interpolateNumber",(function(){return h.a})),n.d(e,"interpolateNumberArray",(function(){return f.a})),n.d(e,"interpolateObject",(function(){return d.a})),n.d(e,"interpolateRound",(function(){return p.a})),n.d(e,"interpolateString",(function(){return g.a})),n.d(e,"interpolateTransformCss",(function(){return m.a})),n.d(e,"interpolateTransformSvg",(function(){return m.b})),n.d(e,"interpolateZoom",(function(){return x})),n.d(e,"interpolateRgb",(function(){return b.a})),n.d(e,"interpolateRgbBasis",(function(){return b.b})),n.d(e,"interpolateRgbBasisClosed",(function(){return b.c})),n.d(e,"interpolateHsl",(function(){return M})),n.d(e,"interpolateHslLong",(function(){return A})),n.d(e,"interpolateLab",(function(){return T})),n.d(e,"interpolateHcl",(function(){return C})),n.d(e,"interpolateHclLong",(function(){return S})),n.d(e,"interpolateCubehelix",(function(){return P})),n.d(e,"interpolateCubehelixLong",(function(){return D})),n.d(e,"piecewise",(function(){return B})),n.d(e,"quantize",(function(){return R}))},function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return o})),n.d(e,"e",(function(){return u})),n.d(e,"a",(function(){return l}));var r,i,a,o,u,s=n(63);function l(t){return r=Object(s.a)(t),i=r.format,a=r.parse,o=r.utcFormat,u=r.utcParse,r}l({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})},function(t,e,n){"use strict";var r=n(38);e.a=function(t){return(t=Object(r.a)(Math.abs(t)))?t[1]:NaN}},function(t,e,n){"use strict";var r=n(43),i=n(65),a=n(66),o=function(t){return new Array(t.length)};function u(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}u.prototype={constructor:u,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function s(t,e,n,r,i,a){for(var o,s=0,l=e.length,c=a.length;s<c;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new u(t,a[s]);for(;s<l;++s)(o=e[s])&&(i[s]=o)}function l(t,e,n,r,i,a,o){var s,l,c,h={},f=e.length,d=a.length,p=new Array(f);for(s=0;s<f;++s)(l=e[s])&&(p[s]=c="$"+o.call(l,l.__data__,s,e),c in h?i[s]=l:h[c]=l);for(s=0;s<d;++s)(l=h[c="$"+o.call(t,a[s],s,a)])?(r[s]=l,l.__data__=a[s],h[c]=null):n[s]=new u(t,a[s]);for(s=0;s<f;++s)(l=e[s])&&h[p[s]]===l&&(i[s]=l)}function c(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var h=n(44);function f(t){return function(){this.removeAttribute(t)}}function d(t){return function(){this.removeAttributeNS(t.space,t.local)}}function p(t,e){return function(){this.setAttribute(t,e)}}function g(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function m(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function v(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var y=n(67);function x(t){return function(){delete this[t]}}function b(t,e){return function(){this[t]=e}}function w(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function _(t){return t.trim().split(/^|\s+/)}function M(t){return t.classList||new A(t)}function A(t){this._node=t,this._names=_(t.getAttribute("class")||"")}function k(t,e){for(var n=M(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function T(t,e){for(var n=M(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function E(t){return function(){k(this,t)}}function C(t){return function(){T(this,t)}}function S(t,e){return function(){(e.apply(this,arguments)?k:T)(this,t)}}A.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function O(){this.textContent=""}function N(t){return function(){this.textContent=t}}function P(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function D(){this.innerHTML=""}function B(t){return function(){this.innerHTML=t}}function R(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function I(){this.nextSibling&&this.parentNode.appendChild(this)}function L(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}var j=n(29);function F(){return null}function V(){var t=this.parentNode;t&&t.removeChild(this)}function z(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function U(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}var H=n(37),q=n(45);function Y(t,e,n){var r=Object(q.a)(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function X(t,e){return function(){return Y(this,t,e)}}function G(t,e){return function(){return Y(this,t,e.apply(this,arguments))}}n.d(e,"c",(function(){return W})),n.d(e,"a",(function(){return $}));var W=[null];function $(t,e){this._groups=t,this._parents=e}function Q(){return new $([[document.documentElement]],W)}$.prototype=Q.prototype={constructor:$,select:function(t){"function"!=typeof t&&(t=Object(r.a)(t));for(var e=this._groups,n=e.length,i=new Array(n),a=0;a<n;++a)for(var o,u,s=e[a],l=s.length,c=i[a]=new Array(l),h=0;h<l;++h)(o=s[h])&&(u=t.call(o,o.__data__,h,s))&&("__data__"in o&&(u.__data__=o.__data__),c[h]=u);return new $(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=Object(i.a)(t));for(var e=this._groups,n=e.length,r=[],a=[],o=0;o<n;++o)for(var u,s=e[o],l=s.length,c=0;c<l;++c)(u=s[c])&&(r.push(t.call(u,u.__data__,c,s)),a.push(u));return new $(r,a)},filter:function(t){"function"!=typeof t&&(t=Object(a.a)(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,u=e[i],s=u.length,l=r[i]=[],c=0;c<s;++c)(o=u[c])&&t.call(o,o.__data__,c,u)&&l.push(o);return new $(r,this._parents)},data:function(t,e){if(!t)return m=new Array(this.size()),f=-1,this.each((function(t){m[++f]=t})),m;var n,r=e?l:s,i=this._parents,a=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var o=a.length,u=new Array(o),c=new Array(o),h=new Array(o),f=0;f<o;++f){var d=i[f],p=a[f],g=p.length,m=t.call(d,d&&d.__data__,f,i),v=m.length,y=c[f]=new Array(v),x=u[f]=new Array(v);r(d,p,y,x,h[f]=new Array(g),m,e);for(var b,w,_=0,M=0;_<v;++_)if(b=y[_]){for(_>=M&&(M=_+1);!(w=x[M])&&++M<v;);b._next=w||null}}return(u=new $(u,i))._enter=c,u._exit=h,u},enter:function(){return new $(this._enter||this._groups.map(o),this._parents)},exit:function(){return new $(this._exit||this._groups.map(o),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,a=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),u=0;u<a;++u)for(var s,l=e[u],c=n[u],h=l.length,f=o[u]=new Array(h),d=0;d<h;++d)(s=l[d]||c[d])&&(f[d]=s);for(;u<r;++u)o[u]=e[u];return new $(o,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=c);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,u=n[a],s=u.length,l=i[a]=new Array(s),h=0;h<s;++h)(o=u[h])&&(l[h]=o);l.sort(e)}return new $(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,a=e[n],o=0,u=a.length;o<u;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},attr:function(t,e){var n=Object(h.a)(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?d:f:"function"==typeof e?n.local?v:m:n.local?g:p)(n,e))},style:y.a,property:function(t,e){return arguments.length>1?this.each((null==e?x:"function"==typeof e?w:b)(t,e)):this.node()[t]},classed:function(t,e){var n=_(t+"");if(arguments.length<2){for(var r=M(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?S:e?E:C)(n,e))},text:function(t){return arguments.length?this.each(null==t?O:("function"==typeof t?P:N)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?D:("function"==typeof t?R:B)(t)):this.node().innerHTML},raise:function(){return this.each(I)},lower:function(){return this.each(L)},append:function(t){var e="function"==typeof t?t:Object(j.a)(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Object(j.a)(t),i=null==e?F:"function"==typeof e?e:Object(r.a)(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(V)},clone:function(t){return this.select(t?U:z)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:H.b,dispatch:function(t,e){return this.each(("function"==typeof e?G:X)(t,e))}};e.b=Q},function(t,e,n){"use strict";var r;void 0===(r=function(t){var e=n(9),r=0,i={small:{limit:10,format:e.format("")},medium:{limit:1e3,format:e.format("")},large:{limit:null,format:e.format(",d")}},a={small:{limit:10,format:e.format(".3f")},medium:{limit:100,format:e.format(".1f")},large:{limit:null,format:e.format(".2s")}},o=function(t,e){var n="large";return t<e.small.limit?n="small":t<e.medium.limit&&(n="medium"),n};return{calculatePercent:function(t,n,r){var i=n?t/n*100:0;return e.format(r)(i)},isInteger:function(t){return t%1==0},formatDecimalValue:function(t){var e=o(t,a);return(0,a[e].format)(t)},formatIntegerValue:function(t){var e=o(t,i);return(0,i[e].format)(t)},uniqueId:function(t){var e=++r;return t.toString()+"-"+e}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";n.r(e);function r(){}function i(t,e){var n=new r;if(t instanceof r)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var i,a=-1,o=t.length;if(null==e)for(;++a<o;)n.set(a,t[a]);else for(;++a<o;)n.set(e(i=t[a],a,t),i)}else if(t)for(var u in t)n.set(u,t[u]);return n}r.prototype=i.prototype={constructor:r,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var a=i,o=function(){var t,e,n,r=[],i=[];function o(n,i,u,s){if(i>=r.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var l,c,h,f=-1,d=n.length,p=r[i++],g=a(),m=u();++f<d;)(h=g.get(l=p(c=n[f])+""))?h.push(c):g.set(l,[c]);return g.each((function(t,e){s(m,e,o(t,i,u,s))})),m}return n={object:function(t){return o(t,0,u,s)},map:function(t){return o(t,0,l,c)},entries:function(t){return function t(n,a){if(++a>r.length)return n;var o,u=i[a-1];return null!=e&&a>=r.length?o=n.entries():(o=[],n.each((function(e,n){o.push({key:n,values:t(e,a)})}))),null!=u?o.sort((function(t,e){return u(t.key,e.key)})):o}(o(t,0,l,c),0)},key:function(t){return r.push(t),n},sortKeys:function(t){return i[r.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}};function u(){return{}}function s(t,e,n){t[e]=n}function l(){return a()}function c(t,e,n){t.set(e,n)}function h(){}var f=a.prototype;function d(t,e){var n=new h;if(t instanceof h)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}h.prototype=d.prototype={constructor:h,has:f.has,add:function(t){return this["$"+(t+="")]=t,this},remove:f.remove,clear:f.clear,values:f.keys,size:f.size,empty:f.empty,each:f.each};var p=d,g=function(t){var e=[];for(var n in t)e.push(n);return e},m=function(t){var e=[];for(var n in t)e.push(t[n]);return e},v=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e};n.d(e,"nest",(function(){return o})),n.d(e,"set",(function(){return p})),n.d(e,"map",(function(){return a})),n.d(e,"keys",(function(){return g})),n.d(e,"values",(function(){return m})),n.d(e,"entries",(function(){return v}))},function(t,e,n){"use strict";var r;void 0===(r=function(t){var e=n(2),r=1.2,i=10,a=.9,o=.6,u="value",s="label";return{getTextWidth:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Arial",r=document.createElement("canvas"),i=r.getContext("2d");return i.font=e+"px "+n,i.measureText(t).width},wrapText:function(t,n,l,c){var h=e.select(c),f=h.text().split(/\s+/).reverse(),d=void 0,p=[],g=0,m=r*a,v=h.attr("y"),y=parseFloat(h.attr("dy")),x=n*o,b=h.text(null).append("tspan").attr("x",t).attr("y",v-5).attr("dy",y+"em").classed(u,!0).style("font-size",n+"px");for(b.text(f.pop()),b=h.append("tspan").classed(s,!0).attr("x",t).attr("y",v+i).attr("dy",++g*m+y+"em").style("font-size",x+"px");d=f.pop();)p.push(d),b.text(p.join(" ")),b.node()&&b.node().getComputedTextLength()>l-50&&(p.pop(),b.text(p.join(" ")),p=[d],b=h.append("tspan").classed(s,!0).attr("x",t).attr("y",v+i).attr("dy",++g*m+y+"em").text(d).style("font-size",x+"px"))},wrapTextWithEllipses:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1.2;t.each((function(){var o,u,s,l,c,h,f;for(o=(t=e.select(this)).text().split(/\s+/).reverse(),s=[],l=0,c=t.attr("y"),h=parseFloat(t.attr("dy")),f=t.text(null).append("tspan").attr("x",r).attr("y",c).attr("dy",h+"em");u=o.pop();)if(s.push(u),f.text(s.join(" ")),f.node()&&f.node().getComputedTextLength()>n){if(s.pop(),f.text(s.join(" ")),!(l<i-1)){s.push("..."),f.text(s.join(" "));break}s=[u],f=t.append("tspan").attr("x",r).attr("y",c).attr("dy",++l*a+h+"em").text(u),t.classed("adjust-upwards",!0)}}))}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";n.r(e);var r=Math.PI,i=2*r,a=i-1e-6;function o(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function u(){return new o}o.prototype=u.prototype={constructor:o,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,e,n,i,a){t=+t,e=+e,n=+n,i=+i,a=+a;var o=this._x1,u=this._y1,s=n-t,l=i-e,c=o-t,h=u-e,f=c*c+h*h;if(a<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>1e-6)if(Math.abs(h*s-l*c)>1e-6&&a){var d=n-o,p=i-u,g=s*s+l*l,m=d*d+p*p,v=Math.sqrt(g),y=Math.sqrt(f),x=a*Math.tan((r-Math.acos((g+f-m)/(2*v*y)))/2),b=x/y,w=x/v;Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*c)+","+(e+b*h)),this._+="A"+a+","+a+",0,0,"+ +(h*d>c*p)+","+(this._x1=t+w*s)+","+(this._y1=e+w*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,o,u,s){t=+t,e=+e,s=!!s;var l=(n=+n)*Math.cos(o),c=n*Math.sin(o),h=t+l,f=e+c,d=1^s,p=s?o-u:u-o;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+h+","+f:(Math.abs(this._x1-h)>1e-6||Math.abs(this._y1-f)>1e-6)&&(this._+="L"+h+","+f),n&&(p<0&&(p=p%i+i),p>a?this._+="A"+n+","+n+",0,1,"+d+","+(t-l)+","+(e-c)+"A"+n+","+n+",0,1,"+d+","+(this._x1=h)+","+(this._y1=f):p>1e-6&&(this._+="A"+n+","+n+",0,"+ +(p>=r)+","+d+","+(this._x1=t+n*Math.cos(u))+","+(this._y1=e+n*Math.sin(u))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var s=u,l=function(t){return function(){return t}},c=Math.abs,h=Math.atan2,f=Math.cos,d=Math.max,p=Math.min,g=Math.sin,m=Math.sqrt,v=Math.PI,y=v/2,x=2*v;function b(t){return t>1?0:t<-1?v:Math.acos(t)}function w(t){return t>=1?y:t<=-1?-y:Math.asin(t)}function _(t){return t.innerRadius}function M(t){return t.outerRadius}function A(t){return t.startAngle}function k(t){return t.endAngle}function T(t){return t&&t.padAngle}function E(t,e,n,r,i,a,o,u){var s=n-t,l=r-e,c=o-i,h=u-a,f=h*s-c*l;if(!(f*f<1e-12))return[t+(f=(c*(e-a)-h*(t-i))/f)*s,e+f*l]}function C(t,e,n,r,i,a,o){var u=t-n,s=e-r,l=(o?a:-a)/m(u*u+s*s),c=l*s,h=-l*u,f=t+c,p=e+h,g=n+c,v=r+h,y=(f+g)/2,x=(p+v)/2,b=g-f,w=v-p,_=b*b+w*w,M=i-a,A=f*v-g*p,k=(w<0?-1:1)*m(d(0,M*M*_-A*A)),T=(A*w-b*k)/_,E=(-A*b-w*k)/_,C=(A*w+b*k)/_,S=(-A*b+w*k)/_,O=T-y,N=E-x,P=C-y,D=S-x;return O*O+N*N>P*P+D*D&&(T=C,E=S),{cx:T,cy:E,x01:-c,y01:-h,x11:T*(i/M-1),y11:E*(i/M-1)}}var S=function(){var t=_,e=M,n=l(0),r=null,i=A,a=k,o=T,u=null;function d(){var l,d,_=+t.apply(this,arguments),M=+e.apply(this,arguments),A=i.apply(this,arguments)-y,k=a.apply(this,arguments)-y,T=c(k-A),S=k>A;if(u||(u=l=s()),M<_&&(d=M,M=_,_=d),M>1e-12)if(T>x-1e-12)u.moveTo(M*f(A),M*g(A)),u.arc(0,0,M,A,k,!S),_>1e-12&&(u.moveTo(_*f(k),_*g(k)),u.arc(0,0,_,k,A,S));else{var O,N,P=A,D=k,B=A,R=k,I=T,L=T,j=o.apply(this,arguments)/2,F=j>1e-12&&(r?+r.apply(this,arguments):m(_*_+M*M)),V=p(c(M-_)/2,+n.apply(this,arguments)),z=V,U=V;if(F>1e-12){var H=w(F/_*g(j)),q=w(F/M*g(j));(I-=2*H)>1e-12?(B+=H*=S?1:-1,R-=H):(I=0,B=R=(A+k)/2),(L-=2*q)>1e-12?(P+=q*=S?1:-1,D-=q):(L=0,P=D=(A+k)/2)}var Y=M*f(P),X=M*g(P),G=_*f(R),W=_*g(R);if(V>1e-12){var $,Q=M*f(D),Z=M*g(D),K=_*f(B),J=_*g(B);if(T<v&&($=E(Y,X,K,J,Q,Z,G,W))){var tt=Y-$[0],et=X-$[1],nt=Q-$[0],rt=Z-$[1],it=1/g(b((tt*nt+et*rt)/(m(tt*tt+et*et)*m(nt*nt+rt*rt)))/2),at=m($[0]*$[0]+$[1]*$[1]);z=p(V,(_-at)/(it-1)),U=p(V,(M-at)/(it+1))}}L>1e-12?U>1e-12?(O=C(K,J,Y,X,M,U,S),N=C(Q,Z,G,W,M,U,S),u.moveTo(O.cx+O.x01,O.cy+O.y01),U<V?u.arc(O.cx,O.cy,U,h(O.y01,O.x01),h(N.y01,N.x01),!S):(u.arc(O.cx,O.cy,U,h(O.y01,O.x01),h(O.y11,O.x11),!S),u.arc(0,0,M,h(O.cy+O.y11,O.cx+O.x11),h(N.cy+N.y11,N.cx+N.x11),!S),u.arc(N.cx,N.cy,U,h(N.y11,N.x11),h(N.y01,N.x01),!S))):(u.moveTo(Y,X),u.arc(0,0,M,P,D,!S)):u.moveTo(Y,X),_>1e-12&&I>1e-12?z>1e-12?(O=C(G,W,Q,Z,_,-z,S),N=C(Y,X,K,J,_,-z,S),u.lineTo(O.cx+O.x01,O.cy+O.y01),z<V?u.arc(O.cx,O.cy,z,h(O.y01,O.x01),h(N.y01,N.x01),!S):(u.arc(O.cx,O.cy,z,h(O.y01,O.x01),h(O.y11,O.x11),!S),u.arc(0,0,_,h(O.cy+O.y11,O.cx+O.x11),h(N.cy+N.y11,N.cx+N.x11),S),u.arc(N.cx,N.cy,z,h(N.y11,N.x11),h(N.y01,N.x01),!S))):u.arc(0,0,_,R,B,S):u.lineTo(G,W)}else u.moveTo(0,0);if(u.closePath(),l)return u=null,l+""||null}return d.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-v/2;return[f(r)*n,g(r)*n]},d.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:l(+e),d):t},d.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:l(+t),d):e},d.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:l(+t),d):n},d.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:l(+t),d):r},d.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:l(+t),d):i},d.endAngle=function(t){return arguments.length?(a="function"==typeof t?t:l(+t),d):a},d.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:l(+t),d):o},d.context=function(t){return arguments.length?(u=null==t?null:t,d):u},d};function O(t){this._context=t}O.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var N=function(t){return new O(t)};function P(t){return t[0]}function D(t){return t[1]}var B=function(){var t=P,e=D,n=l(!0),r=null,i=N,a=null;function o(o){var u,l,c,h=o.length,f=!1;for(null==r&&(a=i(c=s())),u=0;u<=h;++u)!(u<h&&n(l=o[u],u,o))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(l,u,o),+e(l,u,o));if(c)return a=null,c+""||null}return o.x=function(e){return arguments.length?(t="function"==typeof e?e:l(+e),o):t},o.y=function(t){return arguments.length?(e="function"==typeof t?t:l(+t),o):e},o.defined=function(t){return arguments.length?(n="function"==typeof t?t:l(!!t),o):n},o.curve=function(t){return arguments.length?(i=t,null!=r&&(a=i(r)),o):i},o.context=function(t){return arguments.length?(null==t?r=a=null:a=i(r=t),o):r},o},R=function(){var t=P,e=null,n=l(0),r=D,i=l(!0),a=null,o=N,u=null;function c(l){var c,h,f,d,p,g=l.length,m=!1,v=new Array(g),y=new Array(g);for(null==a&&(u=o(p=s())),c=0;c<=g;++c){if(!(c<g&&i(d=l[c],c,l))===m)if(m=!m)h=c,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),f=c-1;f>=h;--f)u.point(v[f],y[f]);u.lineEnd(),u.areaEnd()}m&&(v[c]=+t(d,c,l),y[c]=+n(d,c,l),u.point(e?+e(d,c,l):v[c],r?+r(d,c,l):y[c]))}if(p)return u=null,p+""||null}function h(){return B().defined(i).curve(o).context(a)}return c.x=function(n){return arguments.length?(t="function"==typeof n?n:l(+n),e=null,c):t},c.x0=function(e){return arguments.length?(t="function"==typeof e?e:l(+e),c):t},c.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:l(+t),c):e},c.y=function(t){return arguments.length?(n="function"==typeof t?t:l(+t),r=null,c):n},c.y0=function(t){return arguments.length?(n="function"==typeof t?t:l(+t),c):n},c.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:l(+t),c):r},c.lineX0=c.lineY0=function(){return h().x(t).y(n)},c.lineY1=function(){return h().x(t).y(r)},c.lineX1=function(){return h().x(e).y(n)},c.defined=function(t){return arguments.length?(i="function"==typeof t?t:l(!!t),c):i},c.curve=function(t){return arguments.length?(o=t,null!=a&&(u=o(a)),c):o},c.context=function(t){return arguments.length?(null==t?a=u=null:u=o(a=t),c):a},c},I=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},L=function(t){return t},j=function(){var t=L,e=I,n=null,r=l(0),i=l(x),a=l(0);function o(o){var u,s,l,c,h,f=o.length,d=0,p=new Array(f),g=new Array(f),m=+r.apply(this,arguments),v=Math.min(x,Math.max(-x,i.apply(this,arguments)-m)),y=Math.min(Math.abs(v)/f,a.apply(this,arguments)),b=y*(v<0?-1:1);for(u=0;u<f;++u)(h=g[p[u]=u]=+t(o[u],u,o))>0&&(d+=h);for(null!=e?p.sort((function(t,n){return e(g[t],g[n])})):null!=n&&p.sort((function(t,e){return n(o[t],o[e])})),u=0,l=d?(v-f*b)/d:0;u<f;++u,m=c)s=p[u],c=m+((h=g[s])>0?h*l:0)+b,g[s]={data:o[s],index:u,value:h,startAngle:m,endAngle:c,padAngle:y};return g}return o.value=function(e){return arguments.length?(t="function"==typeof e?e:l(+e),o):t},o.sortValues=function(t){return arguments.length?(e=t,n=null,o):e},o.sort=function(t){return arguments.length?(n=t,e=null,o):n},o.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:l(+t),o):r},o.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:l(+t),o):i},o.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:l(+t),o):a},o},F=z(N);function V(t){this._curve=t}function z(t){function e(e){return new V(t(e))}return e._curve=t,e}function U(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(z(t)):e()._curve},t}V.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var H=function(){return U(B().curve(F))},q=function(){var t=R().curve(F),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,a=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return U(n())},delete t.lineX0,t.lineEndAngle=function(){return U(r())},delete t.lineX1,t.lineInnerRadius=function(){return U(i())},delete t.lineY0,t.lineOuterRadius=function(){return U(a())},delete t.lineY1,t.curve=function(t){return arguments.length?e(z(t)):e()._curve},t},Y=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]},X=Array.prototype.slice;function G(t){return t.source}function W(t){return t.target}function $(t){var e=G,n=W,r=P,i=D,a=null;function o(){var o,u=X.call(arguments),l=e.apply(this,u),c=n.apply(this,u);if(a||(a=o=s()),t(a,+r.apply(this,(u[0]=l,u)),+i.apply(this,u),+r.apply(this,(u[0]=c,u)),+i.apply(this,u)),o)return a=null,o+""||null}return o.source=function(t){return arguments.length?(e=t,o):e},o.target=function(t){return arguments.length?(n=t,o):n},o.x=function(t){return arguments.length?(r="function"==typeof t?t:l(+t),o):r},o.y=function(t){return arguments.length?(i="function"==typeof t?t:l(+t),o):i},o.context=function(t){return arguments.length?(a=null==t?null:t,o):a},o}function Q(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function Z(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function K(t,e,n,r,i){var a=Y(e,n),o=Y(e,n=(n+i)/2),u=Y(r,n),s=Y(r,i);t.moveTo(a[0],a[1]),t.bezierCurveTo(o[0],o[1],u[0],u[1],s[0],s[1])}function J(){return $(Q)}function tt(){return $(Z)}function et(){var t=$(K);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var nt={draw:function(t,e){var n=Math.sqrt(e/v);t.moveTo(n,0),t.arc(0,0,n,0,x)}},rt={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},it=Math.sqrt(1/3),at=2*it,ot={draw:function(t,e){var n=Math.sqrt(e/at),r=n*it;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},ut=Math.sin(v/10)/Math.sin(7*v/10),st=Math.sin(x/10)*ut,lt=-Math.cos(x/10)*ut,ct={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=st*n,i=lt*n;t.moveTo(0,-n),t.lineTo(r,i);for(var a=1;a<5;++a){var o=x*a/5,u=Math.cos(o),s=Math.sin(o);t.lineTo(s*n,-u*n),t.lineTo(u*r-s*i,s*r+u*i)}t.closePath()}},ht={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},ft=Math.sqrt(3),dt={draw:function(t,e){var n=-Math.sqrt(e/(3*ft));t.moveTo(0,2*n),t.lineTo(-ft*n,-n),t.lineTo(ft*n,-n),t.closePath()}},pt=Math.sqrt(3)/2,gt=1/Math.sqrt(12),mt=3*(gt/2+1),vt={draw:function(t,e){var n=Math.sqrt(e/mt),r=n/2,i=n*gt,a=r,o=n*gt+n,u=-a,s=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(u,s),t.lineTo(-.5*r-pt*i,pt*r+-.5*i),t.lineTo(-.5*a-pt*o,pt*a+-.5*o),t.lineTo(-.5*u-pt*s,pt*u+-.5*s),t.lineTo(-.5*r+pt*i,-.5*i-pt*r),t.lineTo(-.5*a+pt*o,-.5*o-pt*a),t.lineTo(-.5*u+pt*s,-.5*s-pt*u),t.closePath()}},yt=[nt,rt,ot,ht,ct,dt,vt],xt=function(){var t=l(nt),e=l(64),n=null;function r(){var r;if(n||(n=r=s()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return r.type=function(e){return arguments.length?(t="function"==typeof e?e:l(e),r):t},r.size=function(t){return arguments.length?(e="function"==typeof t?t:l(+t),r):e},r.context=function(t){return arguments.length?(n=null==t?null:t,r):n},r},bt=function(){};function wt(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function _t(t){this._context=t}_t.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:wt(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:wt(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Mt=function(t){return new _t(t)};function At(t){this._context=t}At.prototype={areaStart:bt,areaEnd:bt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:wt(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var kt=function(t){return new At(t)};function Tt(t){this._context=t}Tt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:wt(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Et=function(t){return new Tt(t)};function Ct(t,e){this._basis=new _t(t),this._beta=e}Ct.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],a=e[0],o=t[n]-i,u=e[n]-a,s=-1;++s<=n;)r=s/n,this._basis.point(this._beta*t[s]+(1-this._beta)*(i+r*o),this._beta*e[s]+(1-this._beta)*(a+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var St=function t(e){function n(t){return 1===e?new _t(t):new Ct(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function Ot(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Nt(t,e){this._context=t,this._k=(1-e)/6}Nt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ot(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Ot(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Pt=function t(e){function n(t){return new Nt(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Dt(t,e){this._context=t,this._k=(1-e)/6}Dt.prototype={areaStart:bt,areaEnd:bt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ot(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Bt=function t(e){function n(t){return new Dt(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Rt(t,e){this._context=t,this._k=(1-e)/6}Rt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ot(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var It=function t(e){function n(t){return new Rt(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Lt(t,e,n){var r=t._x1,i=t._y1,a=t._x2,o=t._y2;if(t._l01_a>1e-12){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,s=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/s,i=(i*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/s}if(t._l23_a>1e-12){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*l+t._x1*t._l23_2a-e*t._l12_2a)/c,o=(o*l+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,i,a,o,t._x2,t._y2)}function jt(t,e){this._context=t,this._alpha=e}jt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Lt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ft=function t(e){function n(t){return e?new jt(t,e):new Nt(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Vt(t,e){this._context=t,this._alpha=e}Vt.prototype={areaStart:bt,areaEnd:bt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Lt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var zt=function t(e){function n(t){return e?new Vt(t,e):new Dt(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Ut(t,e){this._context=t,this._alpha=e}Ut.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Lt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ht=function t(e){function n(t){return e?new Ut(t,e):new Rt(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function qt(t){this._context=t}qt.prototype={areaStart:bt,areaEnd:bt,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var Yt=function(t){return new qt(t)};function Xt(t){return t<0?-1:1}function Gt(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),u=(a*i+o*r)/(r+i);return(Xt(a)+Xt(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(u))||0}function Wt(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function $t(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,u=(a-r)/3;t._context.bezierCurveTo(r+u,i+u*e,a-u,o-u*n,a,o)}function Qt(t){this._context=t}function Zt(t){this._context=new Kt(t)}function Kt(t){this._context=t}function Jt(t){return new Qt(t)}function te(t){return new Zt(t)}function ee(t){this._context=t}function ne(t){var e,n,r=t.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}Qt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$t(this,this._t0,Wt(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,$t(this,Wt(this,n=Gt(this,t,e)),n);break;default:$t(this,this._t0,n=Gt(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Zt.prototype=Object.create(Qt.prototype)).point=function(t,e){Qt.prototype.point.call(this,e,t)},Kt.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}},ee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=ne(t),i=ne(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var re=function(t){return new ee(t)};function ie(t,e){this._context=t,this._t=e}ie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var ae=function(t){return new ie(t,.5)};function oe(t){return new ie(t,0)}function ue(t){return new ie(t,1)}var se=function(t,e){if((i=t.length)>1)for(var n,r,i,a=1,o=t[e[0]],u=o.length;a<i;++a)for(r=o,o=t[e[a]],n=0;n<u;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]},le=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n};function ce(t,e){return t[e]}var he=function(){var t=l([]),e=le,n=se,r=ce;function i(i){var a,o,u=t.apply(this,arguments),s=i.length,l=u.length,c=new Array(l);for(a=0;a<l;++a){for(var h,f=u[a],d=c[a]=new Array(s),p=0;p<s;++p)d[p]=h=[0,+r(i[p],f,p,i)],h.data=i[p];d.key=f}for(a=0,o=e(c);a<l;++a)c[o[a]].index=a;return n(c,o),c}return i.keys=function(e){return arguments.length?(t="function"==typeof e?e:l(X.call(e)),i):t},i.value=function(t){return arguments.length?(r="function"==typeof t?t:l(+t),i):r},i.order=function(t){return arguments.length?(e=null==t?le:"function"==typeof t?t:l(X.call(t)),i):e},i.offset=function(t){return arguments.length?(n=null==t?se:t,i):n},i},fe=function(t,e){if((r=t.length)>0){for(var n,r,i,a=0,o=t[0].length;a<o;++a){for(i=n=0;n<r;++n)i+=t[n][a][1]||0;if(i)for(n=0;n<r;++n)t[n][a][1]/=i}se(t,e)}},de=function(t,e){if((u=t.length)>0)for(var n,r,i,a,o,u,s=0,l=t[e[0]].length;s<l;++s)for(a=o=0,n=0;n<u;++n)(i=(r=t[e[n]][s])[1]-r[0])>0?(r[0]=a,r[1]=a+=i):i<0?(r[1]=o,r[0]=o+=i):(r[0]=0,r[1]=i)},pe=function(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],a=i.length;r<a;++r){for(var o=0,u=0;o<n;++o)u+=t[o][r][1]||0;i[r][1]+=i[r][0]=-u/2}se(t,e)}},ge=function(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,a=0,o=1;o<r;++o){for(var u=0,s=0,l=0;u<i;++u){for(var c=t[e[u]],h=c[o][1]||0,f=(h-(c[o-1][1]||0))/2,d=0;d<u;++d){var p=t[e[d]];f+=(p[o][1]||0)-(p[o-1][1]||0)}s+=h,l+=f*h}n[o-1][1]+=n[o-1][0]=a,s&&(a-=l/s)}n[o-1][1]+=n[o-1][0]=a,se(t,e)}},me=function(t){var e=t.map(ve);return le(t).sort((function(t,n){return e[t]-e[n]}))};function ve(t){for(var e,n=-1,r=0,i=t.length,a=-1/0;++n<i;)(e=+t[n][1])>a&&(a=e,r=n);return r}var ye=function(t){var e=t.map(xe);return le(t).sort((function(t,n){return e[t]-e[n]}))};function xe(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}var be=function(t){return ye(t).reverse()},we=function(t){var e,n,r=t.length,i=t.map(xe),a=me(t),o=0,u=0,s=[],l=[];for(e=0;e<r;++e)n=a[e],o<u?(o+=i[n],s.push(n)):(u+=i[n],l.push(n));return l.reverse().concat(s)},_e=function(t){return le(t).reverse()};n.d(e,"arc",(function(){return S})),n.d(e,"area",(function(){return R})),n.d(e,"line",(function(){return B})),n.d(e,"pie",(function(){return j})),n.d(e,"areaRadial",(function(){return q})),n.d(e,"radialArea",(function(){return q})),n.d(e,"lineRadial",(function(){return H})),n.d(e,"radialLine",(function(){return H})),n.d(e,"pointRadial",(function(){return Y})),n.d(e,"linkHorizontal",(function(){return J})),n.d(e,"linkVertical",(function(){return tt})),n.d(e,"linkRadial",(function(){return et})),n.d(e,"symbol",(function(){return xt})),n.d(e,"symbols",(function(){return yt})),n.d(e,"symbolCircle",(function(){return nt})),n.d(e,"symbolCross",(function(){return rt})),n.d(e,"symbolDiamond",(function(){return ot})),n.d(e,"symbolSquare",(function(){return ht})),n.d(e,"symbolStar",(function(){return ct})),n.d(e,"symbolTriangle",(function(){return dt})),n.d(e,"symbolWye",(function(){return vt})),n.d(e,"curveBasisClosed",(function(){return kt})),n.d(e,"curveBasisOpen",(function(){return Et})),n.d(e,"curveBasis",(function(){return Mt})),n.d(e,"curveBundle",(function(){return St})),n.d(e,"curveCardinalClosed",(function(){return Bt})),n.d(e,"curveCardinalOpen",(function(){return It})),n.d(e,"curveCardinal",(function(){return Pt})),n.d(e,"curveCatmullRomClosed",(function(){return zt})),n.d(e,"curveCatmullRomOpen",(function(){return Ht})),n.d(e,"curveCatmullRom",(function(){return Ft})),n.d(e,"curveLinearClosed",(function(){return Yt})),n.d(e,"curveLinear",(function(){return N})),n.d(e,"curveMonotoneX",(function(){return Jt})),n.d(e,"curveMonotoneY",(function(){return te})),n.d(e,"curveNatural",(function(){return re})),n.d(e,"curveStep",(function(){return ae})),n.d(e,"curveStepAfter",(function(){return ue})),n.d(e,"curveStepBefore",(function(){return oe})),n.d(e,"stack",(function(){return he})),n.d(e,"stackOffsetExpand",(function(){return fe})),n.d(e,"stackOffsetDiverging",(function(){return de})),n.d(e,"stackOffsetNone",(function(){return se})),n.d(e,"stackOffsetSilhouette",(function(){return pe})),n.d(e,"stackOffsetWiggle",(function(){return ge})),n.d(e,"stackOrderAppearance",(function(){return me})),n.d(e,"stackOrderAscending",(function(){return ye})),n.d(e,"stackOrderDescending",(function(){return be})),n.d(e,"stackOrderInsideOut",(function(){return we})),n.d(e,"stackOrderNone",(function(){return le})),n.d(e,"stackOrderReverse",(function(){return _e}))},function(t,e,n){"use strict";n.r(e);var r=n(21),i=n(63);var a=Date.prototype.toISOString?function(t){return t.toISOString()}:Object(r.d)("%Y-%m-%dT%H:%M:%S.%LZ");var o=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:Object(r.e)("%Y-%m-%dT%H:%M:%S.%LZ");n.d(e,"timeFormatDefaultLocale",(function(){return r.a})),n.d(e,"timeFormat",(function(){return r.b})),n.d(e,"timeParse",(function(){return r.c})),n.d(e,"utcFormat",(function(){return r.d})),n.d(e,"utcParse",(function(){return r.e})),n.d(e,"timeFormatLocale",(function(){return i.a})),n.d(e,"isoFormat",(function(){return a})),n.d(e,"isoParse",(function(){return o}))},function(t,e,n){"use strict";var r=n(44),i=n(32);function a(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===i.b&&e.documentElement.namespaceURI===i.b?e.createElement(t):e.createElementNS(n,t)}}function o(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}e.a=function(t){var e=Object(r.a)(t);return(e.local?o:a)(e)}},function(t,e,n){"use strict";e.a=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}},function(t,e,n){"use strict";function r(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}n.d(e,"b",(function(){return r})),e.a=function(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(a){for(n=0;n<r;++n)i[n]=t[n]*(1-a)+e[n]*a;return i}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return r}));var r="http://www.w3.org/1999/xhtml";e.a={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},function(t,e,n){"use strict";n.d(e,"b",(function(){return a}));var r=n(1),i=Object(r.a)((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));i.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Object(r.a)((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null},e.a=i;var a=i.range},function(t,e,n){"use strict";n.d(e,"b",(function(){return a}));var r=n(1),i=Object(r.a)((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));i.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Object(r.a)((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null},e.a=i;var a=i.range},function(t,e,n){"use strict";var r;void 0===(r=function(){var t=n(27),e=n(39);return{axisTimeCombinations:{MINUTE_HOUR:"minute-hour",HOUR_DAY:"hour-daymonth",DAY_MONTH:"day-month",MONTH_YEAR:"month-year",CUSTOM:"custom"},curveMap:{linear:t.curveLinear,basis:t.curveBasis,cardinal:t.curveCardinal,catmullRom:t.curveCatmullRom,monotoneX:t.curveMonotoneX,monotoneY:t.curveMonotoneY,natural:t.curveNatural,step:t.curveStep,stepAfter:t.curveStepAfter,stepBefore:t.curveStepBefore},emptyDonutData:[{quantity:1,percentage:100}],timeBenchmarks:{ONE_AND_A_HALF_YEARS:47304e6,ONE_YEAR:31536000365,ONE_DAY:86400001},lineGradientId:"lineGradientId",timeIntervals:{timeMillisecond:e.timeMillisecond,utcMillisecond:e.utcMillisecond,timeSecond:e.timeSecond,utcSecond:e.utcSecond,timeMinute:e.timeMinute,utcMinute:e.utcMinute,timeHour:e.timeHour,utcHour:e.utcHour,timeDay:e.timeDay,utcDay:e.utcDay,timeWeek:e.timeWeek,utcWeek:e.utcWeek,timeSunday:e.timeSunday,utcSunday:e.utcSunday,timeMonday:e.timeMonday,utcMonday:e.utcMonday,timeTuesday:e.timeTuesday,utcTuesday:e.utcTuesday,timeWednesday:e.timeWednesday,utcWednesday:e.utcWednesday,timeThursday:e.timeThursday,utcThursday:e.utcThursday,timeFriday:e.timeFriday,utcFriday:e.utcFriday,timeSaturday:e.timeSaturday,utcSaturday:e.utcSaturday,timeMonth:e.timeMonth,utcMonth:e.utcMonth,timeYear:e.timeYear,utcYear:e.utcYear},FORMAT_LOCALE_URL:"https://cdn.jsdelivr.net/npm/d3-format/locale"}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return l}));var r=n(7),i=n(42),a=n(58),o=n(4);function u(t){return function(e){var n,i,a=e.length,o=new Array(a),u=new Array(a),s=new Array(a);for(n=0;n<a;++n)i=Object(r.g)(e[n]),o[n]=i.r||0,u[n]=i.g||0,s[n]=i.b||0;return o=t(o),u=t(u),s=t(s),i.opacity=1,function(t){return i.r=o(t),i.g=u(t),i.b=s(t),i+""}}}e.a=function t(e){var n=Object(o.b)(e);function i(t,e){var i=n((t=Object(r.g)(t)).r,(e=Object(r.g)(e)).r),a=n(t.g,e.g),u=n(t.b,e.b),s=Object(o.a)(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=a(e),t.b=u(e),t.opacity=s(e),t+""}}return i.gamma=t,i}(1);var s=u(i.b),l=u(a.a)},function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return c}));var r={},i=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(r={mouseenter:"mouseover",mouseleave:"mouseout"}));function a(t,e,n){return t=o(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function o(t,e,n){return function(r){var a=i;i=r;try{t.call(this,this.__data__,e,n)}finally{i=a}}}function u(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function s(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,a=e.length;r<a;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function l(t,e,n){var i=r.hasOwnProperty(t.type)?a:o;return function(r,a,o){var u,s=this.__on,l=i(e,a,o);if(s)for(var c=0,h=s.length;c<h;++c)if((u=s[c]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=l,u.capture=n),void(u.value=e);this.addEventListener(t.type,l,n),u={type:t.type,name:t.name,value:e,listener:l,capture:n},s?s.push(u):this.__on=[u]}}function c(t,e,n,r){var a=i;t.sourceEvent=i,i=t;try{return e.apply(n,r)}finally{i=a}}e.b=function(t,e,n){var r,i,a=u(t+""),o=a.length;if(!(arguments.length<2)){for(c=e?l:s,null==n&&(n=!1),r=0;r<o;++r)this.each(c(a[r],e,n));return this}var c=this.node().__on;if(c)for(var h,f=0,d=c.length;f<d;++f)for(r=0,h=c[f];r<o;++r)if((i=a[r]).type===h.type&&i.name===h.name)return h.value}},function(t,e,n){"use strict";e.a=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}},function(t,e,n){"use strict";n.r(e);var r=n(1);n.d(e,"timeInterval",(function(){return r.a}));var i=n(52);n.d(e,"timeMillisecond",(function(){return i.a})),n.d(e,"timeMilliseconds",(function(){return i.b})),n.d(e,"utcMillisecond",(function(){return i.a})),n.d(e,"utcMilliseconds",(function(){return i.b}));var a=n(51);n.d(e,"timeSecond",(function(){return a.a})),n.d(e,"timeSeconds",(function(){return a.b})),n.d(e,"utcSecond",(function(){return a.a})),n.d(e,"utcSeconds",(function(){return a.b}));var o=n(71);n.d(e,"timeMinute",(function(){return o.a})),n.d(e,"timeMinutes",(function(){return o.b}));var u=n(70);n.d(e,"timeHour",(function(){return u.a})),n.d(e,"timeHours",(function(){return u.b}));var s=n(53);n.d(e,"timeDay",(function(){return s.b})),n.d(e,"timeDays",(function(){return s.a}));var l=n(5);n.d(e,"timeWeek",(function(){return l.g})),n.d(e,"timeWeeks",(function(){return l.h})),n.d(e,"timeSunday",(function(){return l.g})),n.d(e,"timeSundays",(function(){return l.h})),n.d(e,"timeMonday",(function(){return l.c})),n.d(e,"timeMondays",(function(){return l.d})),n.d(e,"timeTuesday",(function(){return l.k})),n.d(e,"timeTuesdays",(function(){return l.l})),n.d(e,"timeWednesday",(function(){return l.m})),n.d(e,"timeWednesdays",(function(){return l.n})),n.d(e,"timeThursday",(function(){return l.i})),n.d(e,"timeThursdays",(function(){return l.j})),n.d(e,"timeFriday",(function(){return l.a})),n.d(e,"timeFridays",(function(){return l.b})),n.d(e,"timeSaturday",(function(){return l.e})),n.d(e,"timeSaturdays",(function(){return l.f}));var c=n(69);n.d(e,"timeMonth",(function(){return c.a})),n.d(e,"timeMonths",(function(){return c.b}));var h=n(33);n.d(e,"timeYear",(function(){return h.a})),n.d(e,"timeYears",(function(){return h.b}));var f=n(74);n.d(e,"utcMinute",(function(){return f.a})),n.d(e,"utcMinutes",(function(){return f.b}));var d=n(73);n.d(e,"utcHour",(function(){return d.a})),n.d(e,"utcHours",(function(){return d.b}));var p=n(54);n.d(e,"utcDay",(function(){return p.a})),n.d(e,"utcDays",(function(){return p.b}));var g=n(6);n.d(e,"utcWeek",(function(){return g.g})),n.d(e,"utcWeeks",(function(){return g.h})),n.d(e,"utcSunday",(function(){return g.g})),n.d(e,"utcSundays",(function(){return g.h})),n.d(e,"utcMonday",(function(){return g.c})),n.d(e,"utcMondays",(function(){return g.d})),n.d(e,"utcTuesday",(function(){return g.k})),n.d(e,"utcTuesdays",(function(){return g.l})),n.d(e,"utcWednesday",(function(){return g.m})),n.d(e,"utcWednesdays",(function(){return g.n})),n.d(e,"utcThursday",(function(){return g.i})),n.d(e,"utcThursdays",(function(){return g.j})),n.d(e,"utcFriday",(function(){return g.a})),n.d(e,"utcFridays",(function(){return g.b})),n.d(e,"utcSaturday",(function(){return g.e})),n.d(e,"utcSaturdays",(function(){return g.f}));var m=n(72);n.d(e,"utcMonth",(function(){return m.a})),n.d(e,"utcMonths",(function(){return m.b}));var v=n(34);n.d(e,"utcYear",(function(){return v.a})),n.d(e,"utcYears",(function(){return v.b}))},function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return a}));var r=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function i(t){if(!(e=r.exec(t)))throw new Error("invalid format: "+t);var e;return new a({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function a(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}i.prototype=a.prototype,a.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},function(t,e,n){"use strict";var r=n(7),i=n(36),a=n(61),o=n(60),u=n(14),s=n(62),l=n(59),c=n(48),h=n(31);e.a=function(t,e){var n,f=typeof e;return null==e||"boolean"===f?Object(c.a)(e):("number"===f?u.a:"string"===f?(n=Object(r.e)(e))?(e=n,i.a):l.a:e instanceof r.e?i.a:e instanceof Date?o.a:Object(h.b)(e)?h.a:Array.isArray(e)?a.b:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?s.a:u.a)(t,e)}},function(t,e,n){"use strict";function r(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}n.d(e,"a",(function(){return r})),e.b=function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),a=t[i],o=t[i+1],u=i>0?t[i-1]:2*a-o,s=i<e-1?t[i+2]:2*o-a;return r((n-i/e)*e,u,a,o,s)}}},function(t,e,n){"use strict";function r(){}e.a=function(t){return null==t?r:function(){return this.querySelector(t)}}},function(t,e,n){"use strict";var r=n(32);e.a=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),r.a.hasOwnProperty(e)?{space:r.a[e],local:t}:t}},function(t,e,n){"use strict";e.a=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}},function(t,e,n){"use strict";var r=n(37);e.a=function(){for(var t,e=r.c;t=e.sourceEvent;)e=t;return e}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}));var r=Math.PI/180,i=180/Math.PI},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";function r(t){return t*t*t}function i(t){return--t*t*t+1}function a(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return a}))},function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return c})),n.d(e,"d",(function(){return v})),n.d(e,"c",(function(){return y}));var r=n(15),i=n(7),a=n(47),o=6/29,u=3*o*o;function s(t){if(t instanceof h)return new h(t.l,t.a,t.b,t.opacity);if(t instanceof x)return b(t);t instanceof i.b||(t=Object(i.h)(t));var e,n,r=g(t.r),a=g(t.g),o=g(t.b),u=f((.2225045*r+.7168786*a+.0606169*o)/1);return r===a&&a===o?e=n=u:(e=f((.4360747*r+.3850649*a+.1430804*o)/.96422),n=f((.0139322*r+.0971045*a+.7141733*o)/.82521)),new h(116*u-16,500*(e-u),200*(u-n),t.opacity)}function l(t,e){return new h(t,0,0,null==e?1:e)}function c(t,e,n,r){return 1===arguments.length?s(t):new h(t,e,n,null==r?1:r)}function h(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function f(t){return t>.008856451679035631?Math.pow(t,1/3):t/u+4/29}function d(t){return t>o?t*t*t:u*(t-4/29)}function p(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function g(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function m(t){if(t instanceof x)return new x(t.h,t.c,t.l,t.opacity);if(t instanceof h||(t=s(t)),0===t.a&&0===t.b)return new x(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*a.b;return new x(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function v(t,e,n,r){return 1===arguments.length?m(t):new x(n,e,t,null==r?1:r)}function y(t,e,n,r){return 1===arguments.length?m(t):new x(t,e,n,null==r?1:r)}function x(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function b(t){if(isNaN(t.h))return new h(t.l,0,0,t.opacity);var e=t.h*a.a;return new h(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Object(r.a)(h,c,Object(r.b)(i.a,{brighter:function(t){return new h(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new h(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=.96422*d(e),t=1*d(t),n=.82521*d(n),new i.b(p(3.1338561*e-1.6168667*t-.4906146*n),p(-.9787684*e+1.9161415*t+.033454*n),p(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Object(r.a)(x,y,Object(r.b)(i.a,{brighter:function(t){return new x(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new x(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return b(this).rgb()}}))},function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n(1),i=n(3),a=Object(r.a)((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*i.d)}),(function(t,e){return(e-t)/i.d}),(function(t){return t.getUTCSeconds()}));e.a=a;var o=a.range},function(t,e,n){"use strict";n.d(e,"b",(function(){return a}));var r=n(1),i=Object(r.a)((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Object(r.a)((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):i:null},e.a=i;var a=i.range},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(1),i=n(3),a=Object(r.a)((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*i.c)/i.a}),(function(t){return t.getDate()-1}));e.b=a;var o=a.range},function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n(1),i=n(3),a=Object(r.a)((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/i.a}),(function(t){return t.getUTCDate()-1}));e.a=a;var o=a.range},,function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return u}));var r,i,a,o=n(68);function u(t){return r=Object(o.a)(t),i=r.format,a=r.formatPrefix,r}u({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"})},function(t,e){var n=/^(?:0|[1-9]\d*)$/;function r(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var i,a,o=Object.prototype,u=o.hasOwnProperty,s=o.toString,l=o.propertyIsEnumerable,c=(i=Object.keys,a=Object,function(t){return i(a(t))}),h=Math.max,f=!l.call({valueOf:1},"valueOf");function d(t,e){var n=y(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&x(t)}(t)&&u.call(t,"callee")&&(!l.call(t,"callee")||"[object Arguments]"==s.call(t))}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,i=!!r;for(var a in t)!e&&!u.call(t,a)||i&&("length"==a||g(a,r))||n.push(a);return n}function p(t,e,n){var r=t[e];u.call(t,e)&&v(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function g(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||n.test(t))&&t>-1&&t%1==0&&t<e}function m(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||o)}function v(t,e){return t===e||t!=t&&e!=e}var y=Array.isArray;function x(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!function(t){var e=b(t)?s.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}(t)}function b(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var w,_=(w=function(t,e){if(f||m(e)||x(e))!function(t,e,n,r){n||(n={});for(var i=-1,a=e.length;++i<a;){var o=e[i],u=r?r(n[o],t[o],o,n,t):void 0;p(n,o,void 0===u?t[o]:u)}}(e,function(t){return x(t)?d(t):function(t){if(!m(t))return c(t);var e=[];for(var n in Object(t))u.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}(e),t);else for(var n in e)u.call(e,n)&&p(t,n,e[n])},function(t,e){return e=h(void 0===e?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=h(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var u=Array(e+1);++i<e;)u[i]=n[i];return u[e]=o,r(t,this,u)}}((function(t,e){var n=-1,r=e.length,i=r>1?e[r-1]:void 0,a=r>2?e[2]:void 0;for(i=w.length>3&&"function"==typeof i?(r--,i):void 0,a&&function(t,e,n){if(!b(n))return!1;var r=typeof e;return!!("number"==r?x(n)&&g(e,n.length):"string"==r&&e in n)&&v(n[e],t)}(e[0],e[1],a)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var o=e[n];o&&w(t,o,n,i)}return t})));t.exports=_},function(t,e,n){"use strict";var r=n(42);e.a=function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),a=t[(i+e-1)%e],o=t[i%e],u=t[(i+1)%e],s=t[(i+2)%e];return Object(r.a)((n-i/e)*e,a,o,u,s)}}},function(t,e,n){"use strict";var r=n(14),i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,a=new RegExp(i.source,"g");e.a=function(t,e){var n,o,u,s=i.lastIndex=a.lastIndex=0,l=-1,c=[],h=[];for(t+="",e+="";(n=i.exec(t))&&(o=a.exec(e));)(u=o.index)>s&&(u=e.slice(s,u),c[l]?c[l]+=u:c[++l]=u),(n=n[0])===(o=o[0])?c[l]?c[l]+=o:c[++l]=o:(c[++l]=null,h.push({i:l,x:Object(r.a)(n,o)})),s=a.lastIndex;return s<e.length&&(u=e.slice(s),c[l]?c[l]+=u:c[++l]=u),c.length<2?h[0]?function(t){return function(e){return t(e)+""}}(h[0].x):function(t){return function(){return t}}(e):(e=h.length,function(t){for(var n,r=0;r<e;++r)c[(n=h[r]).i]=n.x(t);return c.join("")})}},function(t,e,n){"use strict";e.a=function(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return a}));var r=n(41),i=n(31);function a(t,e){var n,i=e?e.length:0,a=t?Math.min(i,t.length):0,o=new Array(a),u=new Array(i);for(n=0;n<a;++n)o[n]=Object(r.a)(t[n],e[n]);for(;n<i;++n)u[n]=e[n];return function(t){for(n=0;n<a;++n)u[n]=o[n](t);return u}}e.a=function(t,e){return(Object(i.b)(e)?i.a:a)(t,e)}},function(t,e,n){"use strict";var r=n(41);e.a=function(t,e){var n,i={},a={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=Object(r.a)(t[n],e[n]):a[n]=e[n];return function(t){for(n in i)a[n]=i[n](t);return a}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(6),i=n(54),a=n(5),o=n(53),u=n(33),s=n(34);function l(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function c(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function h(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function f(t){var e=t.dateTime,n=t.date,u=t.time,s=t.periods,f=t.days,p=t.shortDays,g=t.months,m=t.shortMonths,v=x(s),y=b(s),At=x(f),kt=b(f),Tt=x(p),Et=b(p),Ct=x(g),St=b(g),Ot=x(m),Nt=b(m),Pt={a:function(t){return p[t.getDay()]},A:function(t){return f[t.getDay()]},b:function(t){return m[t.getMonth()]},B:function(t){return g[t.getMonth()]},c:null,d:z,e:z,f:X,H:U,I:H,j:q,L:Y,m:G,M:W,p:function(t){return s[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:_t,s:Mt,S:$,u:Q,U:Z,V:K,w:J,W:tt,x:null,X:null,y:et,Y:nt,Z:rt,"%":wt},Dt={a:function(t){return p[t.getUTCDay()]},A:function(t){return f[t.getUTCDay()]},b:function(t){return m[t.getUTCMonth()]},B:function(t){return g[t.getUTCMonth()]},c:null,d:it,e:it,f:lt,H:at,I:ot,j:ut,L:st,m:ct,M:ht,p:function(t){return s[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:_t,s:Mt,S:ft,u:dt,U:pt,V:gt,w:mt,W:vt,x:null,X:null,y:yt,Y:xt,Z:bt,"%":wt},Bt={a:function(t,e,n){var r=Tt.exec(e.slice(n));return r?(t.w=Et[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=At.exec(e.slice(n));return r?(t.w=kt[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=Ot.exec(e.slice(n));return r?(t.m=Nt[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=Ct.exec(e.slice(n));return r?(t.m=St[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return Lt(t,e,n,r)},d:N,e:N,f:L,H:D,I:D,j:P,L:I,m:O,M:B,p:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.p=y[r[0].toLowerCase()],n+r[0].length):-1},q:S,Q:F,s:V,S:R,u:_,U:M,V:A,w:w,W:k,x:function(t,e,r){return Lt(t,n,e,r)},X:function(t,e,n){return Lt(t,u,e,n)},y:E,Y:T,Z:C,"%":j};function Rt(t,e){return function(n){var r,i,a,o=[],u=-1,s=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++u<l;)37===t.charCodeAt(u)&&(o.push(t.slice(s,u)),null!=(i=d[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(a=e[r])&&(r=a(n,i)),o.push(r),s=u+1);return o.push(t.slice(s,u)),o.join("")}}function It(t,e){return function(n){var u,s,f=h(1900,void 0,1);if(Lt(f,t,n+="",0)!=n.length)return null;if("Q"in f)return new Date(f.Q);if("s"in f)return new Date(1e3*f.s+("L"in f?f.L:0));if(e&&!("Z"in f)&&(f.Z=0),"p"in f&&(f.H=f.H%12+12*f.p),void 0===f.m&&(f.m="q"in f?f.q:0),"V"in f){if(f.V<1||f.V>53)return null;"w"in f||(f.w=1),"Z"in f?(s=(u=c(h(f.y,0,1))).getUTCDay(),u=s>4||0===s?r.c.ceil(u):Object(r.c)(u),u=i.a.offset(u,7*(f.V-1)),f.y=u.getUTCFullYear(),f.m=u.getUTCMonth(),f.d=u.getUTCDate()+(f.w+6)%7):(s=(u=l(h(f.y,0,1))).getDay(),u=s>4||0===s?a.c.ceil(u):Object(a.c)(u),u=o.b.offset(u,7*(f.V-1)),f.y=u.getFullYear(),f.m=u.getMonth(),f.d=u.getDate()+(f.w+6)%7)}else("W"in f||"U"in f)&&("w"in f||(f.w="u"in f?f.u%7:"W"in f?1:0),s="Z"in f?c(h(f.y,0,1)).getUTCDay():l(h(f.y,0,1)).getDay(),f.m=0,f.d="W"in f?(f.w+6)%7+7*f.W-(s+5)%7:f.w+7*f.U-(s+6)%7);return"Z"in f?(f.H+=f.Z/100|0,f.M+=f.Z%100,c(f)):l(f)}}function Lt(t,e,n,r){for(var i,a,o=0,u=e.length,s=n.length;o<u;){if(r>=s)return-1;if(37===(i=e.charCodeAt(o++))){if(i=e.charAt(o++),!(a=Bt[i in d?e.charAt(o++):i])||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return Pt.x=Rt(n,Pt),Pt.X=Rt(u,Pt),Pt.c=Rt(e,Pt),Dt.x=Rt(n,Dt),Dt.X=Rt(u,Dt),Dt.c=Rt(e,Dt),{format:function(t){var e=Rt(t+="",Pt);return e.toString=function(){return t},e},parse:function(t){var e=It(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=Rt(t+="",Dt);return e.toString=function(){return t},e},utcParse:function(t){var e=It(t+="",!0);return e.toString=function(){return t},e}}}var d={"-":"",_:" ",0:"0"},p=/^\s*\d+/,g=/^%/,m=/[\\^$*+?|[\]().{}]/g;function v(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function y(t){return t.replace(m,"\\$&")}function x(t){return new RegExp("^(?:"+t.map(y).join("|")+")","i")}function b(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function w(t,e,n){var r=p.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function _(t,e,n){var r=p.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function M(t,e,n){var r=p.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function A(t,e,n){var r=p.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function k(t,e,n){var r=p.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function T(t,e,n){var r=p.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function E(t,e,n){var r=p.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function C(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function S(t,e,n){var r=p.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function O(t,e,n){var r=p.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function N(t,e,n){var r=p.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function P(t,e,n){var r=p.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function D(t,e,n){var r=p.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function B(t,e,n){var r=p.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function R(t,e,n){var r=p.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function I(t,e,n){var r=p.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function L(t,e,n){var r=p.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function j(t,e,n){var r=g.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function F(t,e,n){var r=p.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function V(t,e,n){var r=p.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function z(t,e){return v(t.getDate(),e,2)}function U(t,e){return v(t.getHours(),e,2)}function H(t,e){return v(t.getHours()%12||12,e,2)}function q(t,e){return v(1+o.b.count(Object(u.a)(t),t),e,3)}function Y(t,e){return v(t.getMilliseconds(),e,3)}function X(t,e){return Y(t,e)+"000"}function G(t,e){return v(t.getMonth()+1,e,2)}function W(t,e){return v(t.getMinutes(),e,2)}function $(t,e){return v(t.getSeconds(),e,2)}function Q(t){var e=t.getDay();return 0===e?7:e}function Z(t,e){return v(a.g.count(Object(u.a)(t)-1,t),e,2)}function K(t,e){var n=t.getDay();return t=n>=4||0===n?Object(a.i)(t):a.i.ceil(t),v(a.i.count(Object(u.a)(t),t)+(4===Object(u.a)(t).getDay()),e,2)}function J(t){return t.getDay()}function tt(t,e){return v(a.c.count(Object(u.a)(t)-1,t),e,2)}function et(t,e){return v(t.getFullYear()%100,e,2)}function nt(t,e){return v(t.getFullYear()%1e4,e,4)}function rt(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+v(e/60|0,"0",2)+v(e%60,"0",2)}function it(t,e){return v(t.getUTCDate(),e,2)}function at(t,e){return v(t.getUTCHours(),e,2)}function ot(t,e){return v(t.getUTCHours()%12||12,e,2)}function ut(t,e){return v(1+i.a.count(Object(s.a)(t),t),e,3)}function st(t,e){return v(t.getUTCMilliseconds(),e,3)}function lt(t,e){return st(t,e)+"000"}function ct(t,e){return v(t.getUTCMonth()+1,e,2)}function ht(t,e){return v(t.getUTCMinutes(),e,2)}function ft(t,e){return v(t.getUTCSeconds(),e,2)}function dt(t){var e=t.getUTCDay();return 0===e?7:e}function pt(t,e){return v(r.g.count(Object(s.a)(t)-1,t),e,2)}function gt(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Object(r.i)(t):r.i.ceil(t),v(r.i.count(Object(s.a)(t),t)+(4===Object(s.a)(t).getUTCDay()),e,2)}function mt(t){return t.getUTCDay()}function vt(t,e){return v(r.c.count(Object(s.a)(t)-1,t),e,2)}function yt(t,e){return v(t.getUTCFullYear()%100,e,2)}function xt(t,e){return v(t.getUTCFullYear()%1e4,e,4)}function bt(){return"+0000"}function wt(){return"%"}function _t(t){return+t}function Mt(t){return Math.floor(+t/1e3)}},function(t,e,n){"use strict";var r=n(23);e.a=function(t){return"string"==typeof t?new r.a([[document.querySelector(t)]],[document.documentElement]):new r.a([[t]],r.c)}},function(t,e,n){"use strict";function r(){return[]}e.a=function(t){return null==t?r:function(){return this.querySelectorAll(t)}}},function(t,e,n){"use strict";e.a=function(t){return function(){return this.matches(t)}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return u}));var r=n(45);function i(t){return function(){this.style.removeProperty(t)}}function a(t,e,n){return function(){this.style.setProperty(t,e,n)}}function o(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function u(t,e){return t.style.getPropertyValue(e)||Object(r.a)(t).getComputedStyle(t,null).getPropertyValue(e)}e.a=function(t,e,n){return arguments.length>1?this.each((null==e?i:"function"==typeof e?o:a)(t,e,null==n?"":n)):u(this.node(),t)}},function(t,e,n){"use strict";var r,i=n(22),a=n(40),o=n(38),u=function(t,e){var n=Object(o.a)(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},s={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return u(100*t,e)},r:u,s:function(t,e){var n=Object(o.a)(t,e);if(!n)return t+"";var i=n[0],a=n[1],u=a-(r=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,s=i.length;return u===s?i:u>s?i+new Array(u-s+1).join("0"):u>0?i.slice(0,u)+"."+i.slice(u):"0."+new Array(1-u).join("0")+Object(o.a)(t,Math.max(0,e+u-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},l=function(t){return t},c=Array.prototype.map,h=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];e.a=function(t){var e,n,o=void 0===t.grouping||void 0===t.thousands?l:(e=c.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,a=[],o=0,u=e[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),a.push(t.substring(i-=u,i+u)),!((s+=u+1)>r));)u=e[o=(o+1)%e.length];return a.reverse().join(n)}),u=void 0===t.currency?"":t.currency[0]+"",f=void 0===t.currency?"":t.currency[1]+"",d=void 0===t.decimal?".":t.decimal+"",p=void 0===t.numerals?l:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(c.call(t.numerals,String)),g=void 0===t.percent?"%":t.percent+"",m=void 0===t.minus?"-":t.minus+"",v=void 0===t.nan?"NaN":t.nan+"";function y(t){var e=(t=Object(a.b)(t)).fill,n=t.align,i=t.sign,l=t.symbol,c=t.zero,y=t.width,x=t.comma,b=t.precision,w=t.trim,_=t.type;"n"===_?(x=!0,_="g"):s[_]||(void 0===b&&(b=12),w=!0,_="g"),(c||"0"===e&&"="===n)&&(c=!0,e="0",n="=");var M="$"===l?u:"#"===l&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",A="$"===l?f:/[%p]/.test(_)?g:"",k=s[_],T=/[defgprs%]/.test(_);function E(t){var a,u,s,l=M,f=A;if("c"===_)f=k(t)+f,t="";else{var g=(t=+t)<0;if(t=isNaN(t)?v:k(Math.abs(t),b),w&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),g&&0==+t&&(g=!1),l=(g?"("===i?i:m:"-"===i||"("===i?"":i)+l,f=("s"===_?h[8+r/3]:"")+f+(g&&"("===i?")":""),T)for(a=-1,u=t.length;++a<u;)if(48>(s=t.charCodeAt(a))||s>57){f=(46===s?d+t.slice(a+1):t.slice(a))+f,t=t.slice(0,a);break}}x&&!c&&(t=o(t,1/0));var E=l.length+t.length+f.length,C=E<y?new Array(y-E+1).join(e):"";switch(x&&c&&(t=o(C+t,C.length?y-f.length:1/0),C=""),n){case"<":t=l+t+f+C;break;case"=":t=l+C+t+f;break;case"^":t=C.slice(0,E=C.length>>1)+l+t+f+C.slice(E);break;default:t=C+l+t+f}return p(t)}return b=void 0===b?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b)),E.toString=function(){return t+""},E}return{format:y,formatPrefix:function(t,e){var n=y(((t=Object(a.b)(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Object(i.a)(e)/3))),o=Math.pow(10,-r),u=h[8+r/3];return function(t){return n(o*t)+u}}}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return a}));var r=n(1),i=Object(r.a)((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}));e.a=i;var a=i.range},function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n(1),i=n(3),a=Object(r.a)((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*i.d-t.getMinutes()*i.c)}),(function(t,e){t.setTime(+t+e*i.b)}),(function(t,e){return(e-t)/i.b}),(function(t){return t.getHours()}));e.a=a;var o=a.range},function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n(1),i=n(3),a=Object(r.a)((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*i.d)}),(function(t,e){t.setTime(+t+e*i.c)}),(function(t,e){return(e-t)/i.c}),(function(t){return t.getMinutes()}));e.a=a;var o=a.range},function(t,e,n){"use strict";n.d(e,"b",(function(){return a}));var r=n(1),i=Object(r.a)((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}));e.a=i;var a=i.range},function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n(1),i=n(3),a=Object(r.a)((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*i.b)}),(function(t,e){return(e-t)/i.b}),(function(t){return t.getUTCHours()}));e.a=a;var o=a.range},function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n(1),i=n(3),a=Object(r.a)((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*i.c)}),(function(t,e){return(e-t)/i.c}),(function(t){return t.getUTCMinutes()}));e.a=a;var o=a.range},function(t,e,n){"use strict";var r,i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}void 0===(r=function(t){var e,r=n(39),u=n(28),s=n(35),l=s.axisTimeCombinations,c=s.timeBenchmarks,h=n(87),f=h.convertMillisecondsToDays,d=h.getLocaleDateFormatter,p={minute:u.timeFormat("%M m"),hour:u.timeFormat("%H %p"),day:u.timeFormat("%e"),daymonth:u.timeFormat("%d %b"),month:u.timeFormat("%b"),year:u.timeFormat("%Y")},g=(o(e={},l.MINUTE_HOUR,r.timeHour.every(1)),o(e,l.HOUR_DAY,r.timeDay.every(1)),o(e,l.DAY_MONTH,r.timeMonth.every(1)),o(e,l.MONTH_YEAR,r.timeYear.every(1)),e),m=function(t){var e=c.ONE_YEAR;return t<c.ONE_DAY?l.HOUR_DAY:t<e?l.DAY_MONTH:l.MONTH_YEAR},v=function(t,e){var n=Math.ceil(t/70);return e<5?r.timeDay:Math.min(e,n)};return{getTimeSeriesAxis:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=new Date(t[0].date),u=new Date(t[t.length-1].date),s=u-o;r&&("undefined"==typeof Intl||"object"===("undefined"==typeof Intl?"undefined":a(Intl))&&!Intl.DateTimeFormat)&&(r=null),n||(n=m(s));var l=n.split("-"),c=i(l,2),h=c[0],y=c[1],x=g[n],b=v(e,f(s));return{minor:{format:r?d(r,h):p[h],tick:b},major:{format:r?d(r,y):p[y],tick:x}}}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";var r;void 0===(r=function(t){n(2);var e="highlight-filter";return{bounceCircleHighlight:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*n,i=100,a=50;t.transition().ease(e).duration(i).attr("r",r).transition().ease(e).delay(a).duration(i).attr("r",n)},createFilterContainer:function(t){return t.append("defs").append("filter").attr("id",e)},createGausianBlur:function(t){return t.append("feGaussianBlur").attr("stdDeviation",1).attr("result","coloredBlur"),e},createWhiteGlow:function(t){t.attr("x","-5000%").attr("y","-5000%").attr("width","10000%").attr("height","10000%"),t.append("feFlood").attr("result","flood").attr("flood-color","#ffffff").attr("flood-opacity","1"),t.append("feComposite").attr("result","mask").attr("in2","SourceGraphic").attr("operator","in").attr("in","flood"),t.append("feMorphology").attr("result","dilated").attr("operator","dilate").attr("radius","2").attr("in","mask"),t.append("feGaussianBlur").attr("result","blurred").attr("stdDeviation","5").attr("in","dilated");var n=t.append("feMerge");return n.append("feMergeNode").attr("in","blurred"),n.append("feMergeNode").attr("in","SourceGraphic"),e},createGlow:function(t){t.attr("x","-30%").attr("y","-30%").attr("width","160%").attr("height","160%"),t.append("feGaussianBlur").attr("stdDeviation","0.9 0.9").attr("result","glow");var n=t.append("feMerge");return n.append("feMergeNode").attr("in","glow"),n.append("feMergeNode").attr("in","glow"),n.append("feMergeNode").attr("in","glow"),e},createGlowWithMatrix:function(t){t.attr("x","-500%").attr("y","-500%").attr("width","1800%").attr("height","1800%"),t.append("feColorMatrix").attr("type","matrix").attr("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"),t.append("feGaussianBlur").attr("stdDeviation","1").attr("result","coloredBlur").attr("in","SourceGraphic");var n=t.append("feMerge");return n.append("feMergeNode").attr("in","coloredBlur"),n.append("feMergeNode").attr("in","SourceGraphic"),e}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";var r,i,a,o,u=n(14),s=180/Math.PI,l={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},c=function(t,e,n,r,i,a){var o,u,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,l/=u),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*s,skewX:Math.atan(l)*s,scaleX:o,scaleY:u}};function h(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(a,o){var s=[],l=[];return a=t(a),o=t(o),function(t,r,i,a,o,s){if(t!==i||r!==a){var l=o.push("translate(",null,e,null,n);s.push({i:l-4,x:Object(u.a)(t,i)},{i:l-2,x:Object(u.a)(r,a)})}else(i||a)&&o.push("translate("+i+e+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,s,l),function(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Object(u.a)(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(a.rotate,o.rotate,s,l),function(t,e,n,a){t!==e?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Object(u.a)(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(a.skewX,o.skewX,s,l),function(t,e,n,r,a,o){if(t!==n||e!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:Object(u.a)(t,n)},{i:s-2,x:Object(u.a)(e,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,l),a=o=null,function(t){for(var e,n=-1,r=l.length;++n<r;)s[(e=l[n]).i]=e.x(t);return s.join("")}}}n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return d}));var f=h((function(t){return"none"===t?l:(r||(r=document.createElement("DIV"),i=document.documentElement,a=document.defaultView),r.style.transform=t,t=a.getComputedStyle(i.appendChild(r),null).getPropertyValue("transform"),i.removeChild(r),t=t.slice(7,-1).split(","),c(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),d=h((function(t){return null==t?l:(o||(o=document.createElementNS("http://www.w3.org/2000/svg","g")),o.setAttribute("transform",t),(t=o.transform.baseVal.consolidate())?(t=t.matrix,c(t.a,t.b,t.c,t.d,t.e,t.f)):l)}),", ",")",")")},function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var r=n(15),i=n(7),a=n(47),o=-.14861,u=1.78277,s=-.29227,l=-.90649,c=1.97294,h=c*l,f=c*u,d=u*s-l*o;function p(t){if(t instanceof m)return new m(t.h,t.s,t.l,t.opacity);t instanceof i.b||(t=Object(i.h)(t));var e=t.r/255,n=t.g/255,r=t.b/255,o=(d*r+h*e-f*n)/(d+h-f),u=r-o,p=(c*(n-o)-s*u)/l,g=Math.sqrt(p*p+u*u)/(c*o*(1-o)),v=g?Math.atan2(p,u)*a.b-120:NaN;return new m(v<0?v+360:v,g,o,t.opacity)}function g(t,e,n,r){return 1===arguments.length?p(t):new m(t,e,n,null==r?1:r)}function m(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Object(r.a)(m,g,Object(r.b)(i.a,{brighter:function(t){return t=null==t?i.c:Math.pow(i.c,t),new m(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?i.d:Math.pow(i.d,t),new m(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*a.a,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),h=Math.sin(t);return new i.b(255*(e+n*(o*r+u*h)),255*(e+n*(s*r+l*h)),255*(e+n*(c*r)),this.opacity)}}))},function(t,e,n){"use strict";var r={value:function(){}};function i(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new a(r)}function a(t){this._=t}function o(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function u(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function s(t,e,n){for(var i=0,a=t.length;i<a;++i)if(t[i].name===e){t[i]=r,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}a.prototype=i.prototype={constructor:a,on:function(t,e){var n,r=this._,i=o(t+"",r),a=-1,l=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<l;)if(n=(t=i[a]).type)r[n]=s(r[n],t.name,e);else if(null==e)for(n in r)r[n]=s(r[n],t.name,null);return this}for(;++a<l;)if((n=(t=i[a]).type)&&(n=u(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new a(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(r=this._[t]).length;a<n;++a)r[a].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}},e.a=i},function(t,e,n){"use strict";var r=n(22);e.a=function(t){return Math.max(0,-Object(r.a)(Math.abs(t)))}},function(t,e,n){"use strict";var r=n(22);e.a=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Object(r.a)(e)/3)))-Object(r.a)(Math.abs(t)))}},function(t,e,n){"use strict";var r=n(22);e.a=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Object(r.a)(e)-Object(r.a)(t))+1}},function(t,e,n){"use strict";e.a=function(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}},function(t,e,n){"use strict";var r=n(46),i=n(30);e.a=function(t){var e=Object(r.a)();return e.changedTouches&&(e=e.changedTouches[0]),Object(i.a)(t,e)}},function(t,e,n){"use strict";var r=n(46),i=n(30);e.a=function(t,e,n){arguments.length<3&&(n=e,e=Object(r.a)().changedTouches);for(var a,o=0,u=e?e.length:0;o<u;++o)if((a=e[o]).identifier===n)return Object(i.a)(t,a);return null}},function(t,e){function n(t,e){for(var n in t)e[n]=t[n]}function r(t,e){var r=t.prototype;if(Object.create){var i=Object.create(e.prototype);r.__proto__=i}if(!(r instanceof e)){function a(){}a.prototype=e.prototype,n(r,a=new a),t.prototype=r=a}r.constructor!=t&&("function"!=typeof t&&console.error("unknow Class:"+t),r.constructor=t)}var i={},a=i.ELEMENT_NODE=1,o=i.ATTRIBUTE_NODE=2,u=i.TEXT_NODE=3,s=i.CDATA_SECTION_NODE=4,l=i.ENTITY_REFERENCE_NODE=5,c=i.ENTITY_NODE=6,h=i.PROCESSING_INSTRUCTION_NODE=7,f=i.COMMENT_NODE=8,d=i.DOCUMENT_NODE=9,p=i.DOCUMENT_TYPE_NODE=10,g=i.DOCUMENT_FRAGMENT_NODE=11,m=i.NOTATION_NODE=12,v={},y={},x=(v.INDEX_SIZE_ERR=(y[1]="Index size error",1),v.DOMSTRING_SIZE_ERR=(y[2]="DOMString size error",2),v.HIERARCHY_REQUEST_ERR=(y[3]="Hierarchy request error",3)),b=(v.WRONG_DOCUMENT_ERR=(y[4]="Wrong document",4),v.INVALID_CHARACTER_ERR=(y[5]="Invalid character",5),v.NO_DATA_ALLOWED_ERR=(y[6]="No data allowed",6),v.NO_MODIFICATION_ALLOWED_ERR=(y[7]="No modification allowed",7),v.NOT_FOUND_ERR=(y[8]="Not found",8)),w=(v.NOT_SUPPORTED_ERR=(y[9]="Not supported",9),v.INUSE_ATTRIBUTE_ERR=(y[10]="Attribute in use",10));v.INVALID_STATE_ERR=(y[11]="Invalid state",11),v.SYNTAX_ERR=(y[12]="Syntax error",12),v.INVALID_MODIFICATION_ERR=(y[13]="Invalid modification",13),v.NAMESPACE_ERR=(y[14]="Invalid namespace",14),v.INVALID_ACCESS_ERR=(y[15]="Invalid access",15);function _(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,y[t]),this.message=y[t],Error.captureStackTrace&&Error.captureStackTrace(this,_);return n.code=t,e&&(this.message=this.message+": "+e),n}function M(){}function A(t,e){this._node=t,this._refresh=e,k(this)}function k(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var r=t._refresh(t._node);et(t,"length",r.length),n(r,t),t._inc=e}}function T(){}function E(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function C(t,e,n,r){if(r?e[E(e,r)]=n:e[e.length++]=n,t){n.ownerElement=t;var i=t.ownerDocument;i&&(r&&R(i,t,r),function(t,e,n){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&(e._nsMap[n.prefix?n.localName:""]=n.value)}(i,t,n))}}function S(t,e,n){var r=E(e,n);if(!(r>=0))throw _(b,new Error(t.tagName+"@"+n));for(var i=e.length-1;r<i;)e[r]=e[++r];if(e.length=i,t){var a=t.ownerDocument;a&&(R(a,t,n),n.ownerElement=null)}}function O(t){if(this._features={},t)for(var e in t)this._features=t[e]}function N(){}function P(t){return("<"==t?"&lt;":">"==t&&"&gt;")||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function D(t,e){if(e(t))return!0;if(t=t.firstChild)do{if(D(t,e))return!0}while(t=t.nextSibling)}function B(){}function R(t,e,n,r){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete e._nsMap[n.prefix?n.localName:""]}function I(t,e,n){if(t&&t._inc){t._inc++;var r=e.childNodes;if(n)r[r.length++]=n;else{for(var i=e.firstChild,a=0;i;)r[a++]=i,i=i.nextSibling;r.length=a}}}function L(t,e){var n=e.previousSibling,r=e.nextSibling;return n?n.nextSibling=r:t.firstChild=r,r?r.previousSibling=n:t.lastChild=n,I(t.ownerDocument,t),e}function j(t,e,n){var r=e.parentNode;if(r&&r.removeChild(e),e.nodeType===g){var i=e.firstChild;if(null==i)return e;var a=e.lastChild}else i=a=e;var o=n?n.previousSibling:t.lastChild;i.previousSibling=o,a.nextSibling=n,o?o.nextSibling=i:t.firstChild=i,null==n?t.lastChild=a:n.previousSibling=a;do{i.parentNode=t}while(i!==a&&(i=i.nextSibling));return I(t.ownerDocument||t,t),e.nodeType==g&&(e.firstChild=e.lastChild=null),e}function F(){this._nsMap={}}function V(){}function z(){}function U(){}function H(){}function q(){}function Y(){}function X(){}function G(){}function W(){}function $(){}function Q(){}function Z(){}function K(t,e){var n=[],r=9==this.nodeType?this.documentElement:this,i=r.prefix,a=r.namespaceURI;if(a&&null==i&&null==(i=r.lookupPrefix(a)))var o=[{namespace:a,prefix:null}];return tt(this,n,t,e,o),n.join("")}function J(t,e,n){var r=t.prefix||"",i=t.namespaceURI;if(!r&&!i)return!1;if("xml"===r&&"http://www.w3.org/XML/1998/namespace"===i||"http://www.w3.org/2000/xmlns/"==i)return!1;for(var a=n.length;a--;){var o=n[a];if(o.prefix==r)return o.namespace!=i}return!0}function tt(t,e,n,r,i){if(r){if(!(t=r(t)))return;if("string"==typeof t)return void e.push(t)}switch(t.nodeType){case a:i||(i=[]);i.length;var c=t.attributes,m=c.length,v=t.firstChild,y=t.tagName;n="http://www.w3.org/1999/xhtml"===t.namespaceURI||n,e.push("<",y);for(var x=0;x<m;x++){"xmlns"==(b=c.item(x)).prefix?i.push({prefix:b.localName,namespace:b.value}):"xmlns"==b.nodeName&&i.push({prefix:"",namespace:b.value})}for(x=0;x<m;x++){var b;if(J(b=c.item(x),0,i)){var w=b.prefix||"",_=b.namespaceURI,M=w?" xmlns:"+w:" xmlns";e.push(M,'="',_,'"'),i.push({prefix:w,namespace:_})}tt(b,e,n,r,i)}if(J(t,0,i)){w=t.prefix||"",_=t.namespaceURI,M=w?" xmlns:"+w:" xmlns";e.push(M,'="',_,'"'),i.push({prefix:w,namespace:_})}if(v||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(y)){if(e.push(">"),n&&/^script$/i.test(y))for(;v;)v.data?e.push(v.data):tt(v,e,n,r,i),v=v.nextSibling;else for(;v;)tt(v,e,n,r,i),v=v.nextSibling;e.push("</",y,">")}else e.push("/>");return;case d:case g:for(v=t.firstChild;v;)tt(v,e,n,r,i),v=v.nextSibling;return;case o:return e.push(" ",t.name,'="',t.value.replace(/[<&"]/g,P),'"');case u:return e.push(t.data.replace(/[<&]/g,P));case s:return e.push("<![CDATA[",t.data,"]]>");case f:return e.push("\x3c!--",t.data,"--\x3e");case p:var A=t.publicId,k=t.systemId;if(e.push("<!DOCTYPE ",t.name),A)e.push(' PUBLIC "',A),k&&"."!=k&&e.push('" "',k),e.push('">');else if(k&&"."!=k)e.push(' SYSTEM "',k,'">');else{var T=t.internalSubset;T&&e.push(" [",T,"]"),e.push(">")}return;case h:return e.push("<?",t.target," ",t.data,"?>");case l:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function et(t,e,n){t[e]=n}_.prototype=Error.prototype,n(v,_),M.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var n=[],r=0;r<this.length;r++)tt(this[r],n,t,e);return n.join("")}},A.prototype.item=function(t){return k(this),this[t]},r(A,M),T.prototype={length:0,item:M.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new _(w);var n=this.getNamedItem(t.nodeName);return C(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e,n=t.ownerElement;if(n&&n!=this._ownerElement)throw new _(w);return e=this.getNamedItemNS(t.namespaceURI,t.localName),C(this._ownerElement,this,t,e),e},removeNamedItem:function(t){var e=this.getNamedItem(t);return S(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return S(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var r=this[n];if(r.localName==e&&r.namespaceURI==t)return r}return null}},O.prototype={hasFeature:function(t,e){var n=this._features[t.toLowerCase()];return!(!n||e&&!(e in n))},createDocument:function(t,e,n){var r=new B;if(r.implementation=this,r.childNodes=new M,r.doctype=n,n&&r.appendChild(n),e){var i=r.createElementNS(t,e);r.appendChild(i)}return r},createDocumentType:function(t,e,n){var r=new Y;return r.name=t,r.nodeName=t,r.publicId=e,r.systemId=n,r}},N.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return j(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return L(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return function t(e,n,r){var i=new n.constructor;for(var u in n){var s=n[u];"object"!=typeof s&&s!=i[u]&&(i[u]=s)}n.childNodes&&(i.childNodes=new M);switch(i.ownerDocument=e,i.nodeType){case a:var l=n.attributes,c=i.attributes=new T,h=l.length;c._ownerElement=i;for(var f=0;f<h;f++)i.setAttributeNode(t(e,l.item(f),!0));break;case o:r=!0}if(r)for(var d=n.firstChild;d;)i.appendChild(t(e,d,r)),d=d.nextSibling;return i}(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==u&&t.nodeType==u?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n)for(var r in n)if(n[r]==t)return r;e=e.nodeType==o?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&t in n)return n[t];e=e.nodeType==o?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){return null==this.lookupPrefix(t)}},n(i,N),n(i,N.prototype),B.prototype={nodeName:"#document",nodeType:d,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==g){for(var n=t.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,e),n=r}return t}return null==this.documentElement&&t.nodeType==a&&(this.documentElement=t),j(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),L(this,t)},importNode:function(t,e){return function t(e,n,r){var i;switch(n.nodeType){case a:(i=n.cloneNode(!1)).ownerDocument=e;case g:break;case o:r=!0}i||(i=n.cloneNode(!1));if(i.ownerDocument=e,i.parentNode=null,r)for(var u=n.firstChild;u;)i.appendChild(t(e,u,r)),u=u.nextSibling;return i}(this,t,e)},getElementById:function(t){var e=null;return D(this.documentElement,(function(n){if(n.nodeType==a&&n.getAttribute("id")==t)return e=n,!0})),e},createElement:function(t){var e=new F;return e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.childNodes=new M,(e.attributes=new T)._ownerElement=e,e},createDocumentFragment:function(){var t=new $;return t.ownerDocument=this,t.childNodes=new M,t},createTextNode:function(t){var e=new U;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new H;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new q;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new Q;return n.ownerDocument=this,n.tagName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new V;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new W;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new F,r=e.split(":"),i=n.attributes=new T;return n.childNodes=new M,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=e,i._ownerElement=n,n},createAttributeNS:function(t,e){var n=new V,r=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=e,n}},r(B,N),F.prototype={nodeType:a,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===g?this.insertBefore(t,null):function(t,e){var n=e.parentNode;if(n){var r=t.lastChild;n.removeChild(e);r=t.lastChild}return r=t.lastChild,e.parentNode=t,e.previousSibling=r,e.nextSibling=null,r?r.nextSibling=e:t.firstChild=e,t.lastChild=e,I(t.ownerDocument,t,e),e}(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var r=this.ownerDocument.createAttributeNS(t,e);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new A(this,(function(e){var n=[];return D(e,(function(r){r===e||r.nodeType!=a||"*"!==t&&r.tagName!=t||n.push(r)})),n}))},getElementsByTagNameNS:function(t,e){return new A(this,(function(n){var r=[];return D(n,(function(i){i===n||i.nodeType!==a||"*"!==t&&i.namespaceURI!==t||"*"!==e&&i.localName!=e||r.push(i)})),r}))}},B.prototype.getElementsByTagName=F.prototype.getElementsByTagName,B.prototype.getElementsByTagNameNS=F.prototype.getElementsByTagNameNS,r(F,N),V.prototype.nodeType=o,r(V,N),z.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(y[x])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){n=this.data.substring(0,t)+n+this.data.substring(t+e),this.nodeValue=this.data=n,this.length=n.length}},r(z,N),U.prototype={nodeName:"#text",nodeType:u,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},r(U,z),H.prototype={nodeName:"#comment",nodeType:f},r(H,z),q.prototype={nodeName:"#cdata-section",nodeType:s},r(q,z),Y.prototype.nodeType=p,r(Y,N),X.prototype.nodeType=m,r(X,N),G.prototype.nodeType=c,r(G,N),W.prototype.nodeType=l,r(W,N),$.prototype.nodeName="#document-fragment",$.prototype.nodeType=g,r($,N),Q.prototype.nodeType=h,r(Q,N),Z.prototype.serializeToString=function(t,e,n){return K.call(t,e,n)},N.prototype.toString=K;try{if(Object.defineProperty){Object.defineProperty(A.prototype,"length",{get:function(){return k(this),this.$$length}}),Object.defineProperty(N.prototype,"textContent",{get:function(){return function t(e){switch(e.nodeType){case a:case g:var n=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&n.push(t(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}}(this)},set:function(t){switch(this.nodeType){case a:case g:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),et=function(t,e,n){t["$$"+e]=n}}}catch(t){}e.DOMImplementation=O,e.XMLSerializer=Z},function(t,e,n){"use strict";var r;void 0===(r=function(t){n(9);return{addDays:function(t,e){var n=new Date(t);return n.setDate(n.getDate()+e),String(n)},convertMillisecondsToDays:function(t){return Math.ceil(t/864e5)},diffDays:function(t,e){return Math.ceil(Math.abs((new Date(t).getTime()-new Date(e).getTime())/864e5))},getLocaleDateFormatter:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day",n=localeTimeMap[e],r=new Intl.DateTimeFormat(t,n);return function(t){return r.format(t)}}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.colors=e.bullet=e.brush=e.step=e.heatmap=e.stackedBar=e.groupedRow=e.groupedBar=e.scatterPlot=e.stackedArea=e.sparkline=e.row=e.miniTooltip=e.tooltip=e.loadingStates=e.line=e.legend=e.donut=e.bar=void 0;var r=_(n(90)),i=_(n(101)),a=_(n(102)),o=_(n(103)),u=_(n(18)),s=_(n(104)),l=_(n(106)),c=_(n(107)),h=_(n(108)),f=_(n(109)),d=_(n(110)),p=_(n(111)),g=_(n(112)),m=_(n(113)),v=_(n(114)),y=_(n(115)),x=_(n(116)),b=_(n(117)),w=_(n(10));function _(t){return t&&t.__esModule?t:{default:t}}e.bar=r.default,e.donut=i.default,e.legend=a.default,e.line=o.default,e.loadingStates=u.default,e.tooltip=l.default,e.miniTooltip=c.default,e.row=s.default,e.sparkline=h.default,e.stackedArea=f.default,e.scatterPlot=d.default,e.groupedBar=p.default,e.groupedRow=g.default,e.stackedBar=m.default,e.heatmap=v.default,e.step=y.default,e.brush=x.default,e.bullet=b.default,e.colors=w.default},,function(t,e,n){"use strict";var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};void 0===(r=function(t){var e=n(0),r=n(11),a=n(19),o=n(16),u=n(13),s=n(9),l=n(12),c=n(2),h=(n(8),n(26)),f=n(17).exportChart,d=n(10),p=n(18).bar,g=n(24).uniqueId,m=n(100).setDefaultLocale;return function(){var t={top:20,right:20,bottom:30,left:40},n=960,v=500,y=p,x=void 0,b=void 0,w=void 0,_=void 0,M=void 0,A=void 0,k=d.singleColors.aloeGreen,T=void 0,E=void 0,C=null,S=void 0,O=g("bar-gradient"),N=5,P=5,D=1,B=",f",R=!1,I=7,L=",f",j=12,F=.1,V=void 0,z=void 0,U=0,H=0,q=10,Y=!1,X=void 0,G=!0,W=!1,$=r.easeQuadInOut,Q=function(t,e){return 70*e},Z=function(t){return t.attr("fill",(function(t){var e=t.name;return o.color(C?C[1]:E(e)).darker()}))},K=void 0,J="value",tt="name",et=void 0,nt=null,rt=null,it=30,at=null,ot=null,ut=-30,st=!0,lt=null,ct=s,ht=u.dispatch("customMouseOver","customMouseOut","customMouseMove","customClick"),ft=function(t){return t.name},dt=function(t){return t.value},pt=function(t){var e=t.value;return M(e)+I},gt=function(t){var e=t.name;return A(e)+A.bandwidth()/2+j*(3/8)},mt=function(t){var e=t.name;return M(e)},vt=function(t){var e=t.value;return A(e)-I};function yt(r){lt&&(ct=m(lt)),r.each((function(r){w=n-t.left-t.right-1.2*q,_=v-t.top-t.bottom;var i,o=function(t){var e=t.data,n=t.dataZeroed;K&&(e.sort(K),n.sort(K));return{data:e,dataZeroed:n}}(function(t){var e=t.reduce((function(t,e){return e.value=+e[J],e.name=String(e[tt]),[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t),[e])}),[]),n=e.map((function(t){return{value:0,name:String(t[tt])}}));return{data:e,dataZeroed:n}}(r));x=o.data,b=o.dataZeroed,function(){var t=Math.min(D*e.max(x,dt));Y?(M=l.scaleLinear().domain([0,t]).rangeRound([0,w]),A=l.scaleBand().domain(x.map(ft)).rangeRound([_,0]).padding(F)):(M=l.scaleBand().domain(x.map(ft)).rangeRound([0,w]).padding(F),A=l.scaleLinear().domain([0,t]).rangeRound([_,0]));T=st?x.map((function(t){return t})).reverse().map((function(t,e){return{name:t.name,color:k[e%k.length]}})):x.map((function(t){return t})).map((function(t,e){return{name:t.name,color:k[e%k.length]}}));E=function(t){return T.filter((function(e){return e.name===t}))[0].color}}(),function(t){Y?(V=a.axisBottom(M).ticks(P,t.format(B)).tickSizeInner([-_]),z=a.axisLeft(A)):(V=a.axisBottom(M),z=a.axisLeft(A).ticks(N,t.format(B)))}(ct),function(e){X||(X=c.select(e).append("svg").classed("britechart bar-chart",!0),function(){var e=X.append("g").classed("container-group",!0).attr("transform","translate("+(t.left+q)+", "+t.top+")");e.append("g").classed("grid-lines-group",!0),e.append("g").classed("chart-group",!0),e.append("g").classed("x-axis-group axis",!0).append("g").classed("x-axis-label",!0),e.append("g").attr("transform","translate("+-1*q+", 0)").classed("y-axis-group axis",!0).append("g").classed("y-axis-label",!0),e.append("g").classed("metadata-group",!0)}());X.attr("width",n).attr("height",v)}(this),!S&&C&&(S=X.select(".metadata-group").append("linearGradient").attr("id",O).attr("x1","0%").attr("y1","0%").attr("x2","100%").attr("y2","100%").attr("gradientUnits","userSpaceOnUse").selectAll("stop").data([{offset:"0%",color:C[0]},{offset:"50%",color:C[1]}]).enter().append("stop").attr("offset",(function(t){return t.offset})).attr("stop-color",(function(t){return t.color}))),X.select(".grid-lines-group").selectAll("line").remove(),Y?(X.select(".grid-lines-group").selectAll("line.vertical-grid-line").data(M.ticks(P).slice(1)).enter().append("line").attr("class","vertical-grid-line").attr("y1",U).attr("y2",_).attr("x1",(function(t){return M(t)})).attr("x2",(function(t){return M(t)})),X.select(".grid-lines-group").selectAll("line.extended-y-line").data([0]).enter().append("line").attr("class","extended-y-line").attr("y1",H).attr("y2",_).attr("x1",0).attr("x2",0)):(X.select(".grid-lines-group").selectAll("line.horizontal-grid-line").data(A.ticks(N).slice(1)).enter().append("line").attr("class","horizontal-grid-line").attr("x1",U).attr("x2",w).attr("y1",(function(t){return A(t)})).attr("y2",(function(t){return A(t)})),X.select(".grid-lines-group").selectAll("line.extended-x-line").data([0]).enter().append("line").attr("class","extended-x-line").attr("x1",U).attr("x2",w).attr("y1",_).attr("y2",_)),X.select(".x-axis-group.axis").attr("transform","translate(0, "+_+")").call(V),X.select(".y-axis-group.axis").call(z),X.selectAll(".y-axis-group .tick text").call(bt,t.left-q),ot&&(at&&at.remove(),at=X.select(".y-axis-label").append("text").classed("y-axis-label-text",!0).attr("x",-_/2).attr("y",ut).attr("text-anchor","middle").attr("transform","rotate(270 0 0)").text(ot)),rt&&(nt&&nt.remove(),nt=X.select(".x-axis-label").append("text").attr("y",it).attr("text-anchor","middle").classed("x-axis-label-text",!0).attr("x",w/2).text(rt)),i=void 0,W?(i=X.select(".chart-group").selectAll(".bar").data(b),Y?wt(i):_t(i),i=X.select(".chart-group").selectAll(".bar").data(x),Y?function(t){t.enter().append("rect").classed("bar",!0).attr("x",0).attr("y",_).attr("height",A.bandwidth()).attr("width",(function(t){var e=t.value;return M(e)})).on("mouseover",(function(t,e,n){Mt(this,t,n,w,_)})).on("mousemove",(function(t){At(this,t,w,_)})).on("mouseout",(function(t,e,n){kt(this,t,n,w,_)})).on("click",(function(t){Tt(this,t,w,_)})),t.attr("x",0).attr("y",(function(t){var e=t.name;return A(e)})).attr("height",A.bandwidth()).attr("fill",(function(t){return xt(t.name)})).transition().duration(800).delay(Q).ease($).attr("width",(function(t){var e=t.value;return M(e)}))}(i):function(t){t.enter().append("rect").classed("bar",!0).attr("x",w).attr("y",(function(t){var e=t.value;return A(e)})).attr("width",M.bandwidth()).attr("height",(function(t){var e=t.value;return _-A(e)})).on("mouseover",(function(t,e,n){Mt(this,t,n,w,_)})).on("mousemove",(function(t){At(this,t,w,_)})).on("mouseout",(function(t,e,n){kt(this,t,n,w,_)})).on("click",(function(t){Tt(this,t,w,_)})).merge(t).attr("x",(function(t){var e=t.name;return M(e)})).attr("width",M.bandwidth()).attr("fill",(function(t){return xt(t.name)})).transition().duration(800).delay(Q).ease($).attr("y",(function(t){var e=t.value;return A(e)})).attr("height",(function(t){var e=t.value;return _-A(e)}))}(i),i.exit().transition().style("opacity",0).remove()):(i=X.select(".chart-group").selectAll(".bar").data(x),Y?wt(i):_t(i),i.exit().remove()),R&&function(t){var e=Y?pt:mt,n=Y?gt:vt;et&&X.selectAll(".percentage-label-group").remove();(et=X.select(".metadata-group").append("g").classed("percentage-label-group",!0).selectAll("text").data(x.reverse()).enter().append("text")).classed("percentage-label",!0).attr("x",e).attr("y",n).text((function(e){var n=e.value;return t.format(L)(n)})).attr("font-size",j+"px")}(ct)}))}function xt(t){return C?"url(#"+O+")":E(t)}function bt(t,e){h.wrapTextWithEllipses(t,e,0,1)}function wt(t){t.enter().append("rect").classed("bar",!0).attr("y",_).attr("x",0).attr("height",A.bandwidth()).attr("width",(function(t){var e=t.value;return M(e)})).on("mouseover",(function(t,e,n){Mt(this,t,n,w,_)})).on("mousemove",(function(t){At(this,t,w,_)})).on("mouseout",(function(t,e,n){kt(this,t,n,w,_)})).on("click",(function(t){Tt(this,t,w,_)})).merge(t).attr("x",0).attr("y",(function(t){var e=t.name;return A(e)})).attr("height",A.bandwidth()).attr("width",(function(t){var e=t.value;return M(e)})).attr("fill",(function(t){return xt(t.name)}))}function _t(t){t.enter().append("rect").classed("bar",!0).attr("x",w).attr("y",(function(t){var e=t.value;return A(e)})).attr("width",M.bandwidth()).attr("height",(function(t){var e=t.value;return _-A(e)})).on("mouseover",(function(t,e,n){Mt(this,t,n,w,_)})).on("mousemove",(function(t){At(this,t,w,_)})).on("mouseout",(function(t,e,n){kt(this,t,n,w,_)})).on("click",(function(t){Tt(this,t,w,_)})).merge(t).attr("x",(function(t){var e=t.name;return M(e)})).attr("y",(function(t){var e=t.value;return A(e)})).attr("width",M.bandwidth()).attr("height",(function(t){var e=t.value;return _-A(e)})).attr("fill",(function(t){return xt(t.name)}))}function Mt(t,e,n,r,i){ht.call("customMouseOver",t,e,c.mouse(t),[r,i]),Z=Z||function(){},G?Z(c.select(t)):n.forEach((function(e){e!==t&&Z(c.select(e))}))}function At(t,e,n,r){ht.call("customMouseMove",t,e,c.mouse(t),[n,r])}function kt(t,e,n,r,i){ht.call("customMouseOut",t,e,c.mouse(t),[r,i]),n.forEach((function(t){c.select(t).attr("fill",(function(t){return xt(t.name)}))}))}function Tt(t,e,n,r){ht.call("customClick",t,e,c.mouse(t),[n,r])}return yt.chartGradient=function(t){return arguments.length?(C=t,this):C},yt.betweenBarsPadding=function(t){return arguments.length?(F=t,this):F},yt.colorSchema=function(t){return arguments.length?(k=t,this):k},yt.enableLabels=function(t){return arguments.length?(R=t,this):R},yt.exportChart=function(t,e){f.call(yt,X,t,e)},yt.hasPercentage=function(t){return arguments.length?(B=t?"%":",f",this):"%"===B},yt.hasSingleBarHighlight=function(t){return arguments.length?(G=t,this):G},yt.height=function(t){return arguments.length?(v=t,this):v},yt.highlightBarFunction=function(t){return arguments.length?(Z=t,this):Z},yt.isAnimated=function(t){return arguments.length?(W=t,this):W},yt.isHorizontal=function(t){return arguments.length?(Y=t,this):Y},yt.labelsMargin=function(t){return arguments.length?(I=t,this):I},yt.labelsNumberFormat=function(t){return arguments.length?(L=t,this):L},yt.labelsSize=function(t){return arguments.length?(j=t,this):j},yt.loadingState=function(t){return arguments.length?(y=t,this):y},yt.margin=function(e){return arguments.length?(t=i({},t,e),this):t},yt.nameLabel=function(t){return arguments.length?(tt=t,this):tt},yt.numberFormat=function(t){return arguments.length?(B=t,this):B},yt.on=function(){var t=ht.on.apply(ht,arguments);return t===ht?yt:t},yt.percentageAxisToMaxRatio=function(t){return arguments.length?(D=t,this):D},yt.shouldReverseColorList=function(t){return arguments.length?(st=t,this):st},yt.orderingFunction=function(t){return arguments.length?(K=t,this):K},yt.valueLabel=function(t){return arguments.length?(J=t,this):J},yt.width=function(t){return arguments.length?(n=t,this):n},yt.xAxisLabel=function(t){return arguments.length?(rt=t,this):rt},yt.xAxisLabelOffset=function(t){return arguments.length?(it=t,this):it},yt.xTicks=function(t){return arguments.length?(P=t,this):P},yt.yAxisLabel=function(t){return arguments.length?(ot=t,this):ot},yt.yAxisLabelOffset=function(t){return arguments.length?(ut=t,this):ut},yt.yAxisPaddingBetweenChart=function(t){return arguments.length?(q=t,this):q},yt.yTicks=function(t){return arguments.length?(N=t,this):N},yt.locale=function(t){return arguments.length?(lt=t,this):lt},yt}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";var r=n(92),i=n(93);n(94);function a(t,e,n){if(null!=t||null!=e||null!=n){"string"==typeof t&&(t=document.getElementById(t)),null!=t.svg&&t.svg.stop();var u=function(t){var e={opts:t},n=function(){var t;void 0!==Element.prototype.matches?t=function(t,e){return t.matches(e)}:void 0!==Element.prototype.webkitMatchesSelector?t=function(t,e){return t.webkitMatchesSelector(e)}:void 0!==Element.prototype.mozMatchesSelector?t=function(t,e){return t.mozMatchesSelector(e)}:void 0!==Element.prototype.msMatchesSelector?t=function(t,e){return t.msMatchesSelector(e)}:void 0!==Element.prototype.oMatchesSelector?t=function(t,e){return t.oMatchesSelector(e)}:("function"!=typeof jQuery&&"function"!=typeof Zepto||(t=function(t,e){return $(t).is(e)}),void 0===t&&(t=Sizzle.matchesSelector));return t}();"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(t,e,n,r,i,o){var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:e,offsetY:n,scaleWidth:r,scaleHeight:i};for(var s in o)o.hasOwnProperty(s)&&(u[s]=o[s]);a(this.canvas,t,u)});e.FRAMERATE=30,e.MAX_VIRTUAL_PIXELS=3e4,e.log=function(t){},1==e.opts.log&&"undefined"!=typeof console&&(e.log=function(t){console.log(t)});e.init=function(t){var n=0;e.UniqueId=function(){return"canvg"+ ++n},e.Definitions={},e.Styles={},e.StylesSpecificity={},e.Animations=[],e.Images=[],e.ctx=t,e.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(t,e){this.viewPorts.push({width:t,height:e})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(t){return null!=t&&"number"==typeof t?t:"x"==t?this.width():"y"==t?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}},e.init(),e.ImagesLoaded=function(){for(var t=0;t<e.Images.length;t++)if(!e.Images[t].loaded)return!1;return!0},e.trim=function(t){return t.replace(/^\s+|\s+$/g,"")},e.compressSpaces=function(t){return t.replace(/[\s\r\t\n]+/gm," ")},e.ajax=function(t){var e;return(e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"))?(e.open("GET",t,!1),e.send(null),e.responseText):null},e.parseXml=function(t){if("undefined"!=typeof Windows&&void 0!==Windows.Data&&void 0!==Windows.Data.Xml){var e=new Windows.Data.Xml.Dom.XmlDocument,n=new Windows.Data.Xml.Dom.XmlLoadSettings;return n.prohibitDtd=!1,e.loadXml(t,n),e}return window.DOMParser?(new DOMParser).parseFromString(t,"text/xml"):(t=t.replace(/<!DOCTYPE svg[^>]*>/,""),(e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t),e)},e.Property=function(t,e){this.name=t,this.value=e},e.Property.prototype.getValue=function(){return this.value},e.Property.prototype.hasValue=function(){return null!=this.value&&""!=this.value},e.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var t=parseFloat(this.value);return(this.value+"").match(/%$/)&&(t/=100),t},e.Property.prototype.valueOrDefault=function(t){return this.hasValue()?this.value:t},e.Property.prototype.numValueOrDefault=function(t){return this.hasValue()?this.numValue():t},e.Property.prototype.addOpacity=function(t){var n=this.value;if(null!=t.value&&""!=t.value&&"string"==typeof this.value){var i=new r(this.value);i.ok&&(n="rgba("+i.r+", "+i.g+", "+i.b+", "+t.numValue()+")")}return new e.Property(this.name,n)},e.Property.prototype.getDefinition=function(){var t=this.value.match(/#([^\)'"]+)/);return t&&(t=t[1]),t||(t=this.value),e.Definitions[t]},e.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")},e.Property.prototype.getFillStyleDefinition=function(t,n){var r=this.getDefinition();if(null!=r&&r.createGradient)return r.createGradient(e.ctx,t,n);if(null!=r&&r.createPattern){if(r.getHrefAttribute().hasValue()){var i=r.attribute("patternTransform");r=r.getHrefAttribute().getDefinition(),i.hasValue()&&(r.attribute("patternTransform",!0).value=i.value)}return r.createPattern(e.ctx,t)}return null},e.Property.prototype.getDPI=function(t){return 96},e.Property.prototype.getEM=function(t){var n=12,r=new e.Property("fontSize",e.Font.Parse(e.ctx.font).fontSize);return r.hasValue()&&(n=r.toPixels(t)),n},e.Property.prototype.getUnits=function(){return(this.value+"").replace(/[0-9\.\-]/g,"")},e.Property.prototype.toPixels=function(t,n){if(!this.hasValue())return 0;var r=this.value+"";if(r.match(/em$/))return this.numValue()*this.getEM(t);if(r.match(/ex$/))return this.numValue()*this.getEM(t)/2;if(r.match(/px$/))return this.numValue();if(r.match(/pt$/))return this.numValue()*this.getDPI(t)*(1/72);if(r.match(/pc$/))return 15*this.numValue();if(r.match(/cm$/))return this.numValue()*this.getDPI(t)/2.54;if(r.match(/mm$/))return this.numValue()*this.getDPI(t)/25.4;if(r.match(/in$/))return this.numValue()*this.getDPI(t);if(r.match(/%$/))return this.numValue()*e.ViewPort.ComputeSize(t);var i=this.numValue();return n&&i<1?i*e.ViewPort.ComputeSize(t):i},e.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0;var t=this.value+"";return t.match(/s$/)?1e3*this.numValue():(t.match(/ms$/),this.numValue())},e.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var t=this.value+"";return t.match(/deg$/)?this.numValue()*(Math.PI/180):t.match(/grad$/)?this.numValue()*(Math.PI/200):t.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)};var u={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};return e.Property.prototype.toTextBaseline=function(){return this.hasValue()?u[this.value]:null},e.Font=new function(){this.Styles="normal|italic|oblique|inherit",this.Variants="normal|small-caps|inherit",this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit",this.CreateFont=function(t,n,r,i,a,o){var u=null!=o?this.Parse(o):this.CreateFont("","","","","",e.ctx.font);return{fontFamily:a||u.fontFamily,fontSize:i||u.fontSize,fontStyle:t||u.fontStyle,fontWeight:r||u.fontWeight,fontVariant:n||u.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var t=this;this.Parse=function(n){for(var r={},i=e.trim(e.compressSpaces(n||"")).split(" "),a={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1},o="",u=0;u<i.length;u++)a.fontStyle||-1==t.Styles.indexOf(i[u])?a.fontVariant||-1==t.Variants.indexOf(i[u])?a.fontWeight||-1==t.Weights.indexOf(i[u])?a.fontSize?"inherit"!=i[u]&&(o+=i[u]):("inherit"!=i[u]&&(r.fontSize=i[u].split("/")[0]),a.fontStyle=a.fontVariant=a.fontWeight=a.fontSize=!0):("inherit"!=i[u]&&(r.fontWeight=i[u]),a.fontStyle=a.fontVariant=a.fontWeight=!0):("inherit"!=i[u]&&(r.fontVariant=i[u]),a.fontStyle=a.fontVariant=!0):("inherit"!=i[u]&&(r.fontStyle=i[u]),a.fontStyle=!0);return""!=o&&(r.fontFamily=o),r}},e.ToNumberArray=function(t){for(var n=e.trim(e.compressSpaces((t||"").replace(/,/g," "))).split(" "),r=0;r<n.length;r++)n[r]=parseFloat(n[r]);return n},e.Point=function(t,e){this.x=t,this.y=e},e.Point.prototype.angleTo=function(t){return Math.atan2(t.y-this.y,t.x-this.x)},e.Point.prototype.applyTransform=function(t){var e=this.x*t[0]+this.y*t[2]+t[4],n=this.x*t[1]+this.y*t[3]+t[5];this.x=e,this.y=n},e.CreatePoint=function(t){var n=e.ToNumberArray(t);return new e.Point(n[0],n[1])},e.CreatePath=function(t){for(var n=e.ToNumberArray(t),r=[],i=0;i<n.length;i+=2)r.push(new e.Point(n[i],n[i+1]));return r},e.BoundingBox=function(t,e,n,r){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(t,e){null!=t&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),null!=e&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))},this.addX=function(t){this.addPoint(t,null)},this.addY=function(t){this.addPoint(null,t)},this.addBoundingBox=function(t){this.addPoint(t.x1,t.y1),this.addPoint(t.x2,t.y2)},this.addQuadraticCurve=function(t,e,n,r,i,a){var o=t+2/3*(n-t),u=e+2/3*(r-e),s=o+1/3*(i-t),l=u+1/3*(a-e);this.addBezierCurve(t,e,o,s,u,l,i,a)},this.addBezierCurve=function(t,e,n,r,i,a,o,u){var s=[t,e],l=[n,r],c=[i,a],h=[o,u];this.addPoint(s[0],s[1]),this.addPoint(h[0],h[1]);for(var f=0;f<=1;f++){var d=function(t){return Math.pow(1-t,3)*s[f]+3*Math.pow(1-t,2)*t*l[f]+3*(1-t)*Math.pow(t,2)*c[f]+Math.pow(t,3)*h[f]},p=6*s[f]-12*l[f]+6*c[f],g=-3*s[f]+9*l[f]-9*c[f]+3*h[f],m=3*l[f]-3*s[f];if(0!=g){var v=Math.pow(p,2)-4*m*g;if(!(v<0)){var y=(-p+Math.sqrt(v))/(2*g);0<y&&y<1&&(0==f&&this.addX(d(y)),1==f&&this.addY(d(y)));var x=(-p-Math.sqrt(v))/(2*g);0<x&&x<1&&(0==f&&this.addX(d(x)),1==f&&this.addY(d(x)))}}else{if(0==p)continue;var b=-m/p;0<b&&b<1&&(0==f&&this.addX(d(b)),1==f&&this.addY(d(b)))}}},this.isPointInBox=function(t,e){return this.x1<=t&&t<=this.x2&&this.y1<=e&&e<=this.y2},this.addPoint(t,e),this.addPoint(n,r)},e.Transform=function(t){var n=this;this.Type={},this.Type.translate=function(t){this.p=e.CreatePoint(t),this.apply=function(t){t.translate(this.p.x||0,this.p.y||0)},this.unapply=function(t){t.translate(-1*this.p.x||0,-1*this.p.y||0)},this.applyToPoint=function(t){t.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(t){var n=e.ToNumberArray(t);this.angle=new e.Property("angle",n[0]),this.cx=n[1]||0,this.cy=n[2]||0,this.apply=function(t){t.translate(this.cx,this.cy),t.rotate(this.angle.toRadians()),t.translate(-this.cx,-this.cy)},this.unapply=function(t){t.translate(this.cx,this.cy),t.rotate(-1*this.angle.toRadians()),t.translate(-this.cx,-this.cy)},this.applyToPoint=function(t){var e=this.angle.toRadians();t.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),t.applyTransform([Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0]),t.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(t){this.p=e.CreatePoint(t),this.apply=function(t){t.scale(this.p.x||1,this.p.y||this.p.x||1)},this.unapply=function(t){t.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)},this.applyToPoint=function(t){t.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(t){this.m=e.ToNumberArray(t),this.apply=function(t){t.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.unapply=function(t){var e=this.m[0],n=this.m[2],r=this.m[4],i=this.m[1],a=this.m[3],o=this.m[5],u=1/(e*(1*a-0*o)-n*(1*i-0*o)+r*(0*i-0*a));t.transform(u*(1*a-0*o),u*(0*o-1*i),u*(0*r-1*n),u*(1*e-0*r),u*(n*o-r*a),u*(r*i-e*o))},this.applyToPoint=function(t){t.applyTransform(this.m)}},this.Type.SkewBase=function(t){this.base=n.Type.matrix,this.base(t),this.angle=new e.Property("angle",t)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(t){this.base=n.Type.SkewBase,this.base(t),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(t){this.base=n.Type.SkewBase,this.base(t),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(t){for(var e=0;e<this.transforms.length;e++)this.transforms[e].apply(t)},this.unapply=function(t){for(var e=this.transforms.length-1;e>=0;e--)this.transforms[e].unapply(t)},this.applyToPoint=function(t){for(var e=0;e<this.transforms.length;e++)this.transforms[e].applyToPoint(t)};for(var r=e.trim(e.compressSpaces(t)).replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),i=0;i<r.length;i++){var a=e.trim(r[i].split("(")[0]),o=r[i].split("(")[1].replace(")",""),u=this.Type[a];if(void 0!==u){var s=new u(o);s.type=a,this.transforms.push(s)}}},e.AspectRatio=function(t,n,r,i,a,o,u,s,l,c){var h=(n=(n=e.compressSpaces(n)).replace(/^defer\s/,"")).split(" ")[0]||"xMidYMid",f=n.split(" ")[1]||"meet",d=r/i,p=a/o,g=Math.min(d,p),m=Math.max(d,p);"meet"==f&&(i*=g,o*=g),"slice"==f&&(i*=m,o*=m),l=new e.Property("refX",l),c=new e.Property("refY",c),l.hasValue()&&c.hasValue()?t.translate(-g*l.toPixels("x"),-g*c.toPixels("y")):(h.match(/^xMid/)&&("meet"==f&&g==p||"slice"==f&&m==p)&&t.translate(r/2-i/2,0),h.match(/YMid$/)&&("meet"==f&&g==d||"slice"==f&&m==d)&&t.translate(0,a/2-o/2),h.match(/^xMax/)&&("meet"==f&&g==p||"slice"==f&&m==p)&&t.translate(r-i,0),h.match(/YMax$/)&&("meet"==f&&g==d||"slice"==f&&m==d)&&t.translate(0,a-o)),"none"==h?t.scale(d,p):"meet"==f?t.scale(g,g):"slice"==f&&t.scale(m,m),t.translate(null==u?0:-u,null==s?0:-s)},e.Element={},e.EmptyProperty=new e.Property("EMPTY",""),e.Element.ElementBase=function(t){if(this.attributes={},this.styles={},this.stylesSpecificity={},this.children=[],this.attribute=function(t,n){var r=this.attributes[t];return null!=r?r:(1==n&&(r=new e.Property(t,""),this.attributes[t]=r),r||e.EmptyProperty)},this.getHrefAttribute=function(){for(var t in this.attributes)if("href"==t||t.match(/:href$/))return this.attributes[t];return e.EmptyProperty},this.style=function(t,n,r){var i=this.styles[t];if(null!=i)return i;var a=this.attribute(t);if(null!=a&&a.hasValue())return this.styles[t]=a,a;if(1!=r){var o=this.parent;if(null!=o){var u=o.style(t);if(null!=u&&u.hasValue())return u}}return 1==n&&(i=new e.Property(t,""),this.styles[t]=i),i||e.EmptyProperty},this.render=function(t){if("none"!=this.style("display").value&&"hidden"!=this.style("visibility").value){if(t.save(),this.style("mask").hasValue()){var e=this.style("mask").getDefinition();null!=e&&e.apply(t,this)}else if(this.style("filter").hasValue()){var n=this.style("filter").getDefinition();null!=n&&n.apply(t,this)}else this.setContext(t),this.renderChildren(t),this.clearContext(t);t.restore()}},this.setContext=function(t){},this.clearContext=function(t){},this.renderChildren=function(t){for(var e=0;e<this.children.length;e++)this.children[e].render(t)},this.addChild=function(t,n){var r=t;n&&(r=e.CreateElement(t)),r.parent=this,"title"!=r.type&&this.children.push(r)},this.addStylesFromStyleDefinition=function(){for(var r in e.Styles)if("@"!=r[0]&&n(t,r)){var i=e.Styles[r],a=e.StylesSpecificity[r];if(null!=i)for(var o in i){var u=this.stylesSpecificity[o];void 0===u&&(u="000"),a>u&&(this.styles[o]=i[o],this.stylesSpecificity[o]=a)}}},null!=t&&1==t.nodeType){for(var r=0;r<t.attributes.length;r++){var i=t.attributes[r];this.attributes[i.nodeName]=new e.Property(i.nodeName,i.value)}if(this.addStylesFromStyleDefinition(),this.attribute("style").hasValue()){var a=this.attribute("style").value.split(";");for(r=0;r<a.length;r++)if(""!=e.trim(a[r])){var o=a[r].split(":"),u=e.trim(o[0]),s=e.trim(o[1]);this.styles[u]=new e.Property(u,s)}}this.attribute("id").hasValue()&&null==e.Definitions[this.attribute("id").value]&&(e.Definitions[this.attribute("id").value]=this);for(r=0;r<t.childNodes.length;r++){var l=t.childNodes[r];if(1==l.nodeType&&this.addChild(l,!0),this.captureTextNodes&&(3==l.nodeType||4==l.nodeType)){var c=l.value||l.text||l.textContent||"";""!=e.compressSpaces(c)&&this.addChild(new e.Element.tspan(l),!1)}}}},e.Element.RenderedElementBase=function(t){this.base=e.Element.ElementBase,this.base(t),this.setContext=function(t){var n;if(this.style("fill").isUrlDefinition())null!=(n=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity")))&&(t.fillStyle=n);else if(this.style("fill").hasValue()){var r;"currentColor"==(r=this.style("fill")).value&&(r.value=this.style("color").value),"inherit"!=r.value&&(t.fillStyle="none"==r.value?"rgba(0,0,0,0)":r.value)}this.style("fill-opacity").hasValue()&&(r=(r=new e.Property("fill",t.fillStyle)).addOpacity(this.style("fill-opacity")),t.fillStyle=r.value);if(this.style("stroke").isUrlDefinition())null!=(n=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity")))&&(t.strokeStyle=n);else if(this.style("stroke").hasValue()){var i;"currentColor"==(i=this.style("stroke")).value&&(i.value=this.style("color").value),"inherit"!=i.value&&(t.strokeStyle="none"==i.value?"rgba(0,0,0,0)":i.value)}this.style("stroke-opacity").hasValue()&&(i=(i=new e.Property("stroke",t.strokeStyle)).addOpacity(this.style("stroke-opacity")),t.strokeStyle=i.value);if(this.style("stroke-width").hasValue()){var a=this.style("stroke-width").toPixels();t.lineWidth=0==a?.001:a}if(this.style("stroke-linecap").hasValue()&&(t.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(t.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(t.miterLimit=this.style("stroke-miterlimit").value),this.style("stroke-dasharray").hasValue()&&"none"!=this.style("stroke-dasharray").value){var o=e.ToNumberArray(this.style("stroke-dasharray").value);void 0!==t.setLineDash?t.setLineDash(o):void 0!==t.webkitLineDash?t.webkitLineDash=o:void 0===t.mozDash||1==o.length&&0==o[0]||(t.mozDash=o);var u=this.style("stroke-dashoffset").numValueOrDefault(1);void 0!==t.lineDashOffset?t.lineDashOffset=u:void 0!==t.webkitLineDashOffset?t.webkitLineDashOffset=u:void 0!==t.mozDashOffset&&(t.mozDashOffset=u)}(void 0!==t.font&&(t.font=e.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString()),this.style("transform",!1,!0).hasValue())&&new e.Transform(this.style("transform",!1,!0).value).apply(t);if(this.style("clip-path",!1,!0).hasValue()){var s=this.style("clip-path",!1,!0).getDefinition();null!=s&&s.apply(t)}this.style("opacity").hasValue()&&(t.globalAlpha=this.style("opacity").numValue())}},e.Element.RenderedElementBase.prototype=new e.Element.ElementBase,e.Element.PathElementBase=function(t){this.base=e.Element.RenderedElementBase,this.base(t),this.path=function(t){return null!=t&&t.beginPath(),new e.BoundingBox},this.renderChildren=function(t){this.path(t),e.Mouse.checkPath(this,t),""!=t.fillStyle&&("inherit"!=this.style("fill-rule").valueOrDefault("inherit")?t.fill(this.style("fill-rule").value):t.fill()),""!=t.strokeStyle&&t.stroke();var n=this.getMarkers();if(null!=n){if(this.style("marker-start").isUrlDefinition())(r=this.style("marker-start").getDefinition()).render(t,n[0][0],n[0][1]);if(this.style("marker-mid").isUrlDefinition())for(var r=this.style("marker-mid").getDefinition(),i=1;i<n.length-1;i++)r.render(t,n[i][0],n[i][1]);if(this.style("marker-end").isUrlDefinition())(r=this.style("marker-end").getDefinition()).render(t,n[n.length-1][0],n[n.length-1][1])}},this.getBoundingBox=function(){return this.path()},this.getMarkers=function(){return null}},e.Element.PathElementBase.prototype=new e.Element.RenderedElementBase,e.Element.svg=function(t){this.base=e.Element.RenderedElementBase,this.base(t),this.baseClearContext=this.clearContext,this.clearContext=function(t){this.baseClearContext(t),e.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(t){t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4,void 0!==t.font&&void 0!==window.getComputedStyle&&(t.font=window.getComputedStyle(t.canvas).getPropertyValue("font")),this.baseSetContext(t),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),t.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var n=e.ViewPort.width(),r=e.ViewPort.height();if(this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),void 0===this.root){n=this.attribute("width").toPixels("x"),r=this.attribute("height").toPixels("y");var i=0,a=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(i=-this.attribute("refX").toPixels("x"),a=-this.attribute("refY").toPixels("y")),"visible"!=this.attribute("overflow").valueOrDefault("hidden")&&(t.beginPath(),t.moveTo(i,a),t.lineTo(n,a),t.lineTo(n,r),t.lineTo(i,r),t.closePath(),t.clip())}if(e.ViewPort.SetCurrent(n,r),this.attribute("viewBox").hasValue()){var o=e.ToNumberArray(this.attribute("viewBox").value),u=o[0],s=o[1];n=o[2],r=o[3],e.AspectRatio(t,this.attribute("preserveAspectRatio").value,e.ViewPort.width(),n,e.ViewPort.height(),r,u,s,this.attribute("refX").value,this.attribute("refY").value),e.ViewPort.RemoveCurrent(),e.ViewPort.SetCurrent(o[2],o[3])}}},e.Element.svg.prototype=new e.Element.RenderedElementBase,e.Element.rect=function(t){this.base=e.Element.PathElementBase,this.base(t),this.path=function(t){var n=this.attribute("x").toPixels("x"),r=this.attribute("y").toPixels("y"),i=this.attribute("width").toPixels("x"),a=this.attribute("height").toPixels("y"),o=this.attribute("rx").toPixels("x"),u=this.attribute("ry").toPixels("y");return this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(u=o),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(o=u),o=Math.min(o,i/2),u=Math.min(u,a/2),null!=t&&(t.beginPath(),t.moveTo(n+o,r),t.lineTo(n+i-o,r),t.quadraticCurveTo(n+i,r,n+i,r+u),t.lineTo(n+i,r+a-u),t.quadraticCurveTo(n+i,r+a,n+i-o,r+a),t.lineTo(n+o,r+a),t.quadraticCurveTo(n,r+a,n,r+a-u),t.lineTo(n,r+u),t.quadraticCurveTo(n,r,n+o,r),t.closePath()),new e.BoundingBox(n,r,n+i,r+a)}},e.Element.rect.prototype=new e.Element.PathElementBase,e.Element.circle=function(t){this.base=e.Element.PathElementBase,this.base(t),this.path=function(t){var n=this.attribute("cx").toPixels("x"),r=this.attribute("cy").toPixels("y"),i=this.attribute("r").toPixels();return null!=t&&(t.beginPath(),t.arc(n,r,i,0,2*Math.PI,!0),t.closePath()),new e.BoundingBox(n-i,r-i,n+i,r+i)}},e.Element.circle.prototype=new e.Element.PathElementBase,e.Element.ellipse=function(t){this.base=e.Element.PathElementBase,this.base(t),this.path=function(t){var n=(Math.sqrt(2)-1)/3*4,r=this.attribute("rx").toPixels("x"),i=this.attribute("ry").toPixels("y"),a=this.attribute("cx").toPixels("x"),o=this.attribute("cy").toPixels("y");return null!=t&&(t.beginPath(),t.moveTo(a,o-i),t.bezierCurveTo(a+n*r,o-i,a+r,o-n*i,a+r,o),t.bezierCurveTo(a+r,o+n*i,a+n*r,o+i,a,o+i),t.bezierCurveTo(a-n*r,o+i,a-r,o+n*i,a-r,o),t.bezierCurveTo(a-r,o-n*i,a-n*r,o-i,a,o-i),t.closePath()),new e.BoundingBox(a-r,o-i,a+r,o+i)}},e.Element.ellipse.prototype=new e.Element.PathElementBase,e.Element.line=function(t){this.base=e.Element.PathElementBase,this.base(t),this.getPoints=function(){return[new e.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new e.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(t){var n=this.getPoints();return null!=t&&(t.beginPath(),t.moveTo(n[0].x,n[0].y),t.lineTo(n[1].x,n[1].y)),new e.BoundingBox(n[0].x,n[0].y,n[1].x,n[1].y)},this.getMarkers=function(){var t=this.getPoints(),e=t[0].angleTo(t[1]);return[[t[0],e],[t[1],e]]}},e.Element.line.prototype=new e.Element.PathElementBase,e.Element.polyline=function(t){this.base=e.Element.PathElementBase,this.base(t),this.points=e.CreatePath(this.attribute("points").value),this.path=function(t){var n=new e.BoundingBox(this.points[0].x,this.points[0].y);null!=t&&(t.beginPath(),t.moveTo(this.points[0].x,this.points[0].y));for(var r=1;r<this.points.length;r++)n.addPoint(this.points[r].x,this.points[r].y),null!=t&&t.lineTo(this.points[r].x,this.points[r].y);return n},this.getMarkers=function(){for(var t=[],e=0;e<this.points.length-1;e++)t.push([this.points[e],this.points[e].angleTo(this.points[e+1])]);return t.length>0&&t.push([this.points[this.points.length-1],t[t.length-1][1]]),t}},e.Element.polyline.prototype=new e.Element.PathElementBase,e.Element.polygon=function(t){this.base=e.Element.polyline,this.base(t),this.basePath=this.path,this.path=function(t){var e=this.basePath(t);return null!=t&&(t.lineTo(this.points[0].x,this.points[0].y),t.closePath()),e}},e.Element.polygon.prototype=new e.Element.polyline,e.Element.path=function(t){this.base=e.Element.PathElementBase,this.base(t);var n=this.attribute("d").value;n=n.replace(/,/gm," ");for(var r=0;r<2;r++)n=n.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2");n=(n=n.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2")).replace(/([0-9])([+\-])/gm,"$1 $2");for(r=0;r<2;r++)n=n.replace(/(\.[0-9]*)(\.)/gm,"$1 $2");n=n.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),n=e.compressSpaces(n),n=e.trim(n),this.PathParser=new function(t){this.tokens=t.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new e.Point(0,0),this.control=new e.Point(0,0),this.current=new e.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return!!this.isEnd()||null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var t=new e.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(t)},this.getAsControlPoint=function(){var t=this.getPoint();return this.control=t,t},this.getAsCurrentPoint=function(){var t=this.getPoint();return this.current=t,t},this.getReflectedControlPoint=function(){return"c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()&&"q"!=this.previousCommand.toLowerCase()&&"t"!=this.previousCommand.toLowerCase()?this.current:new e.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y)},this.makeAbsolute=function(t){return this.isRelativeCommand()&&(t.x+=this.current.x,t.y+=this.current.y),t},this.addMarker=function(t,e,n){null!=n&&this.angles.length>0&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(n)),this.addMarkerAngle(t,null==e?null:e.angleTo(t))},this.addMarkerAngle=function(t,e){this.points.push(t),this.angles.push(e)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var t=0;t<this.angles.length;t++)if(null==this.angles[t])for(var e=t+1;e<this.angles.length;e++)if(null!=this.angles[e]){this.angles[t]=this.angles[e];break}return this.angles}}(n),this.path=function(t){var n=this.PathParser;n.reset();var r=new e.BoundingBox;for(null!=t&&t.beginPath();!n.isEnd();)switch(n.nextCommand(),n.command){case"M":case"m":var i=n.getAsCurrentPoint();for(n.addMarker(i),r.addPoint(i.x,i.y),null!=t&&t.moveTo(i.x,i.y),n.start=n.current;!n.isCommandOrEnd();){i=n.getAsCurrentPoint();n.addMarker(i,n.start),r.addPoint(i.x,i.y),null!=t&&t.lineTo(i.x,i.y)}break;case"L":case"l":for(;!n.isCommandOrEnd();){var a=n.current;i=n.getAsCurrentPoint();n.addMarker(i,a),r.addPoint(i.x,i.y),null!=t&&t.lineTo(i.x,i.y)}break;case"H":case"h":for(;!n.isCommandOrEnd();){var o=new e.Point((n.isRelativeCommand()?n.current.x:0)+n.getScalar(),n.current.y);n.addMarker(o,n.current),n.current=o,r.addPoint(n.current.x,n.current.y),null!=t&&t.lineTo(n.current.x,n.current.y)}break;case"V":case"v":for(;!n.isCommandOrEnd();){o=new e.Point(n.current.x,(n.isRelativeCommand()?n.current.y:0)+n.getScalar());n.addMarker(o,n.current),n.current=o,r.addPoint(n.current.x,n.current.y),null!=t&&t.lineTo(n.current.x,n.current.y)}break;case"C":case"c":for(;!n.isCommandOrEnd();){var u=n.current,s=n.getPoint(),l=n.getAsControlPoint(),c=n.getAsCurrentPoint();n.addMarker(c,l,s),r.addBezierCurve(u.x,u.y,s.x,s.y,l.x,l.y,c.x,c.y),null!=t&&t.bezierCurveTo(s.x,s.y,l.x,l.y,c.x,c.y)}break;case"S":case"s":for(;!n.isCommandOrEnd();){u=n.current,s=n.getReflectedControlPoint(),l=n.getAsControlPoint(),c=n.getAsCurrentPoint();n.addMarker(c,l,s),r.addBezierCurve(u.x,u.y,s.x,s.y,l.x,l.y,c.x,c.y),null!=t&&t.bezierCurveTo(s.x,s.y,l.x,l.y,c.x,c.y)}break;case"Q":case"q":for(;!n.isCommandOrEnd();){u=n.current,l=n.getAsControlPoint(),c=n.getAsCurrentPoint();n.addMarker(c,l,l),r.addQuadraticCurve(u.x,u.y,l.x,l.y,c.x,c.y),null!=t&&t.quadraticCurveTo(l.x,l.y,c.x,c.y)}break;case"T":case"t":for(;!n.isCommandOrEnd();){u=n.current,l=n.getReflectedControlPoint();n.control=l;c=n.getAsCurrentPoint();n.addMarker(c,l,l),r.addQuadraticCurve(u.x,u.y,l.x,l.y,c.x,c.y),null!=t&&t.quadraticCurveTo(l.x,l.y,c.x,c.y)}break;case"A":case"a":for(;!n.isCommandOrEnd();){u=n.current;var h=n.getScalar(),f=n.getScalar(),d=n.getScalar()*(Math.PI/180),p=n.getScalar(),g=n.getScalar(),m=(c=n.getAsCurrentPoint(),new e.Point(Math.cos(d)*(u.x-c.x)/2+Math.sin(d)*(u.y-c.y)/2,-Math.sin(d)*(u.x-c.x)/2+Math.cos(d)*(u.y-c.y)/2)),v=Math.pow(m.x,2)/Math.pow(h,2)+Math.pow(m.y,2)/Math.pow(f,2);v>1&&(h*=Math.sqrt(v),f*=Math.sqrt(v));var y=(p==g?-1:1)*Math.sqrt((Math.pow(h,2)*Math.pow(f,2)-Math.pow(h,2)*Math.pow(m.y,2)-Math.pow(f,2)*Math.pow(m.x,2))/(Math.pow(h,2)*Math.pow(m.y,2)+Math.pow(f,2)*Math.pow(m.x,2)));isNaN(y)&&(y=0);var x=new e.Point(y*h*m.y/f,y*-f*m.x/h),b=new e.Point((u.x+c.x)/2+Math.cos(d)*x.x-Math.sin(d)*x.y,(u.y+c.y)/2+Math.sin(d)*x.x+Math.cos(d)*x.y),w=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))},_=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(w(t)*w(e))},M=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(_(t,e))},A=M([1,0],[(m.x-x.x)/h,(m.y-x.y)/f]),k=[(m.x-x.x)/h,(m.y-x.y)/f],T=[(-m.x-x.x)/h,(-m.y-x.y)/f],E=M(k,T);_(k,T)<=-1&&(E=Math.PI),_(k,T)>=1&&(E=0);var C=1-g?1:-1,S=A+C*(E/2),O=new e.Point(b.x+h*Math.cos(S),b.y+f*Math.sin(S));if(n.addMarkerAngle(O,S-C*Math.PI/2),n.addMarkerAngle(c,S-C*Math.PI),r.addPoint(c.x,c.y),null!=t){_=h>f?h:f;var N=h>f?1:h/f,P=h>f?f/h:1;t.translate(b.x,b.y),t.rotate(d),t.scale(N,P),t.arc(0,0,_,A,A+E,1-g),t.scale(1/N,1/P),t.rotate(-d),t.translate(-b.x,-b.y)}}break;case"Z":case"z":null!=t&&t.closePath(),n.current=n.start}return r},this.getMarkers=function(){for(var t=this.PathParser.getMarkerPoints(),e=this.PathParser.getMarkerAngles(),n=[],r=0;r<t.length;r++)n.push([t[r],e[r]]);return n}},e.Element.path.prototype=new e.Element.PathElementBase,e.Element.pattern=function(t){this.base=e.Element.ElementBase,this.base(t),this.createPattern=function(t,n){var r=this.attribute("width").toPixels("x",!0),i=this.attribute("height").toPixels("y",!0),a=new e.Element.svg;a.attributes.viewBox=new e.Property("viewBox",this.attribute("viewBox").value),a.attributes.width=new e.Property("width",r+"px"),a.attributes.height=new e.Property("height",i+"px"),a.attributes.transform=new e.Property("transform",this.attribute("patternTransform").value),a.children=this.children;var o=document.createElement("canvas");o.width=r,o.height=i;var u=o.getContext("2d");this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&u.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",!0));for(var s=-1;s<=1;s++)for(var l=-1;l<=1;l++)u.save(),a.attributes.x=new e.Property("x",s*o.width),a.attributes.y=new e.Property("y",l*o.height),a.render(u),u.restore();return t.createPattern(o,"repeat")}},e.Element.pattern.prototype=new e.Element.ElementBase,e.Element.marker=function(t){this.base=e.Element.ElementBase,this.base(t),this.baseRender=this.render,this.render=function(t,n,r){t.translate(n.x,n.y),"auto"==this.attribute("orient").valueOrDefault("auto")&&t.rotate(r),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&t.scale(t.lineWidth,t.lineWidth),t.save();var i=new e.Element.svg;i.attributes.viewBox=new e.Property("viewBox",this.attribute("viewBox").value),i.attributes.refX=new e.Property("refX",this.attribute("refX").value),i.attributes.refY=new e.Property("refY",this.attribute("refY").value),i.attributes.width=new e.Property("width",this.attribute("markerWidth").value),i.attributes.height=new e.Property("height",this.attribute("markerHeight").value),i.attributes.fill=new e.Property("fill",this.attribute("fill").valueOrDefault("black")),i.attributes.stroke=new e.Property("stroke",this.attribute("stroke").valueOrDefault("none")),i.children=this.children,i.render(t),t.restore(),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&t.scale(1/t.lineWidth,1/t.lineWidth),"auto"==this.attribute("orient").valueOrDefault("auto")&&t.rotate(-r),t.translate(-n.x,-n.y)}},e.Element.marker.prototype=new e.Element.ElementBase,e.Element.defs=function(t){this.base=e.Element.ElementBase,this.base(t),this.render=function(t){}},e.Element.defs.prototype=new e.Element.ElementBase,e.Element.GradientBase=function(t){this.base=e.Element.ElementBase,this.base(t),this.stops=[];for(var n=0;n<this.children.length;n++){var r=this.children[n];"stop"==r.type&&this.stops.push(r)}this.getGradient=function(){},this.gradientUnits=function(){return this.attribute("gradientUnits").valueOrDefault("objectBoundingBox")},this.attributesToInherit=["gradientUnits"],this.inheritStopContainer=function(t){for(var e=0;e<this.attributesToInherit.length;e++){var n=this.attributesToInherit[e];!this.attribute(n).hasValue()&&t.attribute(n).hasValue()&&(this.attribute(n,!0).value=t.attribute(n).value)}},this.createGradient=function(t,n,r){var i=this;this.getHrefAttribute().hasValue()&&(i=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(i));var a=function(t){return r.hasValue()?new e.Property("color",t).addOpacity(r).value:t},o=this.getGradient(t,n);if(null==o)return a(i.stops[i.stops.length-1].color);for(var u=0;u<i.stops.length;u++)o.addColorStop(i.stops[u].offset,a(i.stops[u].color));if(this.attribute("gradientTransform").hasValue()){var s=e.ViewPort.viewPorts[0],l=new e.Element.rect;l.attributes.x=new e.Property("x",-e.MAX_VIRTUAL_PIXELS/3),l.attributes.y=new e.Property("y",-e.MAX_VIRTUAL_PIXELS/3),l.attributes.width=new e.Property("width",e.MAX_VIRTUAL_PIXELS),l.attributes.height=new e.Property("height",e.MAX_VIRTUAL_PIXELS);var c=new e.Element.g;c.attributes.transform=new e.Property("transform",this.attribute("gradientTransform").value),c.children=[l];var h=new e.Element.svg;h.attributes.x=new e.Property("x",0),h.attributes.y=new e.Property("y",0),h.attributes.width=new e.Property("width",s.width),h.attributes.height=new e.Property("height",s.height),h.children=[c];var f=document.createElement("canvas");f.width=s.width,f.height=s.height;var d=f.getContext("2d");return d.fillStyle=o,h.render(d),d.createPattern(f,"no-repeat")}return o}},e.Element.GradientBase.prototype=new e.Element.ElementBase,e.Element.linearGradient=function(t){this.base=e.Element.GradientBase,this.base(t),this.attributesToInherit.push("x1"),this.attributesToInherit.push("y1"),this.attributesToInherit.push("x2"),this.attributesToInherit.push("y2"),this.getGradient=function(t,e){var n="objectBoundingBox"==this.gradientUnits()?e.getBoundingBox():null;this.attribute("x1").hasValue()||this.attribute("y1").hasValue()||this.attribute("x2").hasValue()||this.attribute("y2").hasValue()||(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=0);var r="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),i="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),a="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),o="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return r==a&&i==o?null:t.createLinearGradient(r,i,a,o)}},e.Element.linearGradient.prototype=new e.Element.GradientBase,e.Element.radialGradient=function(t){this.base=e.Element.GradientBase,this.base(t),this.attributesToInherit.push("cx"),this.attributesToInherit.push("cy"),this.attributesToInherit.push("r"),this.attributesToInherit.push("fx"),this.attributesToInherit.push("fy"),this.getGradient=function(t,e){var n=e.getBoundingBox();this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%"),this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%"),this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var r="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),i="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),a=r,o=i;this.attribute("fx").hasValue()&&(a="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x")),this.attribute("fy").hasValue()&&(o="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));var u="objectBoundingBox"==this.gradientUnits()?(n.width()+n.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels();return t.createRadialGradient(a,o,0,r,i,u)}},e.Element.radialGradient.prototype=new e.Element.GradientBase,e.Element.stop=function(t){this.base=e.Element.ElementBase,this.base(t),this.offset=this.attribute("offset").numValue(),this.offset<0&&(this.offset=0),this.offset>1&&(this.offset=1);var n=this.style("stop-color",!0);""==n.value&&(n.value="#000"),this.style("stop-opacity").hasValue()&&(n=n.addOpacity(this.style("stop-opacity"))),this.color=n.value},e.Element.stop.prototype=new e.Element.ElementBase,e.Element.AnimateBase=function(t){this.base=e.Element.ElementBase,this.base(t),e.Animations.push(this),this.duration=0,this.begin=this.attribute("begin").toMilliseconds(),this.maxDuration=this.begin+this.attribute("dur").toMilliseconds(),this.getProperty=function(){var t=this.attribute("attributeType").value,e=this.attribute("attributeName").value;return"CSS"==t?this.parent.style(e,!0):this.parent.attribute(e,!0)},this.initialValue=null,this.initialUnits="",this.removed=!1,this.calcValue=function(){return""},this.update=function(t){if(null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits()),this.duration>this.maxDuration){if("indefinite"==this.attribute("repeatCount").value||"indefinite"==this.attribute("repeatDur").value)this.duration=0;else if("freeze"!=this.attribute("fill").valueOrDefault("remove")||this.frozen){if("remove"==this.attribute("fill").valueOrDefault("remove")&&!this.removed)return this.removed=!0,this.getProperty().value=this.parent.animationFrozen?this.parent.animationFrozenValue:this.initialValue,!0}else this.frozen=!0,this.parent.animationFrozen=!0,this.parent.animationFrozenValue=this.getProperty().value;return!1}this.duration=this.duration+t;var e=!1;if(this.begin<this.duration){var n=this.calcValue();if(this.attribute("type").hasValue())n=this.attribute("type").value+"("+n+")";this.getProperty().value=n,e=!0}return e},this.from=this.attribute("from"),this.to=this.attribute("to"),this.values=this.attribute("values"),this.values.hasValue()&&(this.values.value=this.values.value.split(";")),this.progress=function(){var t={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var n=t.progress*(this.values.value.length-1),r=Math.floor(n),i=Math.ceil(n);t.from=new e.Property("from",parseFloat(this.values.value[r])),t.to=new e.Property("to",parseFloat(this.values.value[i])),t.progress=(n-r)/(i-r)}else t.from=this.from,t.to=this.to;return t}},e.Element.AnimateBase.prototype=new e.Element.ElementBase,e.Element.animate=function(t){this.base=e.Element.AnimateBase,this.base(t),this.calcValue=function(){var t=this.progress();return t.from.numValue()+(t.to.numValue()-t.from.numValue())*t.progress+this.initialUnits}},e.Element.animate.prototype=new e.Element.AnimateBase,e.Element.animateColor=function(t){this.base=e.Element.AnimateBase,this.base(t),this.calcValue=function(){var t=this.progress(),e=new r(t.from.value),n=new r(t.to.value);if(e.ok&&n.ok){var i=e.r+(n.r-e.r)*t.progress,a=e.g+(n.g-e.g)*t.progress,o=e.b+(n.b-e.b)*t.progress;return"rgb("+parseInt(i,10)+","+parseInt(a,10)+","+parseInt(o,10)+")"}return this.attribute("from").value}},e.Element.animateColor.prototype=new e.Element.AnimateBase,e.Element.animateTransform=function(t){this.base=e.Element.AnimateBase,this.base(t),this.calcValue=function(){for(var t=this.progress(),n=e.ToNumberArray(t.from.value),r=e.ToNumberArray(t.to.value),i="",a=0;a<n.length;a++)i+=n[a]+(r[a]-n[a])*t.progress+" ";return i}},e.Element.animateTransform.prototype=new e.Element.animate,e.Element.font=function(t){this.base=e.Element.ElementBase,this.base(t),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.isRTL=!1,this.isArabic=!1,this.fontFace=null,this.missingGlyph=null,this.glyphs=[];for(var n=0;n<this.children.length;n++){var r=this.children[n];"font-face"==r.type?(this.fontFace=r,r.style("font-family").hasValue()&&(e.Definitions[r.style("font-family").value]=this)):"missing-glyph"==r.type?this.missingGlyph=r:"glyph"==r.type&&(""!=r.arabicForm?(this.isRTL=!0,this.isArabic=!0,void 0===this.glyphs[r.unicode]&&(this.glyphs[r.unicode]=[]),this.glyphs[r.unicode][r.arabicForm]=r):this.glyphs[r.unicode]=r)}},e.Element.font.prototype=new e.Element.ElementBase,e.Element.fontface=function(t){this.base=e.Element.ElementBase,this.base(t),this.ascent=this.attribute("ascent").value,this.descent=this.attribute("descent").value,this.unitsPerEm=this.attribute("units-per-em").numValue()},e.Element.fontface.prototype=new e.Element.ElementBase,e.Element.missingglyph=function(t){this.base=e.Element.path,this.base(t),this.horizAdvX=0},e.Element.missingglyph.prototype=new e.Element.path,e.Element.glyph=function(t){this.base=e.Element.path,this.base(t),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.unicode=this.attribute("unicode").value,this.arabicForm=this.attribute("arabic-form").value},e.Element.glyph.prototype=new e.Element.path,e.Element.text=function(t){this.captureTextNodes=!0,this.base=e.Element.RenderedElementBase,this.base(t),this.baseSetContext=this.setContext,this.setContext=function(t){this.baseSetContext(t);var e=this.style("dominant-baseline").toTextBaseline();null==e&&(e=this.style("alignment-baseline").toTextBaseline()),null!=e&&(t.textBaseline=e)},this.getBoundingBox=function(){var t=this.attribute("x").toPixels("x"),n=this.attribute("y").toPixels("y"),r=this.parent.style("font-size").numValueOrDefault(e.Font.Parse(e.ctx.font).fontSize);return new e.BoundingBox(t,n-r,t+Math.floor(2*r/3)*this.children[0].getText().length,n)},this.renderChildren=function(t){this.x=this.attribute("x").toPixels("x"),this.y=this.attribute("y").toPixels("y"),this.attribute("dx").hasValue()&&(this.x+=this.attribute("dx").toPixels("x")),this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y")),this.x+=this.getAnchorDelta(t,this,0);for(var e=0;e<this.children.length;e++)this.renderChild(t,this,this,e)},this.getAnchorDelta=function(t,e,n){var r=this.style("text-anchor").valueOrDefault("start");if("start"!=r){for(var i=0,a=n;a<e.children.length;a++){var o=e.children[a];if(a>n&&o.attribute("x").hasValue())break;i+=o.measureTextRecursive(t)}return-1*("end"==r?i:i/2)}return 0},this.renderChild=function(t,e,n,r){var i=n.children[r];i.attribute("x").hasValue()?(i.x=i.attribute("x").toPixels("x")+e.getAnchorDelta(t,n,r),i.attribute("dx").hasValue()&&(i.x+=i.attribute("dx").toPixels("x"))):(i.attribute("dx").hasValue()&&(e.x+=i.attribute("dx").toPixels("x")),i.x=e.x),e.x=i.x+i.measureText(t),i.attribute("y").hasValue()?(i.y=i.attribute("y").toPixels("y"),i.attribute("dy").hasValue()&&(i.y+=i.attribute("dy").toPixels("y"))):(i.attribute("dy").hasValue()&&(e.y+=i.attribute("dy").toPixels("y")),i.y=e.y),e.y=i.y,i.render(t);for(r=0;r<i.children.length;r++)e.renderChild(t,e,i,r)}},e.Element.text.prototype=new e.Element.RenderedElementBase,e.Element.TextElementBase=function(t){this.base=e.Element.RenderedElementBase,this.base(t),this.getGlyph=function(t,e,n){var r=e[n],i=null;if(t.isArabic){var a="isolated";(0==n||" "==e[n-1])&&n<e.length-2&&" "!=e[n+1]&&(a="terminal"),n>0&&" "!=e[n-1]&&n<e.length-2&&" "!=e[n+1]&&(a="medial"),n>0&&" "!=e[n-1]&&(n==e.length-1||" "==e[n+1])&&(a="initial"),void 0!==t.glyphs[r]&&null==(i=t.glyphs[r][a])&&"glyph"==t.glyphs[r].type&&(i=t.glyphs[r])}else i=t.glyphs[r];return null==i&&(i=t.missingGlyph),i},this.renderChildren=function(t){var n=this.parent.style("font-family").getDefinition();if(null==n)""!=t.fillStyle&&t.fillText(e.compressSpaces(this.getText()),this.x,this.y),""!=t.strokeStyle&&t.strokeText(e.compressSpaces(this.getText()),this.x,this.y);else{var r=this.parent.style("font-size").numValueOrDefault(e.Font.Parse(e.ctx.font).fontSize),i=this.parent.style("font-style").valueOrDefault(e.Font.Parse(e.ctx.font).fontStyle),a=this.getText();n.isRTL&&(a=a.split("").reverse().join(""));for(var o=e.ToNumberArray(this.parent.attribute("dx").value),u=0;u<a.length;u++){var s=this.getGlyph(n,a,u),l=r/n.fontFace.unitsPerEm;t.translate(this.x,this.y),t.scale(l,-l);var c=t.lineWidth;t.lineWidth=t.lineWidth*n.fontFace.unitsPerEm/r,"italic"==i&&t.transform(1,0,.4,1,0,0),s.render(t),"italic"==i&&t.transform(1,0,-.4,1,0,0),t.lineWidth=c,t.scale(1/l,-1/l),t.translate(-this.x,-this.y),this.x+=r*(s.horizAdvX||n.horizAdvX)/n.fontFace.unitsPerEm,void 0===o[u]||isNaN(o[u])||(this.x+=o[u])}}},this.getText=function(){},this.measureTextRecursive=function(t){for(var e=this.measureText(t),n=0;n<this.children.length;n++)e+=this.children[n].measureTextRecursive(t);return e},this.measureText=function(t){var n=this.parent.style("font-family").getDefinition();if(null!=n){var r=this.parent.style("font-size").numValueOrDefault(e.Font.Parse(e.ctx.font).fontSize),i=0,a=this.getText();n.isRTL&&(a=a.split("").reverse().join(""));for(var o=e.ToNumberArray(this.parent.attribute("dx").value),u=0;u<a.length;u++){i+=(this.getGlyph(n,a,u).horizAdvX||n.horizAdvX)*r/n.fontFace.unitsPerEm,void 0===o[u]||isNaN(o[u])||(i+=o[u])}return i}var s=e.compressSpaces(this.getText());if(!t.measureText)return 10*s.length;t.save(),this.setContext(t);var l=t.measureText(s).width;return t.restore(),l}},e.Element.TextElementBase.prototype=new e.Element.RenderedElementBase,e.Element.tspan=function(t){this.captureTextNodes=!0,this.base=e.Element.TextElementBase,this.base(t),this.text=e.compressSpaces(t.value||t.text||t.textContent||""),this.getText=function(){return this.children.length>0?"":this.text}},e.Element.tspan.prototype=new e.Element.TextElementBase,e.Element.tref=function(t){this.base=e.Element.TextElementBase,this.base(t),this.getText=function(){var t=this.getHrefAttribute().getDefinition();if(null!=t)return t.children[0].getText()}},e.Element.tref.prototype=new e.Element.TextElementBase,e.Element.a=function(t){this.base=e.Element.TextElementBase,this.base(t),this.hasText=t.childNodes.length>0;for(var n=0;n<t.childNodes.length;n++)3!=t.childNodes[n].nodeType&&(this.hasText=!1);this.text=this.hasText?t.childNodes[0].value:"",this.getText=function(){return this.text},this.baseRenderChildren=this.renderChildren,this.renderChildren=function(t){if(this.hasText){this.baseRenderChildren(t);var n=new e.Property("fontSize",e.Font.Parse(e.ctx.font).fontSize);e.Mouse.checkBoundingBox(this,new e.BoundingBox(this.x,this.y-n.toPixels("y"),this.x+this.measureText(t),this.y))}else if(this.children.length>0){var r=new e.Element.g;r.children=this.children,r.parent=this,r.render(t)}},this.onclick=function(){window.open(this.getHrefAttribute().value)},this.onmousemove=function(){e.ctx.canvas.style.cursor="pointer"}},e.Element.a.prototype=new e.Element.TextElementBase,e.Element.image=function(t){this.base=e.Element.RenderedElementBase,this.base(t);var n=this.getHrefAttribute().value;if(""!=n){var r=n.match(/\.svg$/);if(e.Images.push(this),this.loaded=!1,r)this.img=e.ajax(n),this.loaded=!0;else{this.img=document.createElement("img"),1==e.opts.useCORS&&(this.img.crossOrigin="Anonymous");var i=this;this.img.onload=function(){i.loaded=!0},this.img.onerror=function(){e.log('ERROR: image "'+n+'" not found'),i.loaded=!0},this.img.src=n}this.renderChildren=function(t){var n=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),a=this.attribute("width").toPixels("x"),o=this.attribute("height").toPixels("y");0!=a&&0!=o&&(t.save(),r?t.drawSvg(this.img,n,i,a,o):(t.translate(n,i),e.AspectRatio(t,this.attribute("preserveAspectRatio").value,a,this.img.width,o,this.img.height,0,0),t.drawImage(this.img,0,0)),t.restore())},this.getBoundingBox=function(){var t=this.attribute("x").toPixels("x"),n=this.attribute("y").toPixels("y"),r=this.attribute("width").toPixels("x"),i=this.attribute("height").toPixels("y");return new e.BoundingBox(t,n,t+r,n+i)}}},e.Element.image.prototype=new e.Element.RenderedElementBase,e.Element.g=function(t){this.base=e.Element.RenderedElementBase,this.base(t),this.getBoundingBox=function(){for(var t=new e.BoundingBox,n=0;n<this.children.length;n++)t.addBoundingBox(this.children[n].getBoundingBox());return t}},e.Element.g.prototype=new e.Element.RenderedElementBase,e.Element.symbol=function(t){this.base=e.Element.RenderedElementBase,this.base(t),this.render=function(t){}},e.Element.symbol.prototype=new e.Element.RenderedElementBase,e.Element.style=function(t){this.base=e.Element.ElementBase,this.base(t);for(var n="",r=0;r<t.childNodes.length;r++)n+=t.childNodes[r].data;n=n.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"");var i=(n=e.compressSpaces(n)).split("}");for(r=0;r<i.length;r++)if(""!=e.trim(i[r]))for(var a=i[r].split("{"),u=a[0].split(","),s=a[1].split(";"),l=0;l<u.length;l++){var c=e.trim(u[l]);if(""!=c){for(var h=e.Styles[c]||{},f=0;f<s.length;f++){var d=s[f].indexOf(":"),p=s[f].substr(0,d),g=s[f].substr(d+1,s[f].length-d);null!=p&&null!=g&&(h[e.trim(p)]=new e.Property(e.trim(p),e.trim(g)))}if(e.Styles[c]=h,e.StylesSpecificity[c]=o(c),"@font-face"==c)for(var m=h["font-family"].value.replace(/"/g,""),v=h.src.value.split(","),y=0;y<v.length;y++)if(v[y].indexOf('format("svg")')>0)for(var x=v[y].indexOf("url"),b=v[y].indexOf(")",x),w=v[y].substr(x+5,b-x-6),_=e.parseXml(e.ajax(w)).getElementsByTagName("font"),M=0;M<_.length;M++){var A=e.CreateElement(_[M]);e.Definitions[m]=A}}}},e.Element.style.prototype=new e.Element.ElementBase,e.Element.use=function(t){this.base=e.Element.RenderedElementBase,this.base(t),this.baseSetContext=this.setContext,this.setContext=function(t){this.baseSetContext(t),this.attribute("x").hasValue()&&t.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&t.translate(0,this.attribute("y").toPixels("y"))};var n=this.getHrefAttribute().getDefinition();this.path=function(t){null!=n&&n.path(t)},this.getBoundingBox=function(){if(null!=n)return n.getBoundingBox()},this.renderChildren=function(t){if(null!=n){var r=n;"symbol"==n.type&&((r=new e.Element.svg).type="svg",r.attributes.viewBox=new e.Property("viewBox",n.attribute("viewBox").value),r.attributes.preserveAspectRatio=new e.Property("preserveAspectRatio",n.attribute("preserveAspectRatio").value),r.attributes.overflow=new e.Property("overflow",n.attribute("overflow").value),r.children=n.children),"svg"==r.type&&(this.attribute("width").hasValue()&&(r.attributes.width=new e.Property("width",this.attribute("width").value)),this.attribute("height").hasValue()&&(r.attributes.height=new e.Property("height",this.attribute("height").value)));var i=r.parent;r.parent=null,r.render(t),r.parent=i}}},e.Element.use.prototype=new e.Element.RenderedElementBase,e.Element.mask=function(t){this.base=e.Element.ElementBase,this.base(t),this.apply=function(t,n){var r=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),a=this.attribute("width").toPixels("x"),o=this.attribute("height").toPixels("y");if(0==a&&0==o){for(var u=new e.BoundingBox,s=0;s<this.children.length;s++)u.addBoundingBox(this.children[s].getBoundingBox());r=Math.floor(u.x1),i=Math.floor(u.y1),a=Math.floor(u.width()),o=Math.floor(u.height())}var l=n.attribute("mask").value;n.attribute("mask").value="";var c=document.createElement("canvas");c.width=r+a,c.height=i+o;var h=c.getContext("2d");this.renderChildren(h);var f=document.createElement("canvas");f.width=r+a,f.height=i+o;var d=f.getContext("2d");n.render(d),d.globalCompositeOperation="destination-in",d.fillStyle=h.createPattern(c,"no-repeat"),d.fillRect(0,0,r+a,i+o),t.fillStyle=d.createPattern(f,"no-repeat"),t.fillRect(0,0,r+a,i+o),n.attribute("mask").value=l},this.render=function(t){}},e.Element.mask.prototype=new e.Element.ElementBase,e.Element.clipPath=function(t){this.base=e.Element.ElementBase,this.base(t),this.apply=function(t){var n=CanvasRenderingContext2D.prototype.beginPath;CanvasRenderingContext2D.prototype.beginPath=function(){};var r=CanvasRenderingContext2D.prototype.closePath;CanvasRenderingContext2D.prototype.closePath=function(){},n.call(t);for(var i=0;i<this.children.length;i++){var a=this.children[i];if(void 0!==a.path){var o=null;a.style("transform",!1,!0).hasValue()&&(o=new e.Transform(a.style("transform",!1,!0).value)).apply(t),a.path(t),CanvasRenderingContext2D.prototype.closePath=r,o&&o.unapply(t)}}r.call(t),t.clip(),CanvasRenderingContext2D.prototype.beginPath=n,CanvasRenderingContext2D.prototype.closePath=r},this.render=function(t){}},e.Element.clipPath.prototype=new e.Element.ElementBase,e.Element.filter=function(t){this.base=e.Element.ElementBase,this.base(t),this.apply=function(t,e){var n=e.getBoundingBox(),r=Math.floor(n.x1),i=Math.floor(n.y1),a=Math.floor(n.width()),o=Math.floor(n.height()),u=e.style("filter").value;e.style("filter").value="";for(var s=0,l=0,c=0;c<this.children.length;c++){var h=this.children[c].extraFilterDistance||0;s=Math.max(s,h),l=Math.max(l,h)}var f=document.createElement("canvas");f.width=a+2*s,f.height=o+2*l;var d=f.getContext("2d");d.translate(-r+s,-i+l),e.render(d);for(c=0;c<this.children.length;c++)"function"==typeof this.children[c].apply&&this.children[c].apply(d,0,0,a+2*s,o+2*l);t.drawImage(f,0,0,a+2*s,o+2*l,r-s,i-l,a+2*s,o+2*l),e.style("filter",!0).value=u},this.render=function(t){}},e.Element.filter.prototype=new e.Element.ElementBase,e.Element.feMorphology=function(t){this.base=e.Element.ElementBase,this.base(t),this.apply=function(t,e,n,r,i){}},e.Element.feMorphology.prototype=new e.Element.ElementBase,e.Element.feComposite=function(t){this.base=e.Element.ElementBase,this.base(t),this.apply=function(t,e,n,r,i){}},e.Element.feComposite.prototype=new e.Element.ElementBase,e.Element.feColorMatrix=function(t){this.base=e.Element.ElementBase,this.base(t);var n=e.ToNumberArray(this.attribute("values").value);switch(this.attribute("type").valueOrDefault("matrix")){case"saturate":var r=n[0];n=[.213+.787*r,.715-.715*r,.072-.072*r,0,0,.213-.213*r,.715+.285*r,.072-.072*r,0,0,.213-.213*r,.715-.715*r,.072+.928*r,0,0,0,0,0,1,0,0,0,0,0,1];break;case"hueRotate":var i=n[0]*Math.PI/180,a=function(t,e,n){return t+Math.cos(i)*e+Math.sin(i)*n};n=[a(.213,.787,-.213),a(.715,-.715,-.715),a(.072,-.072,.928),0,0,a(.213,-.213,.143),a(.715,.285,.14),a(.072,-.072,-.283),0,0,a(.213,-.213,-.787),a(.715,-.715,.715),a(.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case"luminanceToAlpha":n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1]}function o(t,e,n,r,i,a){return t[n*r*4+4*e+a]}function u(t,e,n,r,i,a,o){t[n*r*4+4*e+a]=o}function s(t,e){var r=n[t];return r*(r<0?e-255:e)}this.apply=function(t,e,n,r,i){var a=t.getImageData(0,0,r,i);for(n=0;n<i;n++)for(e=0;e<r;e++){var l=o(a.data,e,n,r,0,0),c=o(a.data,e,n,r,0,1),h=o(a.data,e,n,r,0,2),f=o(a.data,e,n,r,0,3);u(a.data,e,n,r,0,0,s(0,l)+s(1,c)+s(2,h)+s(3,f)+s(4,1)),u(a.data,e,n,r,0,1,s(5,l)+s(6,c)+s(7,h)+s(8,f)+s(9,1)),u(a.data,e,n,r,0,2,s(10,l)+s(11,c)+s(12,h)+s(13,f)+s(14,1)),u(a.data,e,n,r,0,3,s(15,l)+s(16,c)+s(17,h)+s(18,f)+s(19,1))}t.clearRect(0,0,r,i),t.putImageData(a,0,0)}},e.Element.feColorMatrix.prototype=new e.Element.ElementBase,e.Element.feGaussianBlur=function(t){this.base=e.Element.ElementBase,this.base(t),this.blurRadius=Math.floor(this.attribute("stdDeviation").numValue()),this.extraFilterDistance=this.blurRadius,this.apply=function(t,n,r,a,o){void 0!==i.canvasRGBA?(t.canvas.id=e.UniqueId(),t.canvas.style.display="none",document.body.appendChild(t.canvas),i.canvasRGBA(t.canvas.id,n,r,a,o,this.blurRadius),document.body.removeChild(t.canvas)):e.log("ERROR: StackBlur.js must be included for blur to work")}},e.Element.feGaussianBlur.prototype=new e.Element.ElementBase,e.Element.title=function(t){},e.Element.title.prototype=new e.Element.ElementBase,e.Element.desc=function(t){},e.Element.desc.prototype=new e.Element.ElementBase,e.Element.MISSING=function(t){e.log("ERROR: Element '"+t.nodeName+"' not yet implemented.")},e.Element.MISSING.prototype=new e.Element.ElementBase,e.CreateElement=function(t){var n=t.nodeName.replace(/^[^:]+:/,"");n=n.replace(/\-/g,"");var r=null;return(r=void 0!==e.Element[n]?new e.Element[n](t):new e.Element.MISSING(t)).type=t.nodeName,r},e.load=function(t,n){e.loadXml(t,e.ajax(n))},e.loadXml=function(t,n){e.loadXmlDoc(t,e.parseXml(n))},e.loadXmlDoc=function(t,n){e.init(t);var r=function(e){for(var n=t.canvas;n;)e.x-=n.offsetLeft,e.y-=n.offsetTop,n=n.offsetParent;return window.scrollX&&(e.x+=window.scrollX),window.scrollY&&(e.y+=window.scrollY),e};1!=e.opts.ignoreMouse&&(t.canvas.onclick=function(t){var n=r(new e.Point(null!=t?t.clientX:event.clientX,null!=t?t.clientY:event.clientY));e.Mouse.onclick(n.x,n.y)},t.canvas.onmousemove=function(t){var n=r(new e.Point(null!=t?t.clientX:event.clientX,null!=t?t.clientY:event.clientY));e.Mouse.onmousemove(n.x,n.y)});var i=e.CreateElement(n.documentElement);i.root=!0,i.addStylesFromStyleDefinition();var a=!0,o=function(){e.ViewPort.Clear(),t.canvas.parentNode&&e.ViewPort.SetCurrent(t.canvas.parentNode.clientWidth,t.canvas.parentNode.clientHeight),1!=e.opts.ignoreDimensions&&(i.style("width").hasValue()&&(t.canvas.width=i.style("width").toPixels("x"),t.canvas.style.width=t.canvas.width+"px"),i.style("height").hasValue()&&(t.canvas.height=i.style("height").toPixels("y"),t.canvas.style.height=t.canvas.height+"px"));var r=t.canvas.clientWidth||t.canvas.width,o=t.canvas.clientHeight||t.canvas.height;if(1==e.opts.ignoreDimensions&&i.style("width").hasValue()&&i.style("height").hasValue()&&(r=i.style("width").toPixels("x"),o=i.style("height").toPixels("y")),e.ViewPort.SetCurrent(r,o),null!=e.opts.offsetX&&(i.attribute("x",!0).value=e.opts.offsetX),null!=e.opts.offsetY&&(i.attribute("y",!0).value=e.opts.offsetY),null!=e.opts.scaleWidth||null!=e.opts.scaleHeight){var u=null,s=null,l=e.ToNumberArray(i.attribute("viewBox").value);null!=e.opts.scaleWidth&&(i.attribute("width").hasValue()?u=i.attribute("width").toPixels("x")/e.opts.scaleWidth:isNaN(l[2])||(u=l[2]/e.opts.scaleWidth)),null!=e.opts.scaleHeight&&(i.attribute("height").hasValue()?s=i.attribute("height").toPixels("y")/e.opts.scaleHeight:isNaN(l[3])||(s=l[3]/e.opts.scaleHeight)),null==u&&(u=s),null==s&&(s=u),i.attribute("width",!0).value=e.opts.scaleWidth,i.attribute("height",!0).value=e.opts.scaleHeight,i.style("transform",!0,!0).value+=" scale("+1/u+","+1/s+")"}1!=e.opts.ignoreClear&&t.clearRect(0,0,r,o),i.render(t),a&&(a=!1,"function"==typeof e.opts.renderCallback&&e.opts.renderCallback(n))},u=!0;e.ImagesLoaded()&&(u=!1,o()),e.intervalID=setInterval((function(){var t=!1;if(u&&e.ImagesLoaded()&&(u=!1,t=!0),1!=e.opts.ignoreMouse&&(t|=e.Mouse.hasEvents()),1!=e.opts.ignoreAnimation)for(var n=0;n<e.Animations.length;n++)t|=e.Animations[n].update(1e3/e.FRAMERATE);"function"==typeof e.opts.forceRedraw&&1==e.opts.forceRedraw()&&(t=!0),t&&(o(),e.Mouse.runEvents())}),1e3/e.FRAMERATE)},e.stop=function(){e.intervalID&&clearInterval(e.intervalID)},e.Mouse=new function(){this.events=[],this.hasEvents=function(){return 0!=this.events.length},this.onclick=function(t,e){this.events.push({type:"onclick",x:t,y:e,run:function(t){t.onclick&&t.onclick()}})},this.onmousemove=function(t,e){this.events.push({type:"onmousemove",x:t,y:e,run:function(t){t.onmousemove&&t.onmousemove()}})},this.eventElements=[],this.checkPath=function(t,e){for(var n=0;n<this.events.length;n++){var r=this.events[n];e.isPointInPath&&e.isPointInPath(r.x,r.y)&&(this.eventElements[n]=t)}},this.checkBoundingBox=function(t,e){for(var n=0;n<this.events.length;n++){var r=this.events[n];e.isPointInBox(r.x,r.y)&&(this.eventElements[n]=t)}},this.runEvents=function(){e.ctx.canvas.style.cursor="";for(var t=0;t<this.events.length;t++)for(var n=this.events[t],r=this.eventElements[t];r;)n.run(r),r=r.parent;this.events=[],this.eventElements=[]}},e}(n||{});1==t.childNodes.length&&"OBJECT"==t.childNodes[0].nodeName||(t.svg=u);var s=t.getContext("2d");void 0!==e.documentElement?u.loadXmlDoc(s,e):"<"==e.substr(0,1)?u.loadXml(s,e):u.load(s,e)}else for(var l=document.querySelectorAll("svg"),c=0;c<l.length;c++){var h=l[c],f=document.createElement("canvas");f.width=h.clientWidth,f.height=h.clientHeight,h.parentNode.insertBefore(f,h),h.parentNode.removeChild(h);var d=document.createElement("div");d.appendChild(h),a(f,d.innerHTML)}}function o(t){var e=[0,0,0],n=function(n,r){var i=t.match(n);null!=i&&(e[r]+=i.length,t=t.replace(n," "))};return t=(t=t.replace(/:not\(([^\)]*)\)/g,"     $1 ")).replace(/{[^]*/gm," "),n(/(\[[^\]]+\])/g,1),n(/(#[^\s\+>~\.\[:]+)/g,0),n(/(\.[^\s\+>~\.\[:]+)/g,1),n(/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,2),n(/(:[\w-]+\([^\)]*\))/gi,1),n(/(:[^\s\+>~\.\[:]+)/g,1),t=(t=t.replace(/[\*\s\+>~]/g," ")).replace(/[#\.]/g," "),n(/([^\s\+>~\.\[:]+)/g,2),e.join("")}t.exports=a},function(t,e){t.exports=function(t){this.ok=!1,this.alpha=1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t=(t=t.replace(/ /g,"")).toLowerCase();var e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};t=e[t]||t;for(var n=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3]),parseFloat(t[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,o=i.exec(t);if(o){var u=a(o);this.r=u[0],this.g=u[1],this.b=u[2],u.length>3&&(this.alpha=u[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),n=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==n.length&&(n="0"+n),"#"+t+e+n},this.getHelpXML=function(){for(var t=new Array,r=0;r<n.length;r++)for(var i=n[r].example,a=0;a<i.length;a++)t[t.length]=i[a];for(var o in e)t[t.length]=o;var u=document.createElement("ul");u.setAttribute("id","rgbcolor-examples");for(r=0;r<t.length;r++)try{var s=document.createElement("li"),l=new RGBColor(t[r]),c=document.createElement("div");c.style.cssText="margin: 3px; border: 1px solid black; background:"+l.toHex()+"; color:"+l.toHex(),c.appendChild(document.createTextNode("test"));var h=document.createTextNode(" "+t[r]+" -> "+l.toRGB()+" -> "+l.toHex());s.appendChild(c),s.appendChild(h),u.appendChild(s)}catch(t){}return u}}},function(t,e){var n=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],r=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function i(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}t.exports=function(t,e,a,o){if(!(isNaN(o)||o<1)){var u,s,l,c,h,f,d,p,g,m,v,y,x,b,w,_,M,A,k,T,E,C,S,O,N=(o|=0)+o+1,P=e-1,D=a-1,B=o+1,R=B*(B+1)/2,I=new i,L=I;for(l=1;l<N;l++)if(L=L.next=new i,l==B)var j=L;L.next=I;var F=null,V=null;d=f=0;var z=n[o],U=r[o];for(s=0;s<a;s++){for(_=M=A=k=p=g=m=v=0,y=B*(T=t[f]),x=B*(E=t[f+1]),b=B*(C=t[f+2]),w=B*(S=t[f+3]),p+=R*T,g+=R*E,m+=R*C,v+=R*S,L=I,l=0;l<B;l++)L.r=T,L.g=E,L.b=C,L.a=S,L=L.next;for(l=1;l<B;l++)c=f+((P<l?P:l)<<2),p+=(L.r=T=t[c])*(O=B-l),g+=(L.g=E=t[c+1])*O,m+=(L.b=C=t[c+2])*O,v+=(L.a=S=t[c+3])*O,_+=T,M+=E,A+=C,k+=S,L=L.next;for(F=I,V=j,u=0;u<e;u++)t[f+3]=S=v*z>>U,0!=S?(S=255/S,t[f]=(p*z>>U)*S,t[f+1]=(g*z>>U)*S,t[f+2]=(m*z>>U)*S):t[f]=t[f+1]=t[f+2]=0,p-=y,g-=x,m-=b,v-=w,y-=F.r,x-=F.g,b-=F.b,w-=F.a,c=d+((c=u+o+1)<P?c:P)<<2,p+=_+=F.r=t[c],g+=M+=F.g=t[c+1],m+=A+=F.b=t[c+2],v+=k+=F.a=t[c+3],F=F.next,y+=T=V.r,x+=E=V.g,b+=C=V.b,w+=S=V.a,_-=T,M-=E,A-=C,k-=S,V=V.next,f+=4;d+=e}for(u=0;u<e;u++){for(M=A=k=_=g=m=v=p=0,y=B*(T=t[f=u<<2]),x=B*(E=t[f+1]),b=B*(C=t[f+2]),w=B*(S=t[f+3]),p+=R*T,g+=R*E,m+=R*C,v+=R*S,L=I,l=0;l<B;l++)L.r=T,L.g=E,L.b=C,L.a=S,L=L.next;for(h=e,l=1;l<=o;l++)f=h+u<<2,p+=(L.r=T=t[f])*(O=B-l),g+=(L.g=E=t[f+1])*O,m+=(L.b=C=t[f+2])*O,v+=(L.a=S=t[f+3])*O,_+=T,M+=E,A+=C,k+=S,L=L.next,l<D&&(h+=e);for(f=u,F=I,V=j,s=0;s<a;s++)t[(c=f<<2)+3]=S=v*z>>U,S>0?(S=255/S,t[c]=(p*z>>U)*S,t[c+1]=(g*z>>U)*S,t[c+2]=(m*z>>U)*S):t[c]=t[c+1]=t[c+2]=0,p-=y,g-=x,m-=b,v-=w,y-=F.r,x-=F.g,b-=F.b,w-=F.a,c=u+((c=s+B)<D?c:D)*e<<2,p+=_+=F.r=t[c],g+=M+=F.g=t[c+1],m+=A+=F.b=t[c+2],v+=k+=F.a=t[c+3],F=F.next,y+=T=V.r,x+=E=V.g,b+=C=V.b,w+=S=V.a,_-=T,M-=E,A-=C,k-=S,V=V.next,f+=e}}}},function(t,e,n){function r(t){this.options=t||{locator:{}}}function i(){this.cdata=!1}function a(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function o(t){if(t)return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function u(t,e,n){return"string"==typeof t?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}function s(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}r.prototype.parseFromString=function(t,e){var n=this.options,r=new l,a=n.domBuilder||new i,u=n.errorHandler,s=n.locator,c=n.xmlns||{},h={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return s&&a.setDocumentLocator(s),r.errorHandler=function(t,e,n){if(!t){if(e instanceof i)return e;t=e}var r={},a=t instanceof Function;function u(e){var i=t[e];!i&&a&&(i=2==t.length?function(n){t(e,n)}:t),r[e]=i&&function(t){i("[xmldom "+e+"]\t"+t+o(n))}||function(){}}return n=n||{},u("warning"),u("error"),u("fatalError"),r}(u,a,s),r.domBuilder=n.domBuilder||a,/\/x?html?$/.test(e)&&(h.nbsp=" ",h.copy="©",c[""]="http://www.w3.org/1999/xhtml"),c.xml=c.xml||"http://www.w3.org/XML/1998/namespace",t?r.parse(t,c,h):r.errorHandler.error("invalid doc source"),a.doc},i.prototype={startDocument:function(){this.doc=(new c).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,r){var i=this.doc,o=i.createElementNS(t,n||e),u=r.length;s(this,o),this.currentElement=o,this.locator&&a(this.locator,o);for(var l=0;l<u;l++){t=r.getURI(l);var c=r.getValue(l),h=(n=r.getQName(l),i.createAttributeNS(t,n));this.locator&&a(r.getLocator(l),h),h.value=h.nodeValue=c,o.setAttributeNode(h)}},endElement:function(t,e,n){var r=this.currentElement;r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&a(this.locator,n),s(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=u.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(t);else r=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(t)&&this.doc.appendChild(r),this.locator&&a(this.locator,r)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=u.apply(this,arguments);var r=this.doc.createComment(t);this.locator&&a(this.locator,r),s(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(t,e,n);this.locator&&a(this.locator,i),s(this,i)}},warning:function(t){console.warn("[xmldom warning]\t"+t,o(this.locator))},error:function(t){console.error("[xmldom error]\t"+t,o(this.locator))},fatalError:function(t){throw console.error("[xmldom fatalError]\t"+t,o(this.locator)),t}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(t){i.prototype[t]=function(){return null}}));var l=n(95).XMLReader,c=e.DOMImplementation=n(86).DOMImplementation;e.XMLSerializer=n(86).XMLSerializer,e.DOMParser=r},function(t,e){var n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+n.source+r.source+"*(?::"+n.source+r.source+"*)?$");function a(){}function o(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function u(t,e,n,r,i,a){for(var o,u=++e,s=0;;){var l=t.charAt(u);switch(l){case"=":if(1===s)o=t.slice(e,u),s=3;else{if(2!==s)throw new Error("attribute equal must after attrName");s=3}break;case"'":case'"':if(3===s||1===s){if(1===s&&(a.warning('attribute value must after "="'),o=t.slice(e,u)),e=u+1,!((u=t.indexOf(l,e))>0))throw new Error("attribute value no end '"+l+"' match");c=t.slice(e,u).replace(/&#?\w+;/g,i),n.add(o,c,e-1),s=5}else{if(4!=s)throw new Error('attribute value must after "="');c=t.slice(e,u).replace(/&#?\w+;/g,i),n.add(o,c,e),a.warning('attribute "'+o+'" missed start quot('+l+")!!"),e=u+1,s=5}break;case"/":switch(s){case 0:n.setTagName(t.slice(e,u));case 5:case 6:case 7:s=7,n.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),0==s&&n.setTagName(t.slice(e,u)),u;case">":switch(s){case 0:n.setTagName(t.slice(e,u));case 5:case 6:case 7:break;case 4:case 1:"/"===(c=t.slice(e,u)).slice(-1)&&(n.closed=!0,c=c.slice(0,-1));case 2:2===s&&(c=o),4==s?(a.warning('attribute "'+c+'" missed quot(")!!'),n.add(o,c.replace(/&#?\w+;/g,i),e)):("http://www.w3.org/1999/xhtml"===r[""]&&c.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+c+'" missed value!! "'+c+'" instead!!'),n.add(c,c,e));break;case 3:throw new Error("attribute value missed!!")}return u;case"":l=" ";default:if(l<=" ")switch(s){case 0:n.setTagName(t.slice(e,u)),s=6;break;case 1:o=t.slice(e,u),s=2;break;case 4:var c=t.slice(e,u).replace(/&#?\w+;/g,i);a.warning('attribute "'+c+'" missed quot(")!!'),n.add(o,c,e);case 5:s=6}else switch(s){case 2:n.tagName;"http://www.w3.org/1999/xhtml"===r[""]&&o.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),n.add(o,o,e),e=u,s=1;break;case 5:a.warning('attribute space is required"'+o+'"!!');case 6:s=1,e=u;break;case 3:s=4,e=u;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function s(t,e,n){for(var r=t.tagName,i=null,a=t.length;a--;){var o=t[a],u=o.qName,s=o.value;if((d=u.indexOf(":"))>0)var l=o.prefix=u.slice(0,d),c=u.slice(d+1),f="xmlns"===l&&c;else c=u,l=null,f="xmlns"===u&&"";o.localName=c,!1!==f&&(null==i&&(i={},h(n,n={})),n[f]=i[f]=s,o.uri="http://www.w3.org/2000/xmlns/",e.startPrefixMapping(f,s))}for(a=t.length;a--;){(l=(o=t[a]).prefix)&&("xml"===l&&(o.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==l&&(o.uri=n[l||""]))}var d;(d=r.indexOf(":"))>0?(l=t.prefix=r.slice(0,d),c=t.localName=r.slice(d+1)):(l=null,c=t.localName=r);var p=t.uri=n[l||""];if(e.startElement(p,c,r,t),!t.closed)return t.currentNSMap=n,t.localNSMap=i,!0;if(e.endElement(p,c,r),i)for(l in i)e.endPrefixMapping(l)}function l(t,e,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var a=t.indexOf("</"+n+">",e),o=t.substring(e+1,a);if(/[&<]/.test(o))return/^script$/i.test(n)?(i.characters(o,0,o.length),a):(o=o.replace(/&#?\w+;/g,r),i.characters(o,0,o.length),a)}return e+1}function c(t,e,n,r){var i=r[n];return null==i&&((i=t.lastIndexOf("</"+n+">"))<e&&(i=t.lastIndexOf("</"+n)),r[n]=i),i<e}function h(t,e){for(var n in t)e[n]=t[n]}function f(t,e,n,r){switch(t.charAt(e+2)){case"-":return"-"===t.charAt(e+3)?(i=t.indexOf("--\x3e",e+4))>e?(n.comment(t,e+4,i-e-4),i+3):(r.error("Unclosed comment"),-1):-1;default:if("CDATA["==t.substr(e+3,6)){var i=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,i-e-9),n.endCDATA(),i+3}var a=function(t,e){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;i.lastIndex=e,i.exec(t);for(;n=i.exec(t);)if(r.push(n),n[1])return r}(t,e),o=a.length;if(o>1&&/!doctype/i.test(a[0][0])){var u=a[1][0],s=o>3&&/^public$/i.test(a[2][0])&&a[3][0],l=o>4&&a[4][0],c=a[o-1];return n.startDTD(u,s&&s.replace(/^(['"])(.*?)\1$/,"$2"),l&&l.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),c.index+c[0].length}}return-1}function d(t,e,n){var r=t.indexOf("?>",e);if(r){var i=t.substring(e,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){i[0].length;return n.processingInstruction(i[1],i[2]),r+2}return-1}return-1}function p(t){}function g(t,e){return t.__proto__=e,t}a.prototype={parse:function(t,e,n){var r=this.domBuilder;r.startDocument(),h(e,e={}),function(t,e,n,r,i){function a(t){var e=t.slice(1,-1);return e in n?n[e]:"#"===e.charAt(0)?function(t){if(t>65535){var e=55296+((t-=65536)>>10),n=56320+(1023&t);return String.fromCharCode(e,n)}return String.fromCharCode(t)}(parseInt(e.substr(1).replace("x","0x"))):(i.error("entity not found:"+t),t)}function h(e){if(e>_){var n=t.substring(_,e).replace(/&#?\w+;/g,a);x&&g(_),r.characters(n,0,e-_),_=e}}function g(e,n){for(;e>=v&&(n=y.exec(t));)m=n.index,v=m+n[0].length,x.lineNumber++;x.columnNumber=e-m+1}var m=0,v=0,y=/.*(?:\r\n?|\n)|.*$/g,x=r.locator,b=[{currentNSMap:e}],w={},_=0;for(;;){try{var M=t.indexOf("<",_);if(M<0){if(!t.substr(_).match(/^\s*$/)){var A=r.doc,k=A.createTextNode(t.substr(_));A.appendChild(k),r.currentElement=k}return}switch(M>_&&h(M),t.charAt(M+1)){case"/":var T=t.indexOf(">",M+3),E=t.substring(M+2,T),C=b.pop();T<0?(E=t.substring(M+2).replace(/[\s<].*/,""),i.error("end tag name: "+E+" is not complete:"+C.tagName),T=M+1+E.length):E.match(/\s</)&&(E=E.replace(/[\s<].*/,""),i.error("end tag name: "+E+" maybe not complete"),T=M+1+E.length);var S=C.localNSMap,O=C.tagName==E;if(O||C.tagName&&C.tagName.toLowerCase()==E.toLowerCase()){if(r.endElement(C.uri,C.localName,E),S)for(var N in S)r.endPrefixMapping(N);O||i.fatalError("end tag name: "+E+" is not match the current start tagName:"+C.tagName)}else b.push(C);T++;break;case"?":x&&g(M),T=d(t,M,r);break;case"!":x&&g(M),T=f(t,M,r,i);break;default:x&&g(M);var P=new p,D=b[b.length-1].currentNSMap,B=(T=u(t,M,P,D,a,i),P.length);if(!P.closed&&c(t,T,P.tagName,w)&&(P.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),x&&B){for(var R=o(x,{}),I=0;I<B;I++){var L=P[I];g(L.offset),L.locator=o(x,{})}r.locator=R,s(P,r,D)&&b.push(P),r.locator=x}else s(P,r,D)&&b.push(P);"http://www.w3.org/1999/xhtml"!==P.uri||P.closed?T++:T=l(t,T,P.tagName,a,r)}}catch(t){i.error("element parse error: "+t),T=-1}T>_?_=T:h(Math.max(M,_)+1)}}(t,e,n,r,this.errorHandler),r.endDocument()}},p.prototype={setTagName:function(t){if(!i.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},add:function(t,e,n){if(!i.test(t))throw new Error("invalid attribute:"+t);this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},g({},g.prototype)instanceof g||(g=function(t,e){function n(){}for(e in n.prototype=e,n=new n,t)n[e]=t[e];return n}),e.XMLReader=a},function(t,e,n){"use strict";var r,i,a;t.exports=(r={BASE:!0,HEAD:!0,HTML:!0,META:!0,NOFRAME:!0,NOSCRIPT:!0,PARAM:!0,SCRIPT:!0,STYLE:!0,TITLE:!0},i=["A","ABBR","ADDRESS","AREA","ARTICLE","ASIDE","AUDIO","B","BASE","BDI","BDO","BLOCKQUOTE","BODY","BR","BUTTON","CANVAS","CAPTION","CENTER","CITE","CODE","COL","COLGROUP","COMMAND","DATALIST","DD","DEL","DETAILS","DFN","DIV","DL","DT","EM","EMBED","FIELDSET","FIGCAPTION","FIGURE","FONT","FOOTER","FORM","H1","H2","H3","H4","H5","H6","HEAD","HEADER","HGROUP","HR","HTML","I","IFRAME","IMG","INPUT","INS","KBD","LABEL","LEGEND","LI","LINK","MAP","MARK","MATH","MENU","META","METER","NAV","NOBR","NOSCRIPT","OBJECT","OL","OPTION","OPTGROUP","OUTPUT","P","PARAM","PRE","PROGRESS","Q","RP","RT","RUBY","S","SAMP","SCRIPT","SECTION","SELECT","SMALL","SOURCE","SPAN","STRONG","STYLE","SUB","SUMMARY","SUP","SVG","TABLE","TBODY","TD","TEXTAREA","TFOOT","TH","THEAD","TIME","TITLE","TR","TRACK","U","UL","VAR","VIDEO","WBR"],a=function(t){var e={},n=document.body.appendChild(document.createElement(t)),r=window.getComputedStyle(n);return[].forEach.call(r,(function(t){e[t]=r[t]})),document.body.removeChild(n),e},{initializeSerializer:function(){var t={};return[].forEach.call(i,(function(e){r[e]||(t[e]=a(e))})),function(e){var n,i=[],o=void 0,u=void 0,s=void 0;if(e&&e.nodeType===Node.ELEMENT_NODE)return i=[],o=e.querySelectorAll("*"),[].forEach.call(o,(function(e,n){var o;r[e.tagName]||(u=window.getComputedStyle(e),o=(o=e.tagName).toUpperCase(),t[o]||(t[o]=a(o)),s=t[o],i[n]=e.style.cssText,[].forEach.call(u,(function(t){u[t]!==s[t]&&(e.style[t]=u[t])})))})),n=(new XMLSerializer).serializeToString(e),o=[].map.call(o,(function(t,e){return t.style.cssText=i[e],t})),n}}})},function(t,e,n){(function(t,r){var i;/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */!function(a){var o=e,u=(t&&t.exports,"object"==typeof r&&r);u.global!==u&&u.window;var s=function(t){this.message=t};(s.prototype=new Error).name="InvalidCharacterError";var l=function(t){throw new s(t)},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=/[\t\n\f\r ]/g,f={encode:function(t){t=String(t),/[^\0-\xFF]/.test(t)&&l("The string to be encoded contains characters outside of the Latin1 range.");for(var e,n,r,i,a=t.length%3,o="",u=-1,s=t.length-a;++u<s;)e=t.charCodeAt(u)<<16,n=t.charCodeAt(++u)<<8,r=t.charCodeAt(++u),o+=c.charAt((i=e+n+r)>>18&63)+c.charAt(i>>12&63)+c.charAt(i>>6&63)+c.charAt(63&i);return 2==a?(e=t.charCodeAt(u)<<8,n=t.charCodeAt(++u),o+=c.charAt((i=e+n)>>10)+c.charAt(i>>4&63)+c.charAt(i<<2&63)+"="):1==a&&(i=t.charCodeAt(u),o+=c.charAt(i>>2)+c.charAt(i<<4&63)+"=="),o},decode:function(t){var e=(t=String(t).replace(h,"")).length;e%4==0&&(e=(t=t.replace(/==?$/,"")).length),(e%4==1||/[^+a-zA-Z0-9/]/.test(t))&&l("Invalid character: the string to be decoded is not correctly encoded.");for(var n,r,i=0,a="",o=-1;++o<e;)r=c.indexOf(t.charAt(o)),n=i%4?64*n+r:r,i++%4&&(a+=String.fromCharCode(255&n>>(-2*i&6)));return a},version:"0.1.0"};void 0===(i=function(){return f}.call(e,n,e,t))||(t.exports=i)}()}).call(this,n(98)(t),n(99))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};void 0===(r=function(t){var e=n(9).formatDefaultLocale,r=["decimal","thousands","grouping","currency"];return{setDefaultLocale:function(t){if(function(t){return"object"==(void 0===t?"undefined":i(t))&&r.every((function(e){return t.hasOwnProperty(e)}))}(t))return e(t);throw new Error("Please pass in a valid locale object definition")}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};void 0===(r=function(t){var e=n(13),r=n(11),a=(n(9),n(20)),o=n(12),u=n(27),s=n(2),l=(n(8),n(17).exportChart),c=n(26),h=n(10),f=n(24).calculatePercent,d=n(35).emptyDonutData,p=n(18).donut;return function(){var t={top:0,right:0,bottom:0,left:0},n=300,g=300,m=p,v=r.easeCubicInOut,y=12,x=void 0,b=void 0,w=void 0,_=140,M=45.5,A=_+M,k=void 0,T=void 0,E=void 0,C=void 0,S=!1,O=!1,N=void 0,P=void 0,D=!1,B=!0,R=!1,I=null,L={emptySliceColor:"#EFF2F5",showEmptySlice:!1},j=".1f",F=void 0,V=void 0,z=h.colorSchemas.britecharts,U=function(t){return t.percentage+"% "+t.name},H=function(t){this._current=t},q=function(t){t.outerRadius=_-y},Y=function(t,e){return e.quantity-t.quantity},X=function(t){return t.quantity},G=function(t){var e=t.data;return V(e.name)},W=e.dispatch("customMouseOver","customMouseOut","customMouseMove","customClick");function $(e){e.each((function(e){b=n-t.left-t.right,w=g-t.top-t.bottom,x=function(t){var e=t.reduce((function(t,e){return void 0===e.quantity||null===e.quantity?t:(e.quantity=+e.quantity,e.name=String(e.name),e.percentage=e.percentage||null,[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t),[e]))}),[]),n=function(t){return t.reduce((function(t,e){return e.quantity+t}),0)}(e);0===n&&L.showEmptySlice&&(O=!0);return e.map((function(t){return t.percentage=String(t.percentage||f(t.quantity,n,j)),t}))}(e),k=u.pie().padAngle(0).value(X).sort(Y),z&&(V=o.scaleOrdinal().range(z)),T=u.arc().innerRadius(M).padRadius(_),function(t){C||(C=s.select(t).append("svg").classed("britechart donut-chart",!0),function(){var t=C.append("g").classed("container-group",!0);t.append("g").classed("chart-group",!0),t.append("g").classed("legend-group",!0)}());C.select(".container-group").attr("transform","translate("+n/2+", "+g/2+")"),C.attr("width",n).attr("height",g)}(this),function(){E&&C.selectAll("g.arc").remove();var t=(E=C.select(".chart-group").selectAll("g.arc").data(k(x))).enter().append("g").each(H).each(q).classed("arc",!0).append("path");S?t.merge(E).attr("fill",G).on("mouseover",(function(t){K(this,t,b,w)})).on("mousemove",(function(t){J(this,t,b,w)})).on("mouseout",(function(t){tt(this,t,b,w)})).on("click",(function(t){et(this,t,b,w)})).transition().ease(v).duration(1200).attrTween("d",rt):t.merge(E).attr("fill",G).attr("d",T).on("mouseover",(function(t){K(this,t,b,w)})).on("mousemove",(function(t){J(this,t,b,w)})).on("mouseout",(function(t){tt(this,t,b,w)})).on("click",(function(t){et(this,t,b,w)}));E.exit().remove()}(),C.select(".legend-group").append("text").attr("class","donut-text"),N&&(P=C.selectAll(".chart-group .arc path").select(Z).node())&&(Q(P.__data__),nt(P,_,1200)),O&&L.showEmptySlice&&function(){E&&C.selectAll("g.arc").remove();(E=C.select(".chart-group").selectAll("g.arc").data(k(d))).enter().append("g").each(H).each(q).classed("arc",!0).append("path").merge(E).attr("fill",L.emptySliceColor).attr("d",T).transition().ease(v).duration(1200).attrTween("d",rt),E.exit().remove()}()}))}function Q(t){t.data&&(C.select(".donut-text").text((function(){return U(t.data)})).attr("dy",".2em").attr("text-anchor","middle"),C.select(".donut-text").call(it,A))}function Z(t){if(t.data.id===N)return this}function K(t,e,n,r){Q(e),W.call("customMouseOver",t,e,s.mouse(t),[n,r]),B&&(I&&t!==I&&nt(I,_-y,150),P&&t!==P&&nt(P,_-y),nt(t,_))}function J(t,e,n,r){W.call("customMouseMove",t,e,s.mouse(t),[n,r])}function tt(t,e,n,r){C.select(".donut-text").text(""),P&&D&&!R&&(Q(P.__data__),nt(P,_)),(t!==P||!D&&t===P)&&nt(t,_-y,150),R&&(Q(t.__data__),nt(t,_),I=t),W.call("customMouseOut",t,e,s.mouse(t),[n,r])}function et(t,e,n,r){W.call("customClick",t,e,s.mouse(t),[n,r])}function nt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;s.select(t).transition().delay(n).attrTween("d",(function(t){var n=a.interpolate(t.outerRadius,e);return function(e){return t.outerRadius=n(e),T(t)}}))}function rt(t){var e=void 0;return t.innerRadius=0,e=a.interpolate({startAngle:0,endAngle:0},t),function(t){return T(e(t))}}function it(t,e){var n=_/5;c.wrapText.call(null,0,n,e,t.node())}return $.centeredTextFunction=function(t){return arguments.length?(U=t,this):U},$.colorSchema=function(t){return arguments.length?(z=t,this):z},$.emptyDataConfig=function(t){return arguments.length?(L=t,this):L},$.exportChart=function(t,e){l.call($,C,t,e)},$.externalRadius=function(t){return arguments.length?(_=t,this):_},$.hasHoverAnimation=function(t){return arguments.length?(B=t,this):B},$.hasFixedHighlightedSlice=function(t){return arguments.length?(D=t,this):D},$.hasLastHoverSliceHighlighted=function(t){return arguments.length?(R=t,this):R},$.height=function(t){return arguments.length?(g=t,this):g},$.highlightSliceById=function(t){return arguments.length?(N=t,this):N},$.internalRadius=function(t){return arguments.length?(M=t,this):M},$.isAnimated=function(t){return arguments.length?(S=t,this):S},$.loadingState=function(t){return arguments.length?(m=t,this):m},$.margin=function(e){return arguments.length?(t=i({},t,e),this):t},$.numberFormat=function(t){return arguments.length?(F=t,this):F},$.on=function(){var t=W.on.apply(W,arguments);return t===W?$:t},$.orderingFunction=function(t){return arguments.length?(Y=t,this):Y},$.percentageFormat=function(t){return arguments.length?(j=t,this):j},$.radiusHoverOffset=function(t){return arguments.length?(y=t,this):y},$.width=function(t){return arguments.length?(n=t,this):n},$}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};void 0===(r=function(t){var e=n(9),r=n(12),a=n(2),o=(n(8),n(26)),u=n(10);return function(){var t={top:5,right:5,bottom:5,left:5},n=320,s=180,l=16,c=1.5,h="s",f="",d=!1,p=null,g=!0,m=void 0,v=u.colorSchemas.britecharts,y=function(t){return t.id},x=function(t){return t.name},b=function(t){var n=t.quantity;return e.format(h)(n)+f},w=function(t){var e=t.name;return m(e)},_=function(t){var e=t.quantity;return"number"==typeof e||"string"==typeof e},M=void 0,A=void 0,k=void 0,T=void 0,E=void 0;function C(e){e.each((function(e){var i,u,c,h,f,C,P,D,B,R;A=n-t.left-t.right,k=s-t.top-t.bottom,T=function(t){return g=t.filter(_).length===t.length,t.reduce((function(t,e){return void 0!==e.quantity&&null!==e.quantity&&(e.quantity=+e.quantity),e.name=String(e.name),e.id=+e.id,[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t),[e])}),[])}(e),m=r.scaleOrdinal().range(v),function(e){E||(E=a.select(e).append("svg").classed("britechart britechart-legend",!0)).append("g").classed("legend-container-group",!0).attr("transform","translate("+t.left+","+t.top+")").append("g").classed("legend-group",!0);E.attr("width",n).attr("height",s)}(this),d?(R=l,E.select(".legend-group").selectAll("g").remove(),E.select(".legend-group").append("g").classed("legend-line",!0),(M=E.select(".legend-line").selectAll("g.legend-entry").data(T)).enter().append("g").classed("legend-entry",!0).attr("data-item",y).attr("transform",(function(t){var e=t.name,n=R,r=k/2,i=o.getTextWidth(e,12);return R+=l+2*N()+i,"translate("+n+","+r+")"})).merge(M).append("circle").classed("legend-circle",!0).attr("cx",l/2).attr("cy",-5).attr("r",l/2).style("fill",w).style("stroke-width",1),E.select(".legend-group").selectAll("g.legend-entry").append("text").classed("legend-entry-name",!0).text(x).attr("x",N()).style("font-size","12px").style("letter-spacing","0.5px"),E.select(".legend-group").selectAll("g.legend-entry").exit().transition().style("opacity",0).remove(),B=E.select(".legend-line").node().getBoundingClientRect().width+l,A-B<=0&&(i=E.selectAll(".legend-entry"),u=i.size(),c=k/2*1.7,h=E.select(".legend-group").append("g").classed("legend-line",!0).attr("transform","translate(0, "+c+")"),(f=i.filter(":nth-child("+u+")")).attr("transform","translate("+l+",0)"),h.append((function(){return f.node()}))),C=E.select("g.legend-container-group").node().getBoundingClientRect().width+N(),D=(P=n-C)/2,P>0&&E.select("g.legend-container-group").attr("transform","translate("+D+",0)")):function(){E.select(".legend-group").selectAll("g").remove(),(M=E.select(".legend-group").selectAll("g.legend-line").data(T)).enter().append("g").classed("legend-line",!0).append("g").classed("legend-entry",!0).attr("data-item",y).attr("transform",(function(t,e){return"translate("+(l+N())+","+(e+1)*(k/(T.length+1))+")"})).merge(M).append("circle").classed("legend-circle",!0).attr("cx",l/2).attr("cy",-5).attr("r",l/2).style("fill",w).style("stroke-width",1),E.select(".legend-group").selectAll("g.legend-line").selectAll("g.legend-entry").append("text").classed("legend-entry-name",!0).text(x).attr("x",N()).style("font-size","12px").style("letter-spacing","0.5px"),g?E.select(".legend-group").selectAll("g.legend-line").selectAll("g.legend-entry").append("text").classed("legend-entry-value",!0).text(b).attr("x",A-40).style("font-size","12px").style("letter-spacing","0.8px").style("text-anchor","end").style("startOffset","100%"):function(){var t=E.select("g.legend-container-group").node().getBoundingClientRect().width,e=n-t,r=e/2-t/2;e>0&&E.select("g.legend-container-group").attr("transform","translate("+r+",0)")}();E.select(".legend-group").selectAll("g.legend-line").exit().transition().style("opacity",0).remove()}(),p&&(S(),O(p))}))}function S(){E.select(".legend-group").selectAll("g.legend-entry").classed("is-faded",!1)}function O(t){var e=E.select('[data-item="'+t+'"]');e.nodes().length&&(E.select(".legend-group").selectAll("g.legend-entry").classed("is-faded",!0),e.classed("is-faded",!1))}function N(){return c*l}return C.clearHighlight=function(){S()},C.colorSchema=function(t){return arguments.length?(v=t,this):v},C.height=function(t){return arguments.length?(s=t,this):s},C.highlight=function(t){S(),O(t)},C.highlightEntryById=function(t){return arguments.length?(p=t,this):p},C.isHorizontal=function(t){return arguments.length?(d=t,this):d},C.margin=function(e){return arguments.length?(t=i({},t,e),this):t},C.marginRatio=function(t){return arguments.length?(c=t,this):c},C.markerSize=function(t){return arguments.length?(l=t,this):l},C.numberFormat=function(t){return arguments.length?(h=t,this):h},C.unit=function(t){return arguments.length?(f=t,this):f},C.width=function(t){return arguments.length?(n=t,this):n},C}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";var r,i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}void 0===(r=function(t){var e=n(0),r=n(19),u=n(25),s=n(13),l=n(11),c=n(9),h=n(12),f=n(27),d=n(2),p=(n(8),n(28)),g=n(26),m=n(17).exportChart,v=n(10),y=n(18).line,x=n(75).getTimeSeriesAxis,b=n(35),w=b.axisTimeCombinations,_=b.curveMap,M=n(76),A=M.createFilterContainer,k=M.createGlowWithMatrix,T=M.bounceCircleHighlight,E=n(24),C=E.formatIntegerValue,S=E.formatDecimalValue,O=E.isInteger;E.uniqueId;return function(){var t={top:60,right:30,bottom:40,left:70},n=960,b=500,M=y,E=null,N=480,P=void 0,D=void 0,B=void 0,R=void 0,I=void 0,L=void 0,j=void 0,F=void 0,V=void 0,z=void 0,U=15,H=v.colorSchemas.britecharts,q=void 0,Y=null,X=null,G=null,W=null,$=null,Q=void 0,Z=!1,K=!1,J=!1,tt=!1,et=l.easeQuadInOut,nt=void 0,rt="linear",it=void 0,at=void 0,ot=void 0,ut="date",st="value",lt="topic",ct=null,ht=null,ft=null,dt=null,pt=36,gt=5,mt=void 0,vt=void 0,yt=void 0,xt=void 0,bt=null,wt={},_t=void 0,Mt=void 0,At=void 0,kt=void 0,Tt=37,Et=void 0,Ct=function(t){return t.date},St=function(t){return t.value},Ot=function(t){return t.topic},Nt=s.dispatch("customMouseOver","customMouseOut","customMouseMove","customDataEntryClick","customTouchMove");function Pt(s){s.each((function(s){var l=function(t){var e=t.dataByTopic,n=t.dataByDate,r=t.dataRange;if(!e)throw new Error("Data needs to have a dataByTopic property");var i=e.reduce((function(t,e){return e.dates.forEach((function(n){t.push({topicName:e.topicName,name:e[lt],date:n[ut],value:n[st]})})),t}),[]);n=(n=u.nest().key(Ct).entries(i).map((function(t){return{date:new Date(t.key),topics:t.values}}))).map((function(t){return t.date=new Date(t.date),t})),r&&(r=r.map((function(t){return t.date=new Date(t.date),t})));return{dataByTopic:e.reduce((function(t,e){var n=e.dates,r=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(e,["dates"]),i=n.map((function(t){return{date:new Date(t[ut]),value:+t[st]}}));return t.push(a({dates:i},r)),t}),[]),dataByDate:n,dataRange:r}}(s);it=l.dataByTopic,at=l.dataByDate,ot=l.dataRange;var c,g,m,v=J?300:0;B=n-t.left-t.right-v,R=b-t.top-t.bottom,function(){var t=e.min(it,(function(t){var n=t.dates;return e.min(n,Ct)})),n=e.max(it,(function(t){var n=t.dates;return e.max(n,Ct)})),r=e.max(it,(function(t){var n=t.dates;return e.max(n,St)})),i=e.min(it,(function(t){var n=t.dates;return e.min(n,St)})),a=i<0?i:0;I=h.scaleTime().domain([t,n]).rangeRound([0,B]),L=h.scaleLinear().domain([a,Math.abs(r)]).rangeRound([R,0]).nice();var o=(j=h.scaleOrdinal().range(H).domain(it.map(Ot))).range();q=j.domain().reduce((function(t,e,n){return t[e]=o[n],t}),{})}(),function(e){P||(P=d.select(e).append("svg").classed("britechart line-chart",!0),function(){var e=P.append("g").classed("container-group",!0).attr("transform","translate("+t.left+","+t.top+")");e.append("g").classed("x-axis-group",!0).append("g").classed("axis x",!0),e.selectAll(".x-axis-group").append("g").classed("month-axis",!0),e.append("g").classed("y-axis-group",!0).append("g").classed("axis y",!0),e.append("g").classed("grid-lines-group",!0),e.append("g").classed("chart-group",!0),J&&e.append("g").classed("legend-group",!0);e.append("g").classed("metadata-group",!0)}());P.attr("width",n).attr("height",b)}(this),function(){var e=void 0,i=void 0;if("custom"===G&&"string"==typeof $)e={tick:W,format:p.timeFormat($)},i=null;else{var a=x(at,n,G,Q);e=a.minor,i=a.major,V=r.axisBottom(I).ticks(i.tick).tickSize(0,0).tickFormat(i.format)}F=r.axisBottom(I).ticks(e.tick).tickSize(10,0).tickPadding(5).tickFormat(e.format),z=r.axisLeft(L).ticks(gt).tickSize([0]).tickPadding(5).tickFormat(Bt),function(e,n){P.select(".grid-lines-group").selectAll("line").remove(),("horizontal"===bt||"full"===bt)&&P.select(".grid-lines-group").selectAll("line.horizontal-grid-line").data(L.ticks(n)).enter().append("line").attr("class","horizontal-grid-line").attr("x1",-U-30).attr("x2",B).attr("y1",(function(t){return L(t)})).attr("y2",(function(t){return L(t)}));"vertical"!==bt&&"full"!==bt||P.select(".grid-lines-group").selectAll("line.vertical-grid-line").data(I.ticks(e)).enter().append("line").attr("class","vertical-grid-line").attr("y1",0).attr("y2",R).attr("x1",(function(t){return I(t)})).attr("x2",(function(t){return I(t)}));P.select(".grid-lines-group").selectAll("line.extended-x-line").data([0]).enter().append("line").attr("class","extended-x-line").attr("x1",-U-30).attr("x2",B).attr("y1",b-t.bottom-t.top).attr("y2",b-t.bottom-t.top)}(e.tick,gt)}(),function(){P.select(".x-axis-group .axis.x").attr("transform","translate(0, "+R+")").call(F),"custom"!==G&&P.select(".x-axis-group .month-axis").attr("transform","translate(0, "+(R+28)+")").call(V);if(ct){ht&&P.selectAll(".x-axis-label").remove();var t=B/2,e=R+28+36;ht=P.select(".x-axis-group").append("text").attr("x",t).attr("y",e).attr("text-anchor","middle").attr("class","x-axis-label").text(ct)}if(P.select(".y-axis-group .axis.y").attr("transform","translate("+-U+", 0)").call(z).call(Dt),ft){dt&&P.selectAll(".y-axis-label").remove();var n=-pt-U,r=-R/2;dt=P.select(".y-axis-group").append("text").attr("x",r).attr("y",n).attr("text-anchor","middle").attr("transform","rotate(270)").attr("class","y-axis-label").text(ft)}}(),function(){if(!ot)return;var t=f.area().curve(_[rt]).x((function(t){var e=t.date;return I(e)})).y0((function(t){var e=t.min;return L(e)})).y1((function(t){var e=t.max;return L(e)}));P.select(".chart-group").append("g").attr("class","area").append("path").data([ot]).attr("class","area").attr("d",t)}(),c=void 0,g=void 0,g=f.line().curve(_[rt]).x((function(t){var e=t.date;return I(e)})).y((function(t){var e=t.value;return L(e)})),c=P.select(".chart-group").selectAll(".line").data(it,Ot),D=c.enter().append("g").attr("class","topic").append("path").attr("class","line").merge(c).attr("id",(function(t){return t.topic})).attr("d",(function(t){var e=t.dates;return g(e)})).style("stroke",(function(t){return e=t.topic,j(e);var e})).style("opacity",(function(t){return t.hasOwnProperty("show")?t.show?1:0:1})).style("stroke-dasharray",(function(t){return!!t.hasOwnProperty("show")&&!!t.dashed&&[.5,4]})),c.exit().remove(),function(){if(!J)return;var e=Number.parseInt(B)+Number.parseInt(t.right);Mt=P.selectAll(".legend-group").append("g").attr("transform","translate("+e+", 0)").classed("tooltip-text",!0),kt=Mt.append("text").classed("tooltip-title",!0).attr("x",-43).attr("dy",".35em").attr("y",16).style("fill","#282C35").style("font-size","12px"),Mt.append("line").classed("tooltip-divider",!0).attr("x1",-43).attr("x2",225).attr("y1",31).attr("y2",31).style("stroke","#D2D6DF"),At=Mt.append("g").classed("tooltip-body",!0).style("transform","translateY(8px)").style("fill","#282C35");var n=void 0;n=it[0].hasOwnProperty("show")?it.filter((function(t){return t.show})):it;for(var r=0;r<n.length;r++)n[r].sum=n[r].dates.reduce((function(t,e){return t+e.value}),0);n.map((function(t){t.sum%1!=0&&(t.sum=parseFloat(t.sum).toFixed(2))}));var i=n[0].dates[0],a=n[0].dates.length-1,o=n[0].dates[a];(function(t,e){var n=Rt(t.date)+" - "+Rt(e.date);kt.text(n)})(i,o),n.forEach(It)}(),K&&(nt=P.append("rect").attr("class","masking-rectangle").attr("width",n).attr("height",b).attr("x",0).attr("y",0)).transition().duration(1500).ease(et).attr("x",n).on("end",(function(){return nt.remove()})),n>N&&(mt||(mt=P.select(".metadata-group").append("rect").attr("class","overlay").attr("y1",0).attr("y2",b).attr("height",R).attr("width",B).attr("fill","rgba(0, 0, 0, 0)").style("display","none")),vt||(vt=P.select(".metadata-group").append("g").attr("class","hover-marker vertical-marker-container").attr("transform","translate(9999, 0)"),yt=vt.selectAll("path").data([{x1:0,y1:0,x2:0,y2:0}]).enter().append("line").classed("vertical-marker",!0).attr("x1",0).attr("y1",R).attr("x2",0).attr("y2",0)),P.on("mouseover",(function(t){!function(t,e){mt.style("display","block"),yt.classed("bc-is-active",!0),Nt.call("customMouseOver",t,e,d.mouse(t))}(this,t)})).on("mouseout",(function(t){!function(t,e){mt.style("display","none"),yt.classed("bc-is-active",!1),Nt.call("customMouseOut",t,e,d.mouse(t))}(this,t)})).on("mousemove",(function(e){var n,r,a,o,u,s,l,c;n=this,r=d.mouse(n),a=i(r,2),o=a[0],u=a[1],s=-t.left,l=Lt(o+s),c=void 0,l&&(Vt(c=I(new Date(l.date))),Ft(l),Nt.call("customMouseMove",n,l,q,c,u))}))),Z&&function(){P.select(".chart-group").selectAll(".data-points-container").remove();var t=D.nodes().reduce((function(t,e){return t[e.id]=e,t}),{});at.reduce((function(e,n){var r=n.topics.map((function(e){return{topic:e,node:t[e.name]}}));return e=[].concat(o(e),o(r))}),[])}(),P.on("touchmove",(function(t){!function(t,e){Nt.call("customTouchMove",t,e,d.touch(t))}(this,t)})),tt&&(m=Lt(B))&&(Vt(I(new Date(m.date))),Ft(m))}))}function Dt(t){t.selectAll(".tick text").attr("transform","translate(0, -7)")}function Bt(t){var e=void 0;return e=O(t)?C:S,xt&&(e=c.format(xt)),e(t)}function Rt(t){return new Date(t).toLocaleDateString()}function It(t){var e,n,r=void 0,i=void 0;e=t.topicName,n=t.sum.toLocaleString(),i=At.append("text").classed("tooltip-left-text",!0).attr("dy","1em").attr("x",-15).attr("y",Tt).style("fill","#000000").style("font-size","12px").text(e).call(jt,200,12,-25),r=At.append("text").classed("tooltip-right-text",!0).attr("dy","1em").attr("x",-15).attr("y",Tt).style("fill","#000000").style("font-size","12px").text(n),Et=i.node().getBBox().height?i.node().getBBox().height:Et,Et+5,_t=r.node().getBBox().width?r.node().getBBox().width:_t,r.attr("x",300-_t-75),At.append("circle").classed("tooltip-circle",!0).attr("cx",-35).attr("cy",Tt+8).attr("r",5).style("fill",q[t.topic]).style("stroke-width",1),Tt+=Et+7}function Lt(t){var n,r,i,a=I.invert(t),o=(0,e.bisector(Ct).left)(at,a,1),u=at[o],s=at[o-1],l=void 0;return s&&u?(n=a,r=u,i=s,l=new Date(n).getTime()-new Date(r.date).getTime()>new Date(i.date).getTime()-new Date(n).getTime()?r:i):l=u,l}function jt(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;t.each((function(){var i,a,o,u,s,l,c;for(i=(t=d.select(this)).text().split(/\s+/).reverse(),o=[],u=0,1.2,s=t.attr("y"),l=parseFloat(t.attr("dy")),c=t.text(null).append("tspan").attr("x",r).attr("y",s).attr("dy",l+"em");a=i.pop();){o.push(a),c.text(o.join(" ")),g.getTextWidth(o.join(" "),n,"Karla, sans-serif")>e&&(o.pop(),c.text(o.join(" ")),u<4&&(o=[a],c=t.append("tspan").attr("x",r).attr("y",s).attr("dy",1.2*++u+l+"em").text(a)))}}))}function Ft(t){vt.selectAll(".circle-container").remove();var e=D.nodes().reduce((function(t,e){return t[e.id]=e,t}),{}),n=it.filter((function(t){return!t.show})).map((function(t){return t.topicName})),r=t.topics.map((function(t){return{topic:t,node:e[t.name]}})).filter((function(t){return!!t.topic})).sort((function(t,e){return q[t.topic.name]<q[e.topic.name]}));t.topics=r.map((function(t){return t.topic})),t.topics.forEach((function(e,i){var a=vt.append("g").classed("circle-container",!0).append("circle").classed("data-point-highlighter",!0).attr("cx",12).attr("cy",0).attr("r",5).style("stroke-width",(function(){return Z?5:2})).style("fill",(function(){return q[e.name]})).style("opacity",(function(){return n.includes(e.topicName)?0:1})).style("stroke",q[e.name]).style("cursor","pointer").on("click",(function(){!function(t){Y||(Y=A(P.select(".metadata-group")),X=k(Y));var e=d.select(t);e.style("stroke-width",5).style("stroke-opacity",.6).attr("filter","url(#"+X+")"),T(e,et,5)}(this),function(t,e){Nt.call("customDataEntryClick",t,e,d.mouse(t))}(this,e)})).on("mouseout",(function(){var t;t=this,d.select(t).attr("filter","none")})),o=r[i].node,u=function(t,e,n,r){var i=n+"-"+t;if(i in wt)return wt[i];r=r||.01;var a=0,o=e.getTotalLength(),u=e.getPointAtLength((o+a)/2),s=0;for(;t<u.x-r||t>u.x+r;){var l=(a+o)/2;if(u=e.getPointAtLength(l),t<u.x?o=l:a=l,100<(s+=1))break}return wt[i]=u.y,wt[i]}(I(new Date(t.topics[i].date)),o,e.name);a.attr("transform","translate( -12, "+u+" )")}))}function Vt(t){vt.attr("transform","translate("+t+",0)")}return Pt.aspectRatio=function(t){return arguments.length?(E=t,this):E},Pt.xAxisLabel=function(t){return arguments.length?(ct=t,this):ct},Pt.yAxisLabel=function(t){return arguments.length?(ft=t,this):ft},Pt.colorSchema=function(t){return arguments.length?(H=t,this):H},Pt.dateLabel=function(t){return arguments.length?(ut=t,this):ut},Pt.xAxisFormat=function(t){return arguments.length?(G=t,this):G},Pt.xAxisCustomFormat=function(t){return arguments.length?($=t,this):$},Pt.xTicks=function(t){return arguments.length?(W=t,this):W},Pt.grid=function(t){return arguments.length?(bt=t,this):bt},Pt.height=function(t){return arguments.length?(E&&(n=Math.ceil(t/E)),b=t,this):b},Pt.initializeVerticalMarker=function(t){return arguments.length?(tt=t,this):tt},Pt.isAnimated=function(t){return arguments.length?(K=t,this):K},Pt.isPrintMode=function(t){return arguments.length?(J=t,this):J},Pt.loadingState=function(t){return arguments.length?(M=t,this):M},Pt.margin=function(e){return arguments.length?(t=a({},t,e),this):t},Pt.numberFormat=function(t){return arguments.length?(xt=t,this):xt},Pt.lineCurve=function(t){return arguments.length?(rt=t,this):rt},Pt.shouldShowAllDataPoints=function(t){return arguments.length?(Z=t,this):Z},Pt.tooltipThreshold=function(t){return arguments.length?(N=t,this):N},Pt.topicLabel=function(t){return arguments.length?(lt=t,this):lt},Pt.valueLabel=function(t){return arguments.length?(st=t,this):st},Pt.yAxisLabelPadding=function(t){return arguments.length?(pt=t,this):pt},Pt.yTicks=function(t){return arguments.length?(gt=t,this):gt},Pt.width=function(t){return arguments.length?(E&&(b=Math.ceil(t*E)),n=t,this):n},Pt.locale=function(t){return arguments.length?(Q=t,this):Q},Pt.exportChart=function(t,e){m.call(Pt,P,t,e)},Pt.on=function(){var t=Nt.on.apply(Nt,arguments);return t===Nt?Pt:t},Pt.axisTimeCombinations=w,Pt}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}void 0===(r=function(t){var e=n(105),r=n(0),o=n(11),u=n(19),s=n(16),l=n(13),c=n(9),h=n(12),f=n(2),d=n(26),p=n(17).exportChart,g=n(10),m=n(18).bar;return function(){var t={top:20,right:20,bottom:30,left:40},n=void 0,v=960,y=500,x=m,b=void 0,w=void 0,_=void 0,M=void 0,A=void 0,k=void 0,T=g.singleColors.aloeGreen,E=void 0,C=void 0,S=5,O=5,N=1,P=",f",D=!1,B=!1,R=7,I=",f",L="",j=16,F=12,V=10,z=.1,U=10,H=.3,q=void 0,Y=void 0,X=20,G=1,W=void 0,$=!1,Q=o.easeQuadInOut,Z="#bebebe",K="#20AA3F",J="#D14124",tt="",et="Total complaints",nt="",rt="",it="value",at=!0,ot="name",ut="pctChange",st=!1,lt=l.dispatch("customMouseOver","customMouseOut","customMouseMove","customClick"),ct=function(t){return t.name},ht=function(t){return t.value},ft=function(t){var e=t.pctChange;if(!t.splitterText)return isNaN(e)?"----":999999===Math.abs(e)?"":(e>0?"+":"")+c.format(I)(e)+"%"},dt=function(t){var e=t.parentCount,n=t.value;return e?A(e)+R:A(n)+R},pt=function(t){var e=t.name;return k(e)+j*(3/8)};function gt(i){i.each((function(i){var o=t.left+t.right;_=v>600?v-o-1.2*X-100:v-o,M=y-t.top-t.bottom;var s=function(t){var e=t.reduce((function(t,e){return e.name=String(e[ot]),e.pctOfSet=+e.pctOfSet,e.pctChange=+e[ut],e.value=+e[it],e.width=+e.width,[].concat(a(t),[e])}),[]),n=e.slice();return{data:e,dataZeroed:n}}(i);b=s.data,w=s.dataZeroed,function(){yt=function(t,n){var r=t.length,i=e.sum(t,n),a=bt(t),o=(M-(r-1)*z*M/r-2*H*M/r)/i;if(0===a.length)return o;var u=h.scalePow().exponent(1/a.length).domain([0,100]).range([0,10*a.length])(r);return o-(st?2*u:u)}(b,mt),xt=function(n,r,i){var a=vt(n,r,i),o=n.length,u=function(t,e){var n=[];return t.forEach((function(t){var r=e.map((function(e,n){return e.name===t||e.parent===t?n:null})).filter((function(t){return t}));n.push(r)})),n}(bt(n),n);return function(s,l){var c=z*M/o,h=H*M/o+e.sum(n.slice(0,l),r)*i+l*c+a(l)/2;return u.forEach((function(t){t[0]>1&&l>=t[0]&&(h+=st?20:U),l>t[t.length-1]&&(h+=st?20:U)})),h+t.top}}(b,mt,yt),vt(b,mt,yt);var n=Math.min(N*r.max(b,ht));A=h.scaleLinear().domain([0,n]).rangeRound([0,_]);var i=b.map(xt);k=h.scaleOrdinal().domain(b.map(ct)).range(i),E=b.map((function(t){return t})).map((function(t,e){return{name:t.name,color:T[e%T.length]}})),C=function(t){return E.filter((function(e){return e.name===t}))[0].color}}(),q=u.axisBottom(A).ticks(O,P).tickSizeInner([-M]),Y=u.axisLeft(k),function(e){n=e,W||((W=f.select(e).append("svg").classed("britechart row-chart",!0)).append("rect").classed("export-wrapper",!0).attr("width",v).attr("height",y).attr("fill","white"),function(){var e=W.append("g").classed("container-group",!0).attr("transform","translate("+(t.left+X)+", "+t.top+")");e.append("g").classed("chart-group",!0),e.append("g").classed("title-group",!0),e.append("g").classed("x-axis-group axis",!0),e.append("g").attr("transform","translate("+-1*X+", 0)").classed("y-axis-group axis",!0),e.append("g").classed("metadata-group",!0)}());W.attr("width",v).attr("height",y)}(this),function(){if(!b||!b[0])return;var e=b[0].parentCount?A(b[0].parentCount):1;e=e>0?e:1;var n=b[0].parentCount;W.select(".title-group").selectAll("g").remove(),W.select(".title-group").selectAll("text").remove();var r=window.navigator.userAgent,i=r.indexOf("Edge")>-1||r.indexOf("MSIE")>-1;if(tt&&n){for(var a=tt+" "+n.toLocaleString(),o=d.getTextWidth(a,F,"sans-serif"),u=st?100:40,s=t.left+e-u-0,l=!1;o>s;)tt=tt.slice(0,-1),l=!0,a=tt+"... "+n.toLocaleString(),o=d.getTextWidth(a,F,"sans-serif");var c=W.select(".title-group").append("text").text(null).attr("y",10);tt=l?tt+"...":tt;var h=c.append("tspan").text(tt).attr("font-size",F);c.append("tspan").text(n.toLocaleString()).classed("count",!0).attr("dx",5).attr("font-size",F).attr("font-weight",600);var f=h.node().getBoundingClientRect().width+10;st&&i&&(f+=40);var p=e-f-5;c.attr("x",p)}if(nt){var g=nt.toLocaleString(),m=et+" "+g,y=d.getTextWidth(m,F,"Karla, sans-serif"),x=st&&i?10:0,w=i?5:0,M=W.select(".title-group").append("text").text(null).attr("x",_-y-x-10-w-5).attr("y",10);M.append("tspan").text(et).attr("font-size",F),M.append("tspan").text(g).classed("count",!0).attr("dx",5).attr("font-size",F).attr("font-weight",600);var k=v>600?_-M.node().getBoundingClientRect().width-10-x:_-M.node().getBoundingClientRect().width-10;M.attr("x",k)}rt&&v>600&&W.select(".title-group").append("text").text("Change in past "+rt).attr("font-size",F).attr("x",_+5).attr("y",10)}(),function(){var e=void 0;$?(Tt(e=W.select(".chart-group").selectAll(".row").data(w)),b&&b[0]&&b[0].parentCount&&W.select(".chart-group").append("line").classed("focus-separator",!0).attr("y1",-10).attr("x1",A(b[0].parentCount)).attr("y2",M+t.top+t.bottom).attr("x2",A(b[0].parentCount)).style("stroke","#e7e8e9").style("stroke-width",1),W.select(".chart-group").append("line").classed("pct-separator",!0).attr("y1",-10).attr("x1",_).attr("y2",M).attr("x2",_).style("stroke","#000").style("stroke-width",1),function(t){t.attr("x",0).attr("y",(function(t,e){return k(t.name)-yt*t.width/2})).attr("height",(function(t){return yt*t.width})).attr("fill",(function(t){return C(t.name)})).attr("width",0).transition().duration(800).ease(Q).attr("width",(function(t){var e=t.value;return A(e)}))}(e=W.select(".chart-group").selectAll(".row rect.pct").data(b))):Tt(e=W.select(".chart-group").selectAll("rect").data(b));e.exit().transition().style("opacity",0).remove()}(),function(){var e=t.left;W.select(".x-axis-group.axis").attr("transform","translate(0, "+M+")").call(q),W.select(".y-axis-group.axis").call(Y),st||(W.selectAll(".y-axis-group.axis .tick").call(At),e=t.left-X-30);W.selectAll(".y-axis-group.axis .tick text").classed("child",(function(t){return b.find((function(e){return e.name===t})).parent})).classed("print-mode",st).on("mouseover",Et).on("mouseout",Ct).call(Mt,e).selectAll("tspan").attr("font-size",_t),W.selectAll(".y-axis-group.axis .tick text").classed("hidden",(function(t){return b.find((function(e){return e.name===t})).splitterText})),st||W.selectAll(".y-axis-group.axis .tick").classed("expandable",(function(t){return function(t,e){return t.find((function(t){return t.name===e})).hasChildren}(b,t)})).call(kt)}(),function(){var t=W.selectAll(".row-wrapper"),e=Number(t.size())-1,n=W.select(".row_"+e).select(".bg-hover");if(n._groups[0]&&n._groups[0][0]){var r=Number(n.attr("y"))+Number(n.attr("height"))+40;W.select("line.pct-separator").attr("y2",r),W.select(".export-wrapper").attr("height",r),W.attr("height",r)}}()}))}function mt(t){return+t.width}function vt(t,e,n){return function(r){return e(t[r])*n}}var yt=void 0,xt=void 0;function bt(t){return[].concat(a(new Set(t.filter((function(t){return t.parent&&!1===t.isParent})).map((function(t){return t.parent})))))}function wt(t){return b.find((function(e){return(e.name===t.name||e.name===t)&&e.isParent}))}function _t(t){return wt(t)?j+"px":F+"px"}function Mt(t,e){if(at){var n=G>1?.8:1.2;d.wrapTextWithEllipses(t,e,0,G,n)}}function At(e){e.each((function(){var n=(e=f.select(this)).node().getBBox().height/2,r=e.append("svg").attr("class",(function(t){var e;return(e=t,b.find((function(t){return t.name===e}))).splitterText?"hidden":"visibility visibility-"+St(t)})).attr("x",30-t.left).attr("y",-n).attr("width","300").attr("height","300").attr("viewBox","0 0 600 600").attr("fill","none").attr("opacity",0);r.append("rect").attr("x",-10).attr("y",-10).attr("height","50").attr("width","50").attr("fill","#d6e8fa").on("mouseover",Et).on("mouseout",Ct),r.append("path").attr("d","M 10,10 L 30,30 M 30,10 L 10,30").attr("stroke","#0072ce").attr("stroke-width","2")}))}function kt(t){t.each((function(){f.select(this).selectAll("polygon").remove(),(t=f.select(this)).append("polygon").attr("transform",(function(t){return b.find((function(e){return e.parent===t}))?"translate("+(X-5)+", 2.5) rotate(180)":"translate("+(X-15)+", -2.5)"})).attr("points",(function(t){return"0,0 10,0 5,5"})).style("fill",(function(t){return"#0072ce"})).style("fill-opacity",(function(t){return b.find((function(e){return e.name===t&&e.hasChildren}))?1:0}))}))}function Tt(e){var n=e.enter().append("g").attr("class",(function(t,e){return"row_"+e+" row-wrapper"})),r=n.filter((function(t){return t.splitterText}));n.append("rect").attr("class","bg").on("click",(function(t){Ot(this,t,_,M)})).attr("x",0).attr("y",(function(t,e){return k(t.name)-yt*t.width/2})).attr("height",(function(t){return yt*t.width})).attr("width",_).attr("fill",(function(t){return t.splitterText?"#fff":Z})),n.append("rect").attr("class","bg-hover").attr("x",-t.left).attr("y",(function(t,e){return k(t.name)-yt*t.width/2})).attr("width",v).attr("height",(function(t){return yt*t.width})).on("mouseover",Et).on("mouseout",Ct).attr("fill-opacity",0).attr("fill",(function(t){return t.splitterText?"#fff":"#d6e8fa"})),n.append("rect").attr("class","focus-bar").attr("x",0).attr("y",(function(t,e){return k(t.name)-yt*t.width/2})).attr("height",(function(t){return yt*t.width})).attr("width",(function(t){var e=t.parentCount;return e?A(e):0})).attr("fill","#e7e8e9").attr("fill-opacity",(function(t){return t.parent?.5:1})),n.append("rect").attr("class","pct").on("mouseover",(function(t,e,n){!function(t,e,n,r,i){if(e.splitterText)return;lt.call("customMouseOver",t,e,f.mouse(t),[r,i]),Et(e),a=f.select(t),a.attr("fill",(function(t){var e=t.name;return e?s.color(C(e)).darker():""}));var a}(this,t,0,_,M)})).on("mousemove",(function(t){!function(t,e,n,r){if(e.splitterText)return;lt.call("customMouseMove",t,e,f.mouse(t),[n,r])}(this,t,_,M)})).on("mouseout",(function(t,e,n){!function(t,e,n,r,i){if(e.splitterText)return;lt.call("customMouseOut",t,e,f.mouse(t),[r,i]),Ct(e),n.forEach((function(t){f.select(t).attr("fill",(function(t){var e=t.name;return e?C(e):""}))}))}(this,t,n,_,M)})).on("click",(function(t){Ot(this,t,_,M)})).attr("x",0).attr("y",(function(t,e){return k(t.name)-yt*t.width/2})).attr("height",(function(t){return yt*t.width})).attr("width",(function(t){var e=t.value;return A(e)})).attr("fill",(function(t){return C(t.name)})).attr("fill-opacity",(function(t){return t.parent?.5:1}));var i=f.select(".chart-group .bg");if(D&&i.node()){var a=i.node().getBBox().x||i.node().getBoundingClientRect().width;n.append("text").attr("class","percentage-label").classed("child",(function(t){return!wt(t)})).attr("x",dt).attr("y",pt).text((function(t){return function(t,e){var n=t.isNotFilter,r=t.pctOfSet,i=t.parent,a=t.value,o=t.isParent;if(!t.splitterText){var u="";if(n)return"";r&&!i&&v>600&&(u="  | "+r+"%"),1===Number(a)&&(L=L.replace(/s$/,""));var s=c.format(I)(a)+" "+L+u,l=o?j:F,h=d.getTextWidth(s,l,"sans-serif")+10,f=A(a);return h>f&&h>e-f?c.format(I)(a):s}}(t,a)})).attr("font-size",_t).attr("fill",(function(t,e){var r=A(t.value),i=n.selectAll("text")._groups[e][0].getComputedTextLength()+10;return a>0&&a-r<i?"#FFF":"#000"})).attr("transform",(function(t,e){var r=t.parentCount?A(t.parentCount):A(t.value),i=n.selectAll("text")._groups[e][0].getComputedTextLength()+10;if(a>0&&a-r<i)return"translate(-"+i+", 0)"})).on("mouseover",Et).on("mouseout",Ct);var o=r.append("g").attr("class","view-more-group");o.append("rect").attr("class","view-more-background").attr("x",-t.left).attr("y",(function(t){return k(t.name)-yt*t.width/2})).attr("height",(function(t){return yt*t.width})).on("mouseover",Et).on("mouseout",Ct).attr("width",_+t.left).attr("fill","none"),o.append("text").attr("class","view-more-label").attr("x",_-10).attr("y",pt).text((function(t){return t.splitterText})).attr("font-size",_t)}if(B&&D&&v>600){var u=n.append("g").attr("transform","translate("+(_+10)+", 0)").attr("class","change-label-group");u.append("text").attr("y",pt).attr("font-size",_t).attr("font-weight","600").style("fill",(function(t){return 0===t.pctChange||isNaN(t.pctChange)?"#919395":t.pctChange>0?J:K})).text(ft),u.append("polygon").attr("transform",(function(t){var e=pt(t);return wt(t)?t.pctChange<0?"translate(65, "+(e+5)+") rotate(180) scale(1.5)":"translate(50, "+(e-15)+") scale(1.5)":t.pctChange<0?"translate(50, "+(e+5)+") rotate(180)":"translate(40, "+(e-10)+")"})).attr("points",(function(t){return"2,8 2,13 8,13 8,8 10,8 5,0 0,8"})).style("fill",(function(t){return t.pctChange>0?J:K})).attr("class",(function(t){return t.pctChange<0?"down":"up"})).attr("fill-opacity",(function(t){var e=t.pctChange;return isNaN(e)||0===e?0:1}))}}function Et(t,e){if(!t.splitterText){var r=e;"string"!=typeof t.name&&"string"!=typeof t||(r=t.name?St(t.name):St(t)),f.select(n).select(".tick svg.visibility-"+r).attr("opacity",1),f.select(n).select("g.row_"+r+" .bg-hover").attr("fill-opacity",1)}}function Ct(t,e){if(!t.splitterText){var r=e;"string"!=typeof t.name&&"string"!=typeof t||(r=t.name?St(t.name):St(t)),f.select(n).select(".tick svg.visibility-"+r).attr("opacity",0),f.select(n).select("g.row_"+r+" .bg-hover").attr("fill-opacity",0)}}function St(t){return b.findIndex((function(e){return e.name===t}))}function Ot(t,e,n,r){lt.call("customClick",t,e,f.mouse(t),[n,r])}return gt.backgroundColor=function(t){return arguments.length?(Z=t,this):Z},gt.upArrowColor=function(t){return arguments.length?(J=t,this):J},gt.downArrowColor=function(t){return arguments.length?(K=t,this):K},gt.colorSchema=function(t){return arguments.length?(T=t,this):T},gt.enableLabels=function(t){return arguments.length?(D=t,this):D},gt.enableYAxisRight=function(t){return arguments.length?(B=t,this):B},gt.exportChart=function(t,e){p.call(gt,W,t,e)},gt.height=function(t){return arguments.length?(y=t,this):y},gt.isAnimated=function(t){return arguments.length?($=t,this):$},gt.labelsMargin=function(t){return arguments.length?(R=t,this):R},gt.labelsNumberFormat=function(t){return arguments.length?(I=t,this):I},gt.labelsSuffix=function(t){return arguments.length?(L=t,this):L},gt.labelsSize=function(t){return arguments.length?(j=t,this):j},gt.labelsSizeChild=function(t){return arguments.length?(F=t,this):F},gt.pctChangeLabelSize=function(t){return arguments.length?(V=t,this):V},gt.loadingState=function(t){return arguments.length?(x=t,this):x},gt.margin=function(e){return arguments.length?(t=i({},t,e),this):t},gt.nameLabel=function(t){return arguments.length?(ot=t,this):ot},gt.numberFormat=function(t){return arguments.length?(P=t,this):P},gt.on=function(){var t=lt.on.apply(lt,arguments);return t===lt?gt:t},gt.percentageAxisToMaxRatio=function(t){return arguments.length?(N=t,this):N},gt.isPrintMode=function(t){return arguments.length?(st=t,this):st},gt.outerPadding=function(t){return arguments.length?(H=t,this):H},gt.padding=function(t){return arguments.length?(z=t,this):z},gt.paddingBetweenGroups=function(t){return arguments.length?(U=t,this):U},gt.pctChangeLabel=function(t){return arguments.length?(ut=t,this):ut},gt.yAxisLineWrapLimit=function(t){return arguments.length?(G=t,this):G},gt.labelsFocusTitle=function(t){return arguments.length?(tt=t,this):tt},gt.labelsTotalCount=function(t){return arguments.length?(nt=t,this):nt},gt.labelsTotalText=function(t){return arguments.length?(et=t,this):et},gt.labelsInterval=function(t){return arguments.length?(rt=t,this):rt},gt.valueLabel=function(t){return arguments.length?(it=t,this):it},gt.width=function(t){return arguments.length?(v=t,this):v},gt.xTicks=function(t){return arguments.length?(O=t,this):O},gt.yAxisPaddingBetweenChart=function(t){return arguments.length?(X=t,this):X},gt.yTicks=function(t){return arguments.length?(S=t,this):S},gt.wrapLabels=function(t){return arguments.length?(at=t,this):at},gt}}.call(e,n,e,t))||(t.exports=r)},function(e,n){e.exports=t},function(t,e,n){"use strict";var r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};void 0===(r=function(t){var e=n(11),r=n(9),o=n(2),u=(n(8),n(28)),s=n(35).axisTimeCombinations,l=n(24),c=l.formatIntegerValue,h=l.formatDecimalValue,f=l.isInteger,d=n(26).getTextWidth;return function(){var t=2,n=2,l=2,p=2,g="Tooltip title",m=!0,v=void 0,y={y:-55,x:0},x=void 0,b=void 0,w=void 0,_=void 0,M=48,A=0,k=37,T=void 0,E=void 0,C=e.easeQuadInOut,S=void 0,O="date",N="value",P="name",D="topics",B=s.DAY_MONTH,R=null,I=null,L=[],j=null,F=null,V=u.timeFormat("%b %d, %Y"),z=u.timeFormat("%b %d, %I %p"),U=void 0,H=void 0;function q(e){e.each((function(e){250-p-n,45-t-l,e,function(e){H||((H=o.select(e).append("g").classed("britechart britechart-tooltip",!0).style("visibility","hidden")).append("g").classed("tooltip-container-group select-disable",!0).attr("transform","translate( "+p+", "+t+")").append("g").classed("tooltip-group",!0),x=H.selectAll(".tooltip-group").append("g").classed("tooltip-text",!0),v=x.append("rect").classed("tooltip-text-container",!0).attr("x",-54.5).attr("y",0).attr("width",250).attr("height",M).attr("rx",3).attr("ry",3).style("fill","#FFFFFF").style("stroke","#D2D6DF").style("stroke-width",1),_=x.append("text").classed("tooltip-title",!0).attr("x",-46.5).attr("dy",".35em").attr("y",16).style("fill","#6D717A"),b=x.append("line").classed("tooltip-divider",!0).attr("x1",-46.5).attr("x2",265).attr("y1",31).attr("y2",31).style("stroke","#D2D6DF"),w=x.append("g").classed("tooltip-body",!0).style("transform","translateY(8px)").style("fill","#282C35"));H.transition().attr("width",250).attr("height",45),q.hide()}(this)}))}function Y(t){var e=t[N];return t.missingValue?"-":function(t){if(null!==F)return F(t);var e=h;return t?(null!==j?e=r.format(j):f(t)&&(e=c),e(t)):0}(e).toString()}function X(t){var e,n,r=t[P],i=void 0,a=void 0;e=t.topicName||r,n=Y(t),a=w.append("text").classed("tooltip-left-text",!0).attr("dy","1em").attr("x",A).attr("y",k).style("fill","#000000").text(e).call($,170,-25),i=w.append("text").classed("tooltip-right-text",!0).attr("dy","1em").attr("x",A).attr("y",k).style("fill","#000000").text(n),T=a.node().getBBox().height?a.node().getBBox().height:T,M+=T+5,E=i.node().getBBox().width?i.node().getBBox().width:E,i.attr("x",250-E-10-62.5),w.append("circle").classed("tooltip-circle",!0).attr("cx",-39.5).attr("cy",k+8).attr("r",5).style("fill",S[r]).style("stroke-width",1),k+=T+7}function G(t,e,n){var r,i,o=(r=a([e,n],2),i=r[0],r[1],[i-250<0?65:-205,y.y]),u=a(o,2),s=u[0],l=u[1];v.attr("width",250).attr("height",M+10),x.transition().duration(100).ease(C).attr("transform","translate("+s+", "+l+")"),b.attr("x2",190)}function W(t){var e=g,n=function(t){var e=R||B,n=null,r={month:"short",day:"numeric"};e===s.DAY_MONTH||e===s.MONTH_YEAR?(n=V,r.year="numeric"):e===s.HOUR_DAY||e===s.MINUTE_HOUR?(n=z,r.hour="numeric"):e===s.CUSTOM&&"string"==typeof I&&(n=u.timeFormat(I));if(U&&"undefined"!=typeof Intl&&"object"===("undefined"==typeof Intl?"undefined":i(Intl))&&Intl.DateTimeFormat){return Intl.DateTimeFormat(U,r).format(t)}return n(t)}(new Date(t[O]));e.length?m&&(e=e+" - "+n):e=n,_.text(e)}function $(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t.each((function(){var r,i,a,u,s,l,c;for(r=(t=o.select(this)).text().split(/\s+/).reverse(),a=[],u=0,1.2,s=t.attr("y"),l=parseFloat(t.attr("dy")),c=t.text(null).append("tspan").attr("x",n).attr("y",s).attr("dy",l+"em");i=r.pop();){a.push(i),c.text(a.join(" ")),d(a.join(" "),16,"Karla, sans-serif")>e&&(a.pop(),c.text(a.join(" ")),u<2&&(a=[i],c=t.append("tspan").attr("x",n).attr("y",s).attr("dy",1.2*++u+l+"em").text(i)))}}))}function Q(t){var e=t[D];L.length?e=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L;return e.map((function(e){return t.filter((function(t){return t.name===e}))[0]}))}(e):e.length&&e[0].name&&(e=function(t){return t.map((function(t){return t})).sort((function(t,e){return t.name>e.name?1:t.name===e.name?0:-1}))}(e)),w.selectAll("text").remove(),w.selectAll("circle").remove(),W(t),M=48,k=37,A=0,e.forEach(X)}function Z(t,e,n){Q(t),G(0,e,n)}return q.axisTimeCombinations=s,q.dateFormat=function(t){return arguments.length?(R=t,this):R||B},q.dateCustomFormat=function(t){return arguments.length?(I=t,this):I},q.dateLabel=function(t){return arguments.length?(O=t,this):O},q.hide=function(){return H.style("visibility","hidden"),this},q.locale=function(t){return arguments.length?(U=t,this):U},q.nameLabel=function(t){return arguments.length?(P=t,this):P},q.numberFormat=function(t){return arguments.length?(j=t,this):j},q.valueFormatter=function(t){return arguments.length?(F=t,this):F},q.shouldShowDateInTitle=function(t){return arguments.length?(m=t,this):m},q.show=function(){return H.style("visibility","visible"),this},q.title=function(t){return arguments.length?(g=t,this):g},q.tooltipOffset=function(t){return arguments.length?(y=t,this):y},q.topicsOrder=function(t){return arguments.length?(L=t,this):L},q.topicLabel=function(t){return arguments.length?(D=t,this):D},q.update=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return S=e,Z(t,n,r),this},q.valueLabel=function(t){return arguments.length?(N=t,this):N},q}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";var r,i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};void 0===(r=function(t){var e=n(0),r=n(11),a=n(9),o=n(2);n(8);return function(){var t=12,n=12,u=12,s=12,l="",c="value",h="name",f=r.easeQuadInOut,d=void 0,p=void 0,g=0,m=20,v=".2f",y=function(t){return a.format(v)(t)},x=void 0,b=void 0,w=void 0;function _(e){e.each((function(){x=100-s-n,b=100-t-u,function(e){w||(w=o.select(e).append("g").classed("britechart britechart-mini-tooltip",!0)).append("g").classed("tooltip-container-group",!0).attr("transform","translate( "+s+", "+t+")").append("g").classed("tooltip-group",!0);w.transition().attr("width",100).attr("height",100),_.hide()}(this),p=w.selectAll(".tooltip-group").append("g").classed("tooltip-text select-disable",!0),d=p.append("rect").classed("tooltip-background",!0).attr("width",100).attr("height",100).attr("rx",1).attr("ry",1).attr("y",-t).attr("x",-s).style("fill","#43484e").style("stroke","#43484e").style("stroke-width",1).style("pointer-events","none").style("opacity",.9)}))}function M(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter((function(t){return!!t})).map((function(t){return t.node().getBBox().width}));return e.max(i)}function A(e,r){var a=i(e,2),o=a[0],l=a[1],c=i(r,2),h=c[0],f=c[1];return[function(t,e){return t-s-n-x-e>0}(h,o)?o+m:o-x-m-n,function(e,n){return e-t-u-b-n>0}(f,l)?l+g:l-b-g-u]}function k(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t[c]||"",n=t[h]||"",r=21,i=22*1.18,a="1em",o=0,u=void 0,s=void 0,f=void 0;p.selectAll("text").remove(),l&&(f=p.append("text").classed("mini-tooltip-title",!0).attr("dy",a).attr("y",0).style("fill","#43484e").style("font-size",14).text(l),o=r+o),n&&(s=p.append("text").classed("mini-tooltip-name",!0).attr("dy",a).attr("y",o||0).style("fill","#ffffff").style("font-size",14).text(n),o=r+o),e&&(u=p.append("text").classed("mini-tooltip-value",!0).attr("dy",a).attr("y",o||0).style("fill","#ffffff").style("font-size",22).style("font-weight",200).text(y(e)),o=i+o),x=M(s,f,u),b=o}function T(e,r,a){var o,l,c,h;k(e),o=A(r,a),l=i(o,2),c=l[0],h=l[1],w.transition().duration(100).ease(f).attr("height",b+t+u).attr("width",x+s+n).attr("transform","translate("+c+","+h+")"),d.attr("height",b+t+u).attr("width",x+s+n)}return _.hide=function(){return w.style("visibility","hidden"),this},_.nameLabel=function(t){return arguments.length?(h=t,this):h},_.numberFormat=function(t){return arguments.length?(v=t,this):v},_.valueFormatter=function(t){return arguments.length?(y=t,this):y},_.show=function(){var t;return k(t),w.style("visibility","visible"),this},_.title=function(t){return arguments.length?(l=t,this):l},_.update=function(t,e,n){return T(t,e,n),this},_.valueLabel=function(t){return arguments.length?(c=t,this):c},_}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};void 0===(r=function(t){var e=n(0),r=n(11),a=n(12),o=n(27),u=n(2),s=(n(8),n(17).exportChart),l=n(10),c=n(18).stackedArea,h=n(24).uniqueId,f={"font-size":"22px","font-family":"sans-serif","font-style":"normal","font-weight":0};return function(){var t={left:5,right:5,top:5,bottom:5},n=100,d=30,p=c,g=void 0,m=void 0,v=["#F5FDFF","#F6FEFC"],y=void 0,x=h("sparkline-area-gradient"),b=l.colorGradients.greenBlue,w=void 0,_=h("sparkline-line-gradient"),M=void 0,A=h("maskingClip"),k=void 0,T=void 0,E=void 0,C=void 0,S=!1,O=3e3,N=r.easeQuadInOut,P=void 0,D=void 0,B=void 0,R=void 0,I=void 0,L=f,j="value",F="date",V=function(t){return t.date},z=function(t){return t.value};function U(r){r.each((function(r){T=n-t.left-t.right,E=d-t.top-t.bottom,C=r.reduce((function(t,e){return e.date=new Date(e[F]),e.value=+e[j],[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t),[e])}),[]),g=a.scaleLinear().domain(e.extent(C,V)).range([0,T]),m=a.scaleLinear().domain(e.extent(C,z)).range([E,0]),function(e){k||(k=u.select(e).append("svg").classed("britechart sparkline",!0),function(){var e=k.append("g").classed("container-group",!0).attr("transform","translate("+t.left+","+t.top+")");e.append("g").classed("text-group",!0),e.append("g").classed("chart-group",!0),e.append("g").classed("metadata-group",!0)}());k.attr("width",n).attr("height",d)}(this),function(){var t=k.select(".metadata-group");(y||w)&&(k.selectAll("#"+x).remove(),k.selectAll("#"+_).remove());y=t.append("linearGradient").attr("id",x).attr("class","area-gradient").attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("x2",g(C[C.length-1].date)).attr("y1",0).attr("y2",0).selectAll("stop").data([{offset:"0%",color:v[0]},{offset:"100%",color:v[1]}]).enter().append("stop").attr("offset",(function(t){return t.offset})).attr("stop-color",(function(t){return t.color})),w=t.append("linearGradient").attr("id",_).attr("class","line-gradient").attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("x2",g(C[C.length-1].date)).attr("y1",0).attr("y2",0).selectAll("stop").data([{offset:"0%",color:b[0]},{offset:"100%",color:b[1]}]).enter().append("stop").attr("offset",(function(t){return t.offset})).attr("stop-color",(function(t){return t.color}))}(),function(){M&&k.selectAll("#"+A).remove();S&&(M=k.select(".metadata-group").append("clipPath").attr("id",A).attr("class","clip-path").append("rect").attr("width",0).attr("height",d),u.select("#"+A+" rect").transition().ease(N).duration(O).attr("width",n))}(),function(){D&&k.selectAll(".sparkline-area").remove();D=o.area().x((function(t){var e=t.date;return g(e)})).y0((function(){return m(0)+1})).y1((function(t){var e=t.value;return m(e)})).curve(o.curveBasis),k.select(".chart-group").append("path").datum(C).attr("class","sparkline-area").attr("fill","url(#"+x+")").attr("d",D).attr("clip-path","url(#"+A+")")}(),function(){P&&k.selectAll(".line").remove();P=o.line().curve(o.curveBasis).x((function(t){var e=t.date;return g(e)})).y((function(t){var e=t.value;return m(e)})),k.select(".chart-group").append("path").datum(C).attr("class","line").attr("stroke","url(#"+_+")").attr("d",P).attr("clip-path","url(#"+A+")")}(),function(){B&&k.selectAll(".sparkline-circle").remove();B=k.selectAll(".chart-group").append("circle").attr("class","sparkline-circle").attr("cx",g(C[C.length-1].date)).attr("cy",m(C[C.length-1].value)).attr("r",1.5)}(),I&&function(){R&&k.selectAll(".sparkline-text").remove();R=k.selectAll(".text-group").append("text").attr("x",T/2).attr("y",E/6).attr("text-anchor","middle").attr("class","sparkline-text").style("font-size",L["font-size"]||f["font-size"]).style("fill",L.fill||b[0]).style("font-family",L["font-family"]||f["font-family"]).style("font-weight",L["font-weight"]||f["font-weight"]).style("font-style",L["font-style"]||f["font-style"]).text(I)}()}))}return U.areaGradient=function(t){return arguments.length?(v=t,this):v},U.dateLabel=function(t){return arguments.length?(F=t,this):F},U.duration=function(t){return arguments.length?(O=t,this):O},U.exportChart=function(t,e){s.call(U,k,t,e)},U.height=function(t){return arguments.length?(d=t,this):d},U.isAnimated=function(t){return arguments.length?(S=t,this):S},U.lineGradient=function(t){return arguments.length?(b=t,this):b},U.loadingState=function(t){return arguments.length?(p=t,this):p},U.margin=function(e){return arguments.length?(t=i({},t,e),this):t},U.titleText=function(t){return arguments.length?(I=t,this):I},U.titleTextStyle=function(t){return arguments.length?(L=t,this):L},U.valueLabel=function(t){return arguments.length?(j=t,this):j},U.width=function(t){return arguments.length?(n=t,this):n},U}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}void 0===(r=function(t){var e=n(0),r=n(19),s=n(25),l=n(13),c=n(11),h=n(12),f=n(27),d=n(2),p=(n(8),n(28)),g=n(57),m=n(26),v=n(17).exportChart,y=n(10),x=n(75).getTimeSeriesAxis,b=n(35),w=b.axisTimeCombinations,_=b.curveMap,M=n(24),A=M.formatIntegerValue,k=M.formatDecimalValue,T=M.isInteger,E=n(76),C=E.createFilterContainer,S=E.createGlowWithMatrix,O=E.bounceCircleHighlight,N=n(87),P=N.addDays,D=N.diffDays,B=n(18).stackedArea,R=function(t){return t.filter((function(t,e,n){return n.indexOf(t)===e}))};return function(){var t={top:70,right:30,bottom:60,left:70},n=960,b=500,M=B,E=void 0,N=void 0,I=void 0,L=void 0,j=void 0,F=null,V=5,z=void 0,U=void 0,H=-60,q=y.colorSchemas.britecharts,Y=y.colorGradients.greenBlue,X=null,G=null,W=.24,$=void 0,Q=void 0,Z=void 0,K=null,J=null,tt=null,et=void 0,nt="monotoneX",rt=void 0,it=void 0,at=void 0,ot=void 0,ut=void 0,st=e.range(20,240,20),lt=void 0,ct=void 0,ht=void 0,ft=void 0,dt=!1,pt=!1,gt=!1,mt=c.easeQuadInOut,vt=!0,yt=void 0,xt=void 0,bt=void 0,wt=void 0,_t=void 0,Mt=void 0,At=void 0,kt=null,Tt=480,Et=15,Ct="date",St="value",Ot="name",Nt={minDate:new Date((new Date).setDate((new Date).getDate()-30)),maxDate:new Date,maxY:500},Pt=!1,Dt=void 0,Bt=void 0,Rt=void 0,It=void 0,Lt=37,jt=void 0,Ft=function(t){return t.name},Vt=function(t){return t.date},zt=l.dispatch("customMouseOver","customMouseOut","customMouseMove","customDataEntryClick","customTouchMove");function Ut(i){i.each((function(i){var l,c,m,v,y,w=gt?300:0;xt=n-t.left-t.right-w,bt=b-t.top-t.bottom,wt=(m=0===(m=i).length?(l=D(Nt.minDate,Nt.maxDate),c=Array.apply(null,Array(l)),Pt=!0,[].concat(o(c.map((function(t,e){var n;return u(n={},Ct,P(Nt.minDate,e)),u(n,St,0),u(n,Ot,"1"),n}))),o(c.map((function(t,e){var n;return u(n={},Ct,P(Nt.minDate,e)),u(n,St,0),u(n,Ot,"2"),n}))))):m).reduce((function(t,e){return e.date=new Date(e[Ct]),e.value=+e[St],[].concat(o(t),[e])}),[]),_t=function(t){return s.nest().key(Vt).entries(t.sort((function(t,e){return t.date-e.date}))).map((function(t){return g({},t,{date:new Date(t.key)})}))}(wt),function(){Mt=_t.map((function(t){return g({},t,t.values)})).map((function(t){return Object.keys(t).forEach((function(e){var n=t[e];n&&n.name&&(t[n.name]=n.value)})),g({},t,{date:new Date(t.key)})})),At=_t.map((function(t){return g({},t,t.values)})).map((function(t){return Object.keys(t).forEach((function(e){var n=t[e];n&&n.name&&(t[n.name]=0)})),g({},t,{date:new Date(t.key)})}));var t=R(wt.map(Ft)).reduce((function(t,e){return g({},t,u({},e,0))}),{}),e=wt.reduce((function(t,e){return g({},t,u({},e.name,t[e.name]+=e.value))}),t);Q=Z||function(t){var e=Object.keys(t).sort((function(e,n){return t[e]>t[n]?-1:t[e]===t[n]?0:1})),n=e.indexOf("Other");if(n>=0){var r=e.splice(n,1);e=e.concat(r)}return e}(e);var n=f.stack().keys(Q).order(f.stackOrderNone).offset(f.stackOffsetNone);at=n(At),rt=n(Mt)}(),v=Pt?Nt.maxY:(y=R(wt.map((function(t){return t.name}))),e.max(Mt,(function(t){var n=y.map((function(e){return t[e]}));return e.sum(n)}))),E=h.scaleTime().domain(e.extent(_t,(function(t){return t.date}))).rangeRound([0,xt]),L=h.scaleLinear().domain([0,v]).rangeRound([bt,0]).nice(),$=Q.reduce((function(t,e,n){return g({},t,u({},e,q[n]))}),{}),function(e){yt||((yt=d.select(e).append("svg").classed("britechart stacked-area",!0)).append("rect").classed("export-wrapper",!0).attr("width",n).attr("height",b).attr("fill","white"),function(){var e=yt.append("g").classed("container-group",!0).attr("transform","translate("+t.left+","+t.top+")");e.append("g").classed("x-axis-group",!0).append("g").classed("x axis",!0),e.selectAll(".x-axis-group").append("g").classed("month-axis",!0),e.append("g").classed("y-axis-group axis",!0),e.append("g").classed("grid-lines-group",!0),e.append("g").classed("y-axis-label",!0),e.append("g").classed("chart-group",!0),gt&&e.append("g").classed("legend-group",!0);e.append("g").classed("metadata-group",!0)}());yt.attr("width",n).attr("height",b)}(this),function(){var e=void 0,i=void 0;if("custom"===K&&"string"==typeof tt)e={tick:J,format:p.timeFormat(tt)},i=null;else{var a=x(_t,n,K,et);e=a.minor,i=a.major,I=r.axisBottom(E).ticks(i.tick).tickSize(0,0).tickFormat(i.format)}N=r.axisBottom(E).ticks(e.tick).tickSize(10,0).tickPadding(5).tickFormat(e.format),j=r.axisRight(L).ticks(V).tickSize([0]).tickPadding(5).tickFormat(qt),function(e,n){yt.select(".grid-lines-group").selectAll("line").remove(),("horizontal"===kt||"full"===kt)&&yt.select(".grid-lines-group").selectAll("line.horizontal-grid-line").data(L.ticks(n)).enter().append("line").attr("class","horizontal-grid-line").attr("x1",-Et-30).attr("x2",xt).attr("y1",(function(t){return L(t)})).attr("y2",(function(t){return L(t)}));"vertical"!==kt&&"full"!==kt||yt.select(".grid-lines-group").selectAll("line.vertical-grid-line").data(E.ticks(e)).enter().append("line").attr("class","vertical-grid-line").attr("y1",0).attr("y2",bt).attr("x1",(function(t){return E(t)})).attr("x2",(function(t){return E(t)}));yt.select(".grid-lines-group").selectAll("line.extended-x-line").data([0]).enter().append("line").attr("class","extended-x-line").attr("x1",-Et-30).attr("x2",xt).attr("y1",b-t.bottom-t.top).attr("y2",b-t.bottom-t.top)}(e.tick,V)}(),function(){yt.select(".x-axis-group .axis.x").attr("transform","translate( 0, "+bt+" )").call(N),"custom"!==K&&yt.select(".x-axis-group .month-axis").attr("transform","translate(0, "+(bt+30)+")").call(I);yt.select(".y-axis-group.axis").attr("transform","translate( "+-Et+", 0)").call(j).call(Yt),z&&(U&&yt.selectAll(".y-axis-label-text").remove(),U=yt.select(".y-axis-label").append("text").classed("y-axis-label-text",!0).attr("x",-bt/2).attr("y",H).attr("text-anchor","middle").attr("transform","rotate(270 0 0)").text(z))}(),function(){it&&(yt.selectAll(".layer-container").remove(),yt.selectAll(".layer").remove(),yt.selectAll(".area-outline").remove());if(Pt)return t=f.line().x((function(t){return E(t.date)})).y((function(){return L(0)-1})),(e=yt.select(".chart-group")).append("path").attr("class","empty-data-line").attr("d",t(Mt)).style("stroke","url(#empty-data-line-gradient)"),void e.append("linearGradient").attr("id","empty-data-line-gradient").attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("x2",E(wt[wt.length-1].date)).attr("y1",0).attr("y2",0).selectAll("stop").data([{offset:"0%",color:Y[0]},{offset:"100%",color:Y[1]}]).enter().append("stop").attr("offset",(function(t){return t.offset})).attr("stop-color",(function(t){return t.color}));var t,e;ot=f.area().curve(_[nt]).x((function(t){var e=t.data;return E(e.date)})).y0((function(t){return L(t[0])})).y1((function(t){return L(t[1])})),ut=f.line().curve(ot.curve()).x((function(t){var e=t.data;return E(e.date)})).y((function(t){return L(t[1])})),pt?((it=yt.select(".chart-group").selectAll(".layer").data(at,Ft).enter().append("g").classed("layer-container",!0)).append("path").attr("class","layer").attr("d",ot).style("opacity",W).style("fill",(function(t){var e=t.key;return $[e]})),it.append("path").attr("class","area-outline").attr("d",ut).style("stroke",(function(t){var e=t.key;return $[e]})),yt.select(".chart-group").selectAll(".layer").data(rt).transition().delay((function(t,e){return st[e]})).duration(1e3).ease(mt).attr("d",ot).style("opacity",W).style("fill",(function(t){var e=t.key;return $[e]})),yt.select(".chart-group").selectAll(".area-outline").data(rt).transition().delay((function(t,e){return st[e]})).duration(1e3).ease(mt).attr("d",ut)):((it=yt.select(".chart-group").selectAll(".layer").data(rt).enter().append("g").classed("layer-container",!0)).append("path").attr("class","layer").attr("d",ot).style("opacity",W).style("fill",(function(t){var e=t.key;return $[e]})),it.append("path").attr("class","area-outline").attr("d",ut).style("stroke",(function(t){var e=t.key;return $[e]})),yt.select(".chart-group").selectAll(".layer").attr("d",ot).style("opacity",W).style("fill",(function(t){var e=t.key;return $[e]})),yt.select(".chart-group").selectAll(".area-outline").attr("class","area-outline").attr("d",ut).style("stroke",(function(t){var e=t.key;return $[e]})));vt||yt.select(".chart-group").selectAll(".area-outline").style("display","none");it.exit().transition().style("opacity",0).remove()}(),function(){if(!gt)return;var e=Number.parseInt(xt)+Number.parseInt(t.right);Bt=yt.selectAll(".legend-group").append("g").attr("transform","translate("+e+", 0)").classed("tooltip-text",!0),It=Bt.append("text").classed("tooltip-title",!0).attr("x",-43).attr("dy",".35em").attr("y",16).style("fill","#282C35").style("font-size","12px"),Bt.append("line").classed("tooltip-divider",!0).attr("x1",-43).attr("x2",225).attr("y1",31).attr("y2",31).style("stroke","#D2D6DF"),Rt=Bt.append("g").classed("tooltip-body",!0).style("transform","translateY(8px)").style("fill","#282C35");for(var n=[].concat(o(new Set(wt.map((function(t){return t.name}))))),r=[],i=function(t){var e={},i=n[t];e.name=i,e.sum=wt.filter((function(e){return e.name===n[t]})).reduce((function(t,e){return t+e.value}),0),r.push(e)},a=0;a<n.length;a++)i(a);var u=_t[0],s=_t.length-1,l=_t[s];!function(t,e){var n=Xt(t.date)+" - "+Xt(e.date);It.text(n)}(u,l);var c=r.reduce((function(t,e){return t+e.sum}),0);r.forEach(Gt),function(t){var e,n=void 0,r=void 0;"Total",e=t.toLocaleString(),Rt.append("line").classed("tooltip-divider",!0).attr("x1",-43).attr("x2",225).attr("y1",Lt).attr("y2",Lt).style("stroke","#D2D6DF"),r=Rt.append("text").classed("tooltip-left-text",!0).attr("dy","1em").attr("dx",-15).attr("y",Lt+5).style("fill","#000000").style("font-size","14px").style("font-weight","800").text("Total").call(Wt,200,14,-25),n=Rt.append("text").classed("tooltip-right-text",!0).attr("dy","1em").attr("x",-15).attr("y",Lt+5).style("fill","#000000").style("font-size","14px").style("font-weight","800").text(e),jt=r.node().getBBox().height?r.node().getBBox().height:jt,jt+5,Dt=n.node().getBBox().width?n.node().getBBox().width:Dt,n.attr("x",300-Dt-75),Lt+=jt+7}(c)}(),Ht(),Ht(),n>Tt&&!Pt&&(!function(){lt&&yt.selectAll(".overlay").remove();lt=yt.select(".metadata-group").append("rect").attr("class","overlay").attr("y1",0).attr("y2",bt).attr("height",bt).attr("width",xt).attr("fill","rgba(0, 0, 0, 0)").style("display","none")}(),function(){ct&&yt.selectAll(".vertical-marker-container").remove();ct=yt.select(".metadata-group").append("g").attr("class","vertical-marker-container").attr("transform","translate(9999, 0)"),ht=ct.selectAll("path").data([{x1:0,y1:0,x2:0,y2:0}]).enter().append("line").classed("vertical-marker",!0).attr("x1",0).attr("y1",bt).attr("x2",0).attr("y2",0)}(),yt.on("mouseover",(function(t){!function(t,e){lt.style("display","block"),ht.classed("bc-is-active",!0),zt.call("customMouseOver",t,e,d.mouse(t))}(this,t)})).on("mouseout",(function(t){!function(t,e){lt.style("display","none"),ht.classed("bc-is-active",!1),zt.call("customMouseOut",t,e,d.mouse(t))}(this,t)})).on("mousemove",(function(e){!function(e){ft||Qt();var n=d.mouse(e),r=a(n,2),i=r[0],o=r[1],u=$t(i-t.left),s=void 0;u&&(Kt(s=E(new Date(u.key))),Zt(u),zt.call("customMouseMove",e,u,$,s,o))}(this)}))),dt&&function(){ft||Qt();var t=$t(xt);t&&(Kt(E(new Date(t.key))),Zt(t))}()}))}function Ht(){yt.on("touchmove",(function(t){!function(t,e){zt.call("customTouchMove",t,e,d.touch(t))}(this,t)}))}function qt(t){return(T(t)?A:k)(t)}function Yt(t){t.selectAll(".tick text").attr("transform","translate(-20, -8)")}function Xt(t){return new Date(t).toLocaleDateString()}function Gt(t){var e,n,r=void 0,i=void 0;e=t.name,n=t.sum.toLocaleString(),i=Rt.append("text").classed("tooltip-left-text",!0).attr("dy","1em").attr("x",-15).attr("y",Lt).style("fill","#000000").style("font-size","12px").text(e).call(Wt,200,12,-25),r=Rt.append("text").classed("tooltip-right-text",!0).attr("dy","1em").attr("x",-15).attr("y",Lt).style("fill","#000000").style("font-size","12px").text(n),jt=i.node().getBBox().height?i.node().getBBox().height:jt,jt+5,Dt=r.node().getBBox().width?r.node().getBBox().width:Dt,r.attr("x",300-Dt-75),Rt.append("circle").classed("tooltip-circle",!0).attr("cx",-35).attr("cy",Lt+8).attr("r",5).style("fill",$[t.name]).style("stroke-width",1),Lt+=jt+7}function Wt(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;t.each((function(){var i,a,o,u,s,l,c;for(i=(t=d.select(this)).text().split(/\s+/).reverse(),o=[],u=0,1.2,s=t.attr("y"),l=parseFloat(t.attr("dy")),c=t.text(null).append("tspan").attr("x",r).attr("y",s).attr("dy",l+"em");a=i.pop();){o.push(a),c.text(o.join(" ")),m.getTextWidth(o.join(" "),n,"Karla, sans-serif")>e&&(o.pop(),c.text(o.join(" ")),u<4&&(o=[a],c=t.append("tspan").attr("x",r).attr("y",s).attr("dy",1.2*++u+l+"em").text(a)))}}))}function $t(t){var e=_t.filter((function(e){var n=e.date;return Math.abs(E(n)-t)<=ft}));if(e.length)return e[0]}function Qt(){var t=_t.map((function(t){return t.date}));ft=(E(t[1])-E(t[0]))/2}function Zt(t){var e=t.values,n=0;ct.selectAll(".circle-container").remove(),e=e.filter((function(t){return!!t}));var r=Q.reduce((function(t,n){return[].concat(o(t),[e.find((function(t){return t.name===n}))])}),[]);r.forEach((function(t,e){var i=ct.append("g").classed("circle-container",!0).append("circle").classed("data-point-highlighter",!0).attr("cx",12).attr("cy",0).attr("r",5).style("stroke-width",1.2).style("stroke",$[t.name]).style("cursor","pointer").on("click",(function(){!function(t){X||(X=C(yt.select(".metadata-group")),G=S(X));var e=d.select(t);e.style("stroke-width",5).style("stroke-opacity",.6).attr("filter","url(#"+G+")"),O(e,mt,7)}(this),function(t,e){zt.call("customDataEntryClick",t,e,d.mouse(t))}(this,t)})).on("mouseout",(function(){var t;t=this,d.select(t).attr("filter","none")}));n+=r[e][St],i.attr("transform","translate( -12, "+L(n)+" )")}))}function Kt(t){ct.attr("transform","translate("+t+",0)")}return Ut.areaCurve=function(t){return arguments.length?(nt=t,this):nt},Ut.areaOpacity=function(t){return arguments.length?(W=t,this):W},Ut.aspectRatio=function(t){return arguments.length?(F=t,this):F},Ut.axisTimeCombinations=w,Ut.colorSchema=function(t){return arguments.length?(q=t,this):q},Ut.dateLabel=function(t){return arguments.length?(Ct=t,this):Ct},Ut.emptyDataConfig=function(t){return arguments.length?(Nt=t,this):Nt},Ut.grid=function(t){return arguments.length?(kt=t,this):kt},Ut.hasOutline=function(t){return arguments.length?(vt=t,this):vt},Ut.height=function(t){return arguments.length?(F&&(n=Math.ceil(t/F)),b=t,this):b},Ut.initializeVerticalMarker=function(t){return arguments.length?(dt=t,this):dt},Ut.isAnimated=function(t){return arguments.length?(pt=t,this):pt},Ut.isPrintMode=function(t){return arguments.length?(gt=t,this):gt},Ut.keyLabel=function(t){return arguments.length?(Ot=t,this):Ot},Ut.margin=function(e){return arguments.length?(t=i({},t,e),this):t},Ut.tooltipThreshold=function(t){return arguments.length?(Tt=t,this):Tt},Ut.topicsOrder=function(t){return arguments.length?(Z=t,this):Z},Ut.loadingState=function(t){return arguments.length?(M=t,this):M},Ut.locale=function(t){return arguments.length?(et=t,this):et},Ut.exportChart=function(t,e){v.call(Ut,yt,t,e)},Ut.on=function(){var t=zt.on.apply(zt,arguments);return t===zt?Ut:t},Ut.valueLabel=function(t){return arguments.length?(St=t,this):St},Ut.width=function(t){return arguments.length?(F&&(b=Math.ceil(t*F)),n=t,this):n},Ut.xAxisCustomFormat=function(t){return arguments.length?(tt=t,this):tt},Ut.xAxisFormat=function(t){return arguments.length?(K=t,this):K},Ut.xTicks=function(t){return arguments.length?(J=t,this):J},Ut.yAxisLabel=function(t){return arguments.length?(z=t,this):z},Ut.yAxisLabelOffset=function(t){return arguments.length?(H=t,this):H},Ut.yTicks=function(t){return arguments.length?(V=t,this):V},Ut}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};void 0===(r=function(t){var e=n(0),r=n(19),a=(n(25),n(13)),o=n(11),u=n(9),s=n(12),l=n(27),c=n(2),h=(n(8),n(28),n(118)),f=n(17).exportChart,d=n(10),p=n(76),g=p.createFilterContainer,m=p.createGlowWithMatrix,v=p.bounceCircleHighlight,y=n(24);y.formatIntegerValue,y.formatDecimalValue,y.isInteger,y.uniqueId;return function(){var t={top:20,right:10,bottom:20,left:40},n=960,p=500,y=null,x=void 0,b=void 0,w=6,_=null,M=null,A=void 0,k=void 0,T="",E=void 0,C=void 0,S="",O=void 0,N=void 0,P=void 0,D=void 0,B=void 0,R=-40,I=void 0,L=void 0,j=-40,F=void 0,V=l.curveBasis,z=void 0,U=void 0,H=void 0,q=void 0,Y=-45,X=0,G=.24,W=null,$=G,Q=10,Z=d.colorSchemas.britecharts,K=!0,J=!1,tt=!1,et=o.easeCircleIn,nt=!1,rt=void 0,it=void 0,at=void 0,ot=a.dispatch("customClick","customMouseMove","customMouseOver","customMouseOut"),ut=function(t){return t.name},st=function(t){return t.data};function lt(i){i.each((function(i){var a;b=i.reduce((function(t,e){return e.name=String(e.name),e.x=e.x,e.y=e.y,[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t),[e])}),[]),it=n-t.left-t.right,at=p-t.top-t.bottom,function(){var t=[e.min(b,(function(t){return t.x})),e.min(b,(function(t){return t.y}))],n=t[0],r=t[1],i=[e.max(b,(function(t){return t.x})),e.max(b,(function(t){return t.y}))],a=i[0],o=i[1],u=Math.abs(r)<0?Math.abs(r):0;E=s.scaleLinear().domain([n,a]).rangeRound([0,it]).nice(),O=s.scaleLinear().domain([u,o]).rangeRound([at,0]).nice(),P=s.scaleOrdinal().domain(b.map(ut)).range(Z),N=s.scaleSqrt().domain([u,o]).range([0,Q]);var l=P.range();x=P.domain().reduce((function(t,e,n){return t[e]=l[n],t}),{})}(),function(e){rt||(rt=c.select(e).append("svg").classed("britechart scatter-plot",!0),function(){var e=rt.append("g").classed("container-group",!0).attr("transform","translate("+t.left+", "+t.top+")");e.append("g").classed("grid-lines-group",!0),e.append("g").classed("chart-group",!0),e.append("g").classed("x-axis-group",!0).append("g").classed("axis x",!0),e.append("g").classed("y-axis-group",!0).append("g").classed("axis y",!0),e.append("g").classed("axis-labels-group",!0),e.append("g").classed("metadata-group",!0)}());rt.attr("width",n).attr("height",p)}(this),k=r.axisBottom(E).ticks(w).tickPadding(5).tickFormat(u.format(T)),C=r.axisLeft(O).ticks(_).tickPadding(5).tickFormat(u.format(S)),A=h.voronoi().x((function(t){return E(t.x)})).y((function(t){return O(t.y)})).extent([[0,0],[it,at]])(b),rt.select(".x-axis-group .axis.x").attr("transform","translate(0, "+at+")").call(k),rt.select(".y-axis-group .axis.y").call(C),D&&(B&&rt.selectAll(".y-axis-label-text").remove(),B=rt.select(".axis-labels-group").append("g").attr("class","y-axis-label").append("text").classed("y-axis-label-text",!0).attr("x",-at/2).attr("y",R-X).attr("text-anchor","middle").attr("transform","rotate(270 0 0)").text(D)),I&&(L&&rt.selectAll(".x-axis-label-text").remove(),L=rt.selectAll(".axis-labels-group").append("g").attr("class","x-axis-label").append("text").classed("x-axis-label-text",!0).attr("x",it/2).attr("y",at-j).attr("text-anchor","middle").text(I)),function(){rt.select(".grid-lines-group").selectAll("line").remove(),("horizontal"===M||"full"===M)&&rt.select(".grid-lines-group").selectAll("line.horizontal-grid-line").data(O.ticks(_)).enter().append("line").attr("class","horizontal-grid-line").attr("x1",X).attr("x2",it).attr("y1",(function(t){return O(t)})).attr("y2",(function(t){return O(t)}));"vertical"!==M&&"full"!==M||rt.select(".grid-lines-group").selectAll("line.vertical-grid-line").data(E.ticks(w)).enter().append("line").attr("class","vertical-grid-line").attr("y1",X).attr("y2",at).attr("x1",(function(t){return E(t)})).attr("x2",(function(t){return E(t)}));rt.select(".grid-lines-group").selectAll("line.extended-x-line").data([0]).enter().append("line").attr("class","extended-x-line").attr("x1",X).attr("x2",it).attr("y1",at).attr("y2",at)}(),W=rt.select(".metadata-group").selectAll("circle.highlight-circle").data([1]).enter().append("circle").attr("class","highlight-circle").attr("cursor","pointer"),J&&(H=rt.select(".chart-group").append("g").attr("class","crosshair-lines-container"),q=rt.select(".metadata-group").append("g").attr("class","crosshair-labels-container"),H.selectAll("line.highlight-y-line").data([1]).enter().append("line").attr("class","highlight-y-line"),H.selectAll("line.highlight-x-line").data([1]).enter().append("line").attr("class","highlight-x-line"),q.selectAll("text.highlight-y-legend").data([1]).enter().append("text").attr("class","highlight-y-legend"),q.selectAll("text.highlight-x-legend").data([1]).enter().append("text").attr("class","highlight-x-legend")),a=rt.select(".chart-group").attr("clip-path","url(#scatter-clip-path)").selectAll("circle").data(b).enter(),K?a.append("circle").attr("class","data-point data-point-highlighter").transition().delay(500).duration(500).ease(et).style("stroke",(function(t){return x[t.name]})).attr("fill",(function(t){return nt?"#fff":x[t.name]})).attr("fill-opacity",G).attr("r",(function(t){return N(t.y)})).attr("cx",(function(t){return E(t.x)})).attr("cy",(function(t){return O(t.y)})).style("cursor","pointer"):a.append("circle").attr("class","point").attr("class","data-point-highlighter").style("stroke",(function(t){return x[t.name]})).attr("fill",(function(t){return nt?"#fff":x[t.name]})).attr("fill-opacity",G).attr("r",(function(t){return N(t.y)})).attr("cx",(function(t){return E(t.x)})).attr("cy",(function(t){return O(t.y)})).style("cursor","pointer"),rt.selectAll(".chart-group").append("clipPath").attr("id","scatter-clip-path").append("rect").attr("width",it).attr("height",at).attr("x",0).attr("y",0),tt&&function(t){F&&F.remove();var e=[{x:t.x1,y:t.y1},{x:t.x2,y:t.y2}],n=l.line().curve(V).x((function(t){var e=t.x;return E(e)})).y((function(t){var e=t.y;return O(e)})),r=(F=rt.selectAll(".chart-group").append("path").attr("class","scatter-trendline").attr("d",n(e)).attr("stroke",Z[0]).attr("stroke-width","2").attr("fill","none")).node().getTotalLength();F.attr("stroke-dasharray",r+" "+r).attr("stroke-dashoffset",r).transition().delay(1500).duration(2e3).ease(et).attr("stroke-dashoffset",0)}(function(){var t=b.length,n=0,r=0,i=0,a=0;b.forEach((function(t){n+=t.x,r+=t.y,i+=t.x*t.y,a+=t.x*t.x}));var o=t*a-n*n,u=(r*a-n*i)/o,s=(t*i-n*r)/o,l=e.min(b,(function(t){return t.x})),c=e.max(b,(function(t){return t.x}));return{x1:l,y1:s*t+u,x2:c,y2:s*c+u}}()),rt.on("mousemove",(function(t){var e,n,r,i,a;(r=ct(e=this)).mousePos,i=r.closestPoint,a=st(i),J&&(n=a,ft(!0),H.selectAll("line.highlight-y-line").attr("stroke",x[n.name]).attr("class","highlight-y-line").attr("x1",E(n.x)-N(n.y)).attr("x2",0).attr("y1",O(n.y)).attr("y2",O(n.y)),H.selectAll("line.highlight-x-line").attr("stroke",x[n.name]).attr("class","highlight-x-line").attr("x1",E(n.x)).attr("x2",E(n.x)).attr("y1",O(n.y)+N(n.y)).attr("y2",at),q.selectAll("text.highlight-y-legend").attr("text-anchor","middle").attr("fill",x[n.name]).attr("class","highlight-y-legend").attr("y",O(n.y)+N(n.y)/2).attr("x",Y).text(""+u.format(S)(n.y)),q.selectAll("text.highlight-x-legend").attr("text-anchor","middle").attr("fill",x[n.name]).attr("class","highlight-x-legend").attr("transform","translate(0, "+(at-Y)+")").attr("x",E(n.x)-N(n.y)/2).text(""+u.format(T)(n.x))),function(t){ht(),z||(z=g(rt.select(".metadata-group")),U=m(z)),W.attr("opacity",1).attr("stroke",(function(){return x[t.name]})).attr("fill",(function(){return x[t.name]})).attr("fill-opacity",G).attr("cx",(function(){return E(t.x)})).attr("cy",(function(){return O(t.y)})).attr("r",(function(){return N(t.y)})).style("stroke-width",10).style("stroke-opacity",$),W.attr("filter","url(#"+U+")")}(a),ot.call("customMouseMove",e,a,c.mouse(e),[it,at])})).on("mouseover",(function(t){!function(t,e){ot.call("customMouseOver",t,e,c.mouse(t))}(this,t)})).on("mouseout",(function(t){!function(t,e){ht(),J&&ft(!1),ot.call("customMouseOut",t,e,c.mouse(t))}(this,t)})).on("click",(function(){var t,e,n,r;e=ct(t=this).closestPoint,n=st(e),v(W,et,N((r=n).y),N(2*r.y)),ot.call("customClick",t,n,c.mouse(t),[it,at])}))}))}function ct(e){var n=c.mouse(e);return n[0]-=t.left,n[1]-=t.top,{closestPoint:A.find(n[0],n[1]),mousePos:n}}function ht(){rt.selectAll("circle.highlight-circle").attr("opacity",0)}function ft(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=t?1:0;H.attr("opacity",e),q.attr("opacity",e)}return lt.aspectRatio=function(t){return arguments.length?(y=t,this):y},lt.circleOpacity=function(t){return arguments.length?(G=t,this):G},lt.colorSchema=function(t){return arguments.length?(Z=t,this):Z},lt.exportChart=function(t,e){f.call(lt,rt,t,e)},lt.grid=function(t){return arguments.length?(M=t,this):M},lt.hasCrossHairs=function(t){return arguments.length?(J=t,this):J},lt.hasHollowCircles=function(t){return arguments.length?(nt=t,this):nt},lt.hasTrendline=function(t){return arguments.length?(tt=t,this):tt},lt.height=function(t){return arguments.length?(y&&(n=Math.ceil(t/y)),p=t,this):p},lt.highlightTextLegendOffset=function(t){return arguments.length?(Y=t,this):Y},lt.isAnimated=function(t){return arguments.length?(K=t,this):K},lt.margin=function(e){return arguments.length?(t=i({},t,e),this):t},lt.maxCircleArea=function(t){return arguments.length?(Q=t,this):Q},lt.on=function(){var t=ot.on.apply(ot,arguments);return t===ot?lt:t},lt.width=function(t){return arguments.length?(y&&(p=Math.ceil(t*y)),n=t,this):n},lt.xAxisLabel=function(t){return arguments.length?(I=t,this):I},lt.xAxisLabelOffset=function(t){return arguments.length?(j=t,this):j},lt.xAxisFormat=function(t){return arguments.length?(T=t,this):T},lt.xTicks=function(t){return arguments.length?(w=t,this):w},lt.yAxisFormat=function(t){return arguments.length?(S=t,this):S},lt.yAxisLabel=function(t){return arguments.length?(D=t,this):D},lt.yAxisLabelOffset=function(t){return arguments.length?(R=t,this):R},lt.yTicks=function(t){return arguments.length?(_=t,this):_},lt}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};void 0===(r=function(t){var e=n(0),r=n(19),o=n(16),u=n(25),s=n(13),l=n(11),c=n(20),h=n(12),f=n(2),d=n(57),p=(n(8),n(17).exportChart),g=n(10),m=n(18).bar;return function(){var t={top:40,right:30,bottom:60,left:70},n=960,v=500,y=m,x=void 0,b=void 0,w=void 0,_=void 0,M=void 0,A=void 0,k=null,T={y:-8,x:-20},E=5,C=5,S=g.colorSchemas.britecharts,O=void 0,N=void 0,P=void 0,D=l.easeQuadInOut,B=!1,R=void 0,I=void 0,L=void 0,j=void 0,F=void 0,V=void 0,z=void 0,U=480,H=0,q=0,Y=void 0,X=void 0,G=-60,W=void 0,$=null,Q="name",Z="value",K="group",J=",f",tt=function(t){return t.name},et=function(t){return t.value},nt=function(t){return t.group},rt=!1,it=s.dispatch("customMouseOver","customMouseOut","customMouseMove","customClick");function at(i){i.each((function(i){I=n-t.left-t.right,L=v-t.top-t.bottom,function(t){n=t.map((function(t){return nt(t)})),F=n.filter((function(t,e,n){return n.indexOf(t)==e})),z=u.nest().key(tt).rollup((function(t){var e={};return t.forEach((function(t){t&&t[K]&&(e[t[K]]=et(t))})),e.values=t,e})).entries(t).map((function(t){return d({},{total:e.sum(e.permute(t.value,F)),key:t.key},t.value)}));var n}(j=i.reduce((function(t,e){return e.value=+e[Z],e.group=e[K],e.topicName=nt(e),e.name=e[Q],[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t),[e])}),[])),function(){var t=e.max(j.map(et));B?(x=h.scaleLinear().domain([0,t]).rangeRound([0,I-1]),_=h.scaleBand().domain(j.map(tt)).rangeRound([L,0]).padding(.1),M=h.scaleBand().domain(j.map(nt)).rangeRound([_.bandwidth(),0]).padding(.1)):(x=h.scaleBand().domain(j.map(tt)).rangeRound([0,I]).padding(.1),b=h.scaleBand().domain(j.map(nt)).rangeRound([0,x.bandwidth()]).padding(.1),_=h.scaleLinear().domain([0,t]).rangeRound([L,0]).nice());O=h.scaleOrdinal().range(S).domain(j.map(nt)),N=O.domain(j.map(tt)).domain().reduce((function(t,e){return j.forEach((function(n){tt(n)==e&&(t[n.name]=O(n.group),t[n.group]=O(n.group),t[n.group+e]=O(n.group))})),t}),{})}(),P=z.map((function(t){var e={};return F.forEach((function(n){e[n]=t[n]})),d({},t,e)})),function(e){R||(R=f.select(e).append("svg").classed("britechart grouped-bar",!0),function(){var e=R.append("g").classed("container-group",!0).attr("transform","translate("+t.left+","+t.top+")");e.append("g").classed("x-axis-group",!0).append("g").classed("x axis",!0),e.selectAll(".x-axis-group").append("g").classed("month-axis",!0),e.append("g").classed("y-axis-group axis",!0),e.append("g").classed("y-axis-label",!0),e.append("g").classed("grid-lines-group",!0),e.append("g").classed("chart-group",!0),e.append("g").classed("metadata-group",!0)}());R.attr("width",n).attr("height",v)}(this),function(){var t=B?x:_;R.select(".grid-lines-group").selectAll("line").remove(),("horizontal"===$||"full"===$)&&R.select(".grid-lines-group").selectAll("line.horizontal-grid-line").data(t.ticks(E).slice(1)).enter().append("line").attr("class","horizontal-grid-line").attr("x1",1-H).attr("x2",I).attr("y1",(function(t){return _(t)})).attr("y2",(function(t){return _(t)}));"vertical"!==$&&"full"!==$||R.select(".grid-lines-group").selectAll("line.vertical-grid-line").data(t.ticks(C).slice(1)).enter().append("line").attr("class","vertical-grid-line").attr("y1",0).attr("y2",L).attr("x1",(function(t){return x(t)})).attr("x2",(function(t){return x(t)}));B?R.select(".grid-lines-group").selectAll("line.extended-y-line").data([0]).enter().append("line").attr("class","extended-y-line").attr("y1",q).attr("y2",L).attr("x1",0).attr("x2",0):R.select(".grid-lines-group").selectAll("line.extended-x-line").data([0]).enter().append("line").attr("class","extended-x-line").attr("x1",H).attr("x2",I).attr("y1",L).attr("y2",L)}(),B?(w=r.axisBottom(x).ticks(C,J),A=r.axisLeft(_)):(w=r.axisBottom(x),A=r.axisLeft(_).ticks(E,J)),function(){B?(R.select(".x-axis-group .axis.x").attr("transform","translate( 0, "+L+" )").call(w),R.select(".y-axis-group.axis").attr("transform","translate( "+-H+", 0)").call(A)):(R.select(".x-axis-group .axis.x").attr("transform","translate( 0, "+L+" )").call(w),R.select(".y-axis-group.axis").attr("transform","translate( "+-H+", 0)").call(A).call(ot));Y&&(X&&R.selectAll(".y-axis-label-text").remove(),X=R.select(".y-axis-label").append("text").classed("y-axis-label-text",!0).attr("x",-L/2).attr("y",G).attr("text-anchor","middle").attr("transform","rotate(270 0 0)").text(Y))}(),function(){V&&R.selectAll(".layer").remove();var t=R.select(".chart-group").selectAll(".layer");W=e.range(20,20*(P.length+1),20),B?(n=t.data(P),r=(V=n.enter().append("g").attr("transform",(function(t){var e=t.key;return"translate(0,"+_(e)+")"})).classed("layer",!0)).selectAll(".bar").data((function(t){return t.values})).enter().append("rect").classed("bar",!0).attr("x",1).attr("y",(function(t){return M(nt(t))})).attr("height",M.bandwidth()).attr("fill",(function(t){var e=t.group;return N[e]})),rt?r.style("opacity",.24).transition().delay((function(t,e){return W[e]})).duration(1e3).ease(D).tween("attr.width",ct):r.attr("width",(function(t){return x(et(t))}))):function(t){var e=t.data(P),n=(V=e.enter().append("g").attr("transform",(function(t){var e=t.key;return"translate("+x(e)+",0)"})).classed("layer",!0)).selectAll(".bar").data((function(t){return t.values})).enter().append("rect").classed("bar",!0).attr("x",(function(t){return b(nt(t))})).attr("y",(function(t){var e=t.value;return _(e)})).attr("width",b.bandwidth).attr("fill",(function(t){var e=t.group;return N[e]}));rt?n.style("opacity",.24).transition().delay((function(t,e){return W[e]})).duration(1e3).ease(D).tween("attr.height",ht):n.attr("height",(function(t){return L-_(et(t))}))}(t);var n,r;t.exit().transition().style("opacity",0).remove()}(),function(){n>U&&R.on("mouseover",(function(t){!function(t,e){it.call("customMouseOver",t,e,f.mouse(t))}(this,t)})).on("mouseout",(function(t){!function(t,e){R.select(".metadata-group").attr("transform","translate(9999, 0)"),it.call("customMouseOut",t,e,f.mouse(t))}(this,t)})).on("mousemove",(function(e){var n,r,i,o,u,s,l,c,h,f;r=ut(n=this),i=a(r,2),o=i[0],u=i[1],s=B?lt(u):st(o),l=void 0,c=void 0,s&&(B?(l=o-t.left,c=_(s.key)+_.bandwidth()/2):(l=x(s.key)+b(s[K]),c=u-t.bottom),h=l,f=c,R.select(".metadata-group").attr("transform","translate("+h+","+f+")"),it.call("customMouseMove",n,s,N,l,c))})).on("click",(function(t){var e,n,r,i,o,u;n=ut(e=this),r=a(n,2),i=r[0],o=r[1],u=B?lt(o):st(i),it.call("customClick",e,u,f.mouse(e))}));R.selectAll(".bar").on("mouseover",(function(t){!function(t,e){f.select(t).attr("fill",(function(){return o.color(N[e.group]).darker()}))}(this,t)})).on("mouseout",(function(t){!function(t,e){f.select(t).attr("fill",(function(){return N[e.group]}))}(this,t)}))}()}))}function ot(t){t.selectAll(".tick text").attr("transform","translate("+T.x+", "+T.y+")")}function ut(t){return f.mouse(t)}function st(e){var n=e-t.left,r=b.bandwidth(),i=[];return P.forEach((function(t){var e=t.values.find((function(t){return Math.abs(n>=x(t[Q])+b(t[K]))&&Math.abs(n-b(t[K])-x(t[Q])<=r)}));e&&(e.values=t.values,e.key=e.name,i.push(e))})),i.length?i[0]:void 0}function lt(e){var n=e-t.bottom,r=_.bandwidth(),i=[];return P.map((function(t){var e=t.values.find((function(t){return Math.abs(n>=_(t[Q]))&&Math.abs(n-_(t[Q])<=2*r)}));e&&(e.values=t.values,e.key=e.name,i.push(e))})),i.length?i[0]:void 0}function ct(t){var e=f.select(this),n=c.interpolateRound(0,x(et(t))),r=c.interpolateNumber(0,1);return function(t){e.attr("width",n(t)).style("opacity",r(t))}}function ht(t){var e=f.select(this),n=c.interpolateRound(0,L-_(et(t))),r=c.interpolateRound(L,_(et(t))),i=c.interpolateNumber(0,1);return function(t){e.attr("y",r(t)).attr("height",n(t)).style("opacity",i(t))}}return at.aspectRatio=function(t){return arguments.length?(k=t,this):k},at.colorSchema=function(t){return arguments.length?(S=t,this):S},at.exportChart=function(t,e){p.call(at,R,t,e)},at.groupLabel=function(t){return arguments.length?(K=t,this):K},at.grid=function(t){return arguments.length?($=t,this):$},at.height=function(t){return arguments.length?(k&&(n=Math.ceil(t/k)),v=t,this):v},at.isHorizontal=function(t){return arguments.length?(B=t,this):B},at.isAnimated=function(t){return arguments.length?(rt=t,this):rt},at.loadingState=function(t){return arguments.length?(y=t,this):y},at.margin=function(e){return arguments.length?(t=i({},t,e),this):t},at.nameLabel=function(t){return arguments.length?(Q=t,this):Q},at.yTicks=function(t){return arguments.length?(E=t,this):E},at.on=function(){var t=it.on.apply(it,arguments);return t===it?at:t},at.tooltipThreshold=function(t){return arguments.length?(U=t,this):U},at.valueLabel=function(t){return arguments.length?(Z=t,this):Z},at.valueLabelFormat=function(t){return arguments.length?(J=t,this):J},at.width=function(t){return arguments.length?(k&&(v=Math.ceil(t*k)),n=t,this):n},at.xTicks=function(t){return arguments.length?(C=t,this):C},at.yAxisLabel=function(t){return arguments.length?(Y=t,this):Y},at.yAxisLabelOffset=function(t){return arguments.length?(G=t,this):G},at.yTickTextOffset=function(t){return arguments.length?(T=t,this):T},at}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}void 0===(r=function(t){var e=n(0),r=n(19),u=n(16),s=n(25),l=n(13),c=n(11),h=n(9),f=n(20),d=n(12),p=n(2),g=n(57),m=(n(8),n(26)),v=n(17).exportChart,y=n(10),x=n(18).row,b=(n(24),function(t){return t.filter((function(t,e,n){return n.indexOf(t)==e}))});return function(){var t={top:40,right:30,bottom:60,left:70},n=void 0,w=960,_=500,M=x,A=void 0,k=void 0,T=void 0,E=void 0,C=void 0,S=null,O={y:-8,x:-20},N=5,P=5,D=1,B=y.colorSchemas.britecharts,R={},I=void 0,L=c.easeQuadInOut,j=!1,F=!1,V=void 0,z=void 0,U=void 0,H=void 0,q=void 0,Y=void 0,X=void 0,G=void 0,W=480,$=0,Q=0,Z=void 0,K=void 0,J=-60,tt=void 0,et=null,nt="name",rt="value",it="group",at=",f",ot=function(t){return t.name},ut=function(t){return t.parentVal},st=function(t){return t.value},lt=function(t){return t.group},ct=function(t){return st(t)},ht=!1,ft=!1,dt=void 0,pt=void 0,gt=37,mt=void 0,vt=l.dispatch("customMouseOver","customMouseOut","customMouseMove","customClick");function yt(i){i.each((function(i){var l=ft?250:0;z=w-t.left-t.right-l,U=_-t.top-t.bottom,function(t){q=b(t.map((function(t){return lt(t)}))),Y=b(t.map((function(t){return ot(t)}))),G=s.nest().key(ot).rollup((function(t){var e={};return t.forEach((function(t){t&&t[it]&&(e[t[it]]=st(t))})),e.values=t,e})).entries(t).map((function(t){return g({},{total:e.sum(e.permute(t.value,q)),key:t.key},t.value)}))}(H=i.reduce((function(t,e){return e.value=+e[rt],e.group=e[it],e.topicName=lt(e),e.name=e[nt],[].concat(o(t),[e])}),[])),function(){e.max(H.map(st));var t=F?Math.min(D*e.max(H,ut)):Math.min(D*e.max(H,st));A=d.scaleLinear().domain([0,t]).rangeRound([0,z-1]),T=d.scaleBand().domain(H.map(ot)).rangeRound([U,0]).padding(.1),E=d.scaleBand().domain(H.map(lt)).rangeRound([T.bandwidth(),0]).padding(.1);for(var n=H.map(lt),r=b(n),i=0;i<r.length;i++)R[r[i]]=B[i]}(),I=G.map((function(t){var e={};return q.forEach((function(n){e[n]=t[n]})),g({},t,e)})),function(e){n=e,V||(V=p.select(e).append("svg").classed("britechart grouped-row",!0),function(){var e=V.append("g").classed("container-group",!0).attr("transform","translate("+t.left+","+t.top+")");e.append("g").append("defs").append("pattern").attr("id","diagonalHatch").attr("patternUnits","userSpaceOnUse").attr("patternTransform","rotate(45)").attr("width",10).attr("height",100).append("rect").attr("width",5).attr("height",100).attr("transform","translate(0,0)").attr("fill","white"),e.append("g").classed("x-axis-group",!0).append("g").classed("x axis",!0),e.selectAll(".x-axis-group").append("g").classed("month-axis",!0),e.append("g").classed("grid-lines-group",!0),e.append("g").classed("chart-group",!0),ft&&e.append("g").classed("legend-group",!0);e.append("g").classed("y-axis-group axis",!0),e.append("g").classed("y-axis-label",!0),e.append("g").classed("metadata-group",!0)}());V.attr("width",w).attr("height",_)}(this),function(){var t=A;V.select(".grid-lines-group").selectAll("line").remove(),("horizontal"===et||"full"===et)&&V.select(".grid-lines-group").selectAll("line.horizontal-grid-line").data(t.ticks(N).slice(1)).enter().append("line").attr("class","horizontal-grid-line").attr("x1",1-$).attr("x2",z).attr("y1",(function(t){return T(t)})).attr("y2",(function(t){return T(t)}));"vertical"!==et&&"full"!==et||V.select(".grid-lines-group").selectAll("line.vertical-grid-line").data(t.ticks(P).slice(1)).enter().append("line").attr("class","vertical-grid-line").attr("y1",0).attr("y2",U).attr("x1",(function(t){return A(t)})).attr("x2",(function(t){return A(t)}));V.select(".grid-lines-group").selectAll("line.extended-y-line").data([0]).enter().append("line").attr("class","extended-y-line").attr("y1",Q).attr("y2",U).attr("x1",0).attr("x2",0),function(){var t=m.getTextWidth("100%",16);V.select(".grid-lines-group").selectAll("line.start-label").data([0]).enter().append("text").attr("class","start-label").text("0%").attr("y",0).attr("x",0);V.select(".grid-lines-group").selectAll("line.end-label").data([0]).enter().append("text").attr("class","end-label").text("100%").attr("y",0).attr("x",z-t-10),V.select(".grid-lines-group").selectAll("line.extended-end-line").data([0]).enter().append("line").attr("class","extended-end-line").attr("y1",-20).attr("y2",U+10).attr("x1",z).attr("x2",z)}()}(),k=r.axisBottom(A).ticks(P,at),C=r.axisLeft(T),function(){X&&V.selectAll(".layer").remove();var n=V.select(".chart-group").selectAll(".layer");tt=e.range(20,20*(I.length+1),20),function(e){var n=e.data(I),r=(X=n.enter().append("g").attr("transform",(function(t){var e=t.key;return"translate(0,"+T(e)+")"})).attr("class",(function(t,e){return"layer layer-"+e}))).selectAll(".group-background").data([0]),i=X.selectAll(".bg-hover").data([0]),a=X.selectAll(".row-overall").data((function(t){return t.values})),o=X.selectAll(".row").data((function(t){return t.values})),u=X.selectAll(".row").data((function(t){return t.values.filter((function(t){return t.striped}))})),s=(r.enter().append("rect").classed("group-background",!0).attr("x",0).attr("y",(function(t){return E(lt(t))})).attr("height",E.bandwidth()*q.length+4*q.length).attr("width",z),a.enter().append("rect").classed("row-overall",!0).attr("x",1).attr("y",(function(t){return E(lt(t))})).attr("height",E.bandwidth()).attr("fill",(function(t){var e=t.group;return R[e]})).attr("fill-opacity",.3)),l=o.enter().append("rect").classed("row",!0).attr("x",1).attr("y",(function(t){return E(lt(t))})).attr("height",E.bandwidth()).attr("fill",(function(t){var e=t.group;return R[e]})),c=h.format(".2f"),f=(o.enter().append("text").classed("percentage-label",!0).attr("x",(function(t){var e=0;e=F?A(ct(t))+5:A(st(t))+5;var n=m.getTextWidth(c(st(t))+"%",16);return e+n>z?e-n-10:e})).attr("y",(function(t){return E(lt(t))+16})).text((function(t){return c(st(t))+"%"})),u.enter().append("rect").classed("striped",!0).attr("x",1).attr("y",(function(t){return E(lt(t))})).attr("height",E.bandwidth()).attr("fill","url(#diagonalHatch)"));i.enter().append("rect").classed("bg-hover",!0).on("click",(function(t){At(this,t)})).attr("x",-t.left).attr("y",(function(t){return E(lt(t))})).attr("height",E.bandwidth()*q.length+4*q.length).attr("width",z+t.left).attr("fill","#d6e8fa").attr("fill-opacity",0).on("mouseover",kt).on("mouseout",Tt);ht?(l.style("opacity",.24).transition().delay((function(t,e){return tt[e]})).duration(1e3).ease(L).tween("attr.width",Et),F&&s.style("opacity",.24).transition().delay((function(t,e){return tt[e]})).duration(1e3).ease(L).tween("attr.width",Ct),f.style("opacity",.24).transition().delay((function(t,e){return tt[e]})).duration(1e3).ease(L).tween("attr.width",Et)):(l.attr("width",(function(t){return A(F?ct(t):st(t))})),F&&s.attr("width",(function(t){return A(ut(t))})),f.attr("width",(function(t){return A(F?ct(t):st(t))})))}(n),n.exit().transition().style("opacity",0).remove()}(),V.select(".x-axis-group .axis.x").attr("transform","translate( 0, "+U+" )").call(k),V.select(".y-axis-group.axis").attr("transform","translate( "+-$+", 0)").call(C),V.selectAll(".y-axis-group.axis .tick").call(St),V.selectAll(".y-axis-group.axis .tick text").on("mouseover",kt).on("mouseout",Tt).call(xt,t.left-50).selectAll("tspan"),Z&&(K&&V.selectAll(".y-axis-label-text").remove(),K=V.select(".y-axis-label").append("text").classed("y-axis-label-text",!0).attr("x",-U/2).attr("y",J).attr("text-anchor","middle").attr("transform","rotate(270 0 0)").text(Z)),function(){if(!ft)return;var e=Number.parseInt(z)+Number.parseInt(t.right);dt=V.selectAll(".legend-group").append("g").attr("transform","translate("+e+", -30)").classed("tooltip-text",!0),pt=dt.append("g").classed("tooltip-body",!0).style("transform","translateY(8px)").style("fill","#282C35"),[].concat(o(new Set(H.map((function(t){return t.group}))))).reverse().forEach(bt)}(),function(){w>W&&V.on("mouseover",(function(t){!function(t,e){vt.call("customMouseOver",t,e,p.mouse(t)),kt(e)}(this,t)})).on("mouseout",(function(t){!function(t,e){V.select(".metadata-group").attr("transform","translate(9999, 0)"),vt.call("customMouseOut",t,e,p.mouse(t))}(this,t)})).on("mousemove",(function(e){var n,r,i,o,u,s,l,c,h;r=_t(n=this),i=a(r,2),o=i[0],u=Mt(i[1]),s=void 0,l=void 0,u&&(s=o-t.left,l=T(u.key)+T.bandwidth()/2,c=s,h=l,V.select(".metadata-group").attr("transform","translate("+c+","+h+")"),vt.call("customMouseMove",n,u,R,s,l))})).on("click",(function(t){At(this,t)}));V.selectAll(".row").on("mouseover",(function(t){!function(t,e){p.select(t).attr("fill",(function(){return u.color(R[e.group]).darker()}))}(this,t)})).on("mouseout",(function(t){!function(t,e){p.select(t).attr("fill",(function(){return R[e.group]}))}(this,t)}))}()}))}function xt(t,e){m.wrapTextWithEllipses(t,e,-10,2,.8)}function bt(t){var e,n=t,r=void 0;e=t,r=pt.append("text").classed("tooltip-left-text",!0).attr("dy","1em").attr("dx",0).attr("y",gt).style("fill","#000000").style("font-size","12px").text(e).call(wt,200,12,-25),mt=r.node().getBBox().height?r.node().getBBox().height:mt,mt+5,pt.append("circle").classed("tooltip-circle",!0).attr("cx",-39.5).attr("cy",gt+10).attr("r",5).style("fill",R[n]).style("stroke-width",1),gt+=mt+7}function wt(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;t.each((function(){var i,a,o,u,s,l,c;for(i=(t=p.select(this)).text().split(/\s+/).reverse(),o=[],u=0,1.2,s=t.attr("y"),l=parseFloat(t.attr("dy")),c=t.text(null).append("tspan").attr("x",r).attr("y",s).attr("dy",l+"em");a=i.pop();){o.push(a),c.text(o.join(" ")),m.getTextWidth(o.join(" "),n,"Karla, sans-serif")>e&&(o.pop(),c.text(o.join(" ")),u<4&&(o=[a],c=t.append("tspan").attr("x",r).attr("y",s).attr("dy",1.2*++u+l+"em").text(a)))}}))}function _t(t){return p.mouse(t)}function Mt(e){var n=e-t.bottom,r=T.bandwidth(),i=[];return I.map((function(t){var e=t.values.find((function(t){return Math.abs(n>=T(t[nt]))&&Math.abs(n-T(t[nt])<=2*r)}));e&&(e.values=t.values,e.key=e.name,i.push(e))})),i.length?i[0]:void 0}function At(t,e){var n=_t(t),r=a(n,2),i=(r[0],Mt(r[1]));vt.call("customClick",t,i,p.mouse(t))}function kt(t,e){var r=null;this&&(r=p.select(this.parentNode).attr("class").replace("layer layer-","")),null===r&&(r=Ot(t)),parseInt(r)>-1&&(p.select(n).select(".tick svg.visibility-"+r).attr("opacity",1),p.select(n).select("g .layer-"+r+" .bg-hover").attr("fill-opacity",.3))}function Tt(t,e){var r=null;this&&(r=p.select(this.parentNode).attr("class").replace("layer layer-","")),null===r&&(r=Ot(t)),parseInt(r)>-1&&(p.select(n).select(".tick svg.visibility-"+r).attr("opacity",0),p.select(n).select("g .layer-"+r+" .bg-hover").attr("fill-opacity",0))}function Et(t){var e=p.select(this),n=f.interpolateNumber(0,1),r=F?f.interpolateRound(0,A(ct(t))):f.interpolateRound(0,A(st(t)));return function(t){e.attr("width",r(t)).style("opacity",n(t))}}function Ct(t){var e=p.select(this),n=f.interpolateRound(0,A(ut(t))),r=f.interpolateNumber(0,1);return function(t){e.attr("width",n(t)).style("opacity",r(t))}}function St(e){e.each((function(){var n=(e=p.select(this)).node().getBBox().height/2,r=e.append("svg").attr("class",(function(t){return"visibility visibility-"+Ot(t)})).attr("x",-(t.left-5)).attr("y",-n).attr("width","300").attr("height","300").attr("viewBox","0 0 600 600").attr("fill","none").attr("opacity",0);r.append("rect").attr("x",-10).attr("y",-10).attr("height","50").attr("width","50").attr("fill","#d6e8fa").on("mouseover",kt).on("mouseout",Tt).attr("opacity",0),r.append("path").attr("d","M 10,10 L 30,30 M 30,10 L 10,30").attr("stroke","#0072ce").attr("stroke-width","2").on("mouseover",kt).on("mouseout",Tt)}))}function Ot(t){return Y.indexOf(t)}return yt.aspectRatio=function(t){return arguments.length?(S=t,this):S},yt.colorSchema=function(t){return arguments.length?(B=t,this):B},yt.exportChart=function(t,e){v.call(yt,V,t,e)},yt.groupLabel=function(t){return arguments.length?(it=t,this):it},yt.grid=function(t){return arguments.length?(et=t,this):et},yt.height=function(t){return arguments.length?(S&&(w=Math.ceil(t/S)),_=t,this):_},yt.isHorizontal=function(t){return arguments.length?(j=t,this):j},yt.isPrintMode=function(t){return arguments.length?(ft=t,this):ft},yt.isStacked=function(t){return arguments.length?(F=t,this):F},yt.isAnimated=function(t){return arguments.length?(ht=t,this):ht},yt.loadingState=function(t){return arguments.length?(M=t,this):M},yt.margin=function(e){return arguments.length?(t=i({},t,e),this):t},yt.nameLabel=function(t){return arguments.length?(nt=t,this):nt},yt.yTicks=function(t){return arguments.length?(N=t,this):N},yt.on=function(){var t=vt.on.apply(vt,arguments);return t===vt?yt:t},yt.percentageAxisToMaxRatio=function(t){return arguments.length?(D=t,this):D},yt.tooltipThreshold=function(t){return arguments.length?(W=t,this):W},yt.valueLabel=function(t){return arguments.length?(rt=t,this):rt},yt.valueLabelFormat=function(t){return arguments.length?(at=t,this):at},yt.width=function(t){return arguments.length?(S&&(_=Math.ceil(t*S)),w=t,this):w},yt.xTicks=function(t){return arguments.length?(P=t,this):P},yt.yAxisLabel=function(t){return arguments.length?(Z=t,this):Z},yt.yAxisLabelOffset=function(t){return arguments.length?(J=t,this):J},yt.yTickTextOffset=function(t){return arguments.length?(O=t,this):O},yt}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};void 0===(r=function(t){var e=n(0),r=n(19),o=n(16),u=n(25),s=n(13),l=n(11),c=n(20),h=n(12),f=n(27),d=n(2),p=n(57),g=(n(8),n(17).exportChart),m=n(10),v=n(18).bar;return function(){var t={top:40,right:30,bottom:60,left:70},n=960,y=500,x=v,b=void 0,w=void 0,_=void 0,M=void 0,A=null,k=.1,T=void 0,E=5,C=5,S=1,O=m.colorSchemas.britecharts,N=void 0,P=void 0,D=void 0,B=l.easeQuadInOut,R=!1,I=void 0,L=void 0,j=void 0,F=void 0,V=void 0,z=void 0,U=void 0,H=!1,q=480,Y=void 0,X=void 0,G=-60,W=0,$=0,Q=void 0,Z=null,K="name",J="value",tt="stack",et=",f",nt=function(t){return t[K]},rt=function(t){return t[tt]},it=function(t){return isNaN(t)||t<0?0:t},at=!1,ot=s.dispatch("customMouseOver","customMouseOut","customMouseMove","customClick");function ut(i){i.each((function(i){var o,s;L=n-t.left-t.right,j=y-t.top-t.bottom,function(t){z=function(t){return t.filter((function(t,e,n){return n.indexOf(t)==e}))}(t.map((function(t){return t.stack}))),H&&(z=z.reverse());V=u.nest().key(nt).rollup((function(t){var e={};return t.forEach((function(t){t&&t[tt]&&(e[t[tt]]=function(t){return t[J]}(t))})),e.values=t,e})).entries(t).map((function(t){return p({},{total:e.sum(e.permute(t.value,z)),key:t.key},t.value)}))}(F=i.reduce((function(t,e){return e.value=+e[J],e.stack=e[tt],e.topicName=rt(e),e.name=e[K],[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t),[e])}),[])),function(){var t=e.max(V.map((function(t){return t.total})));R?(b=h.scaleLinear().domain([0,t]).rangeRound([0,L-1]),_=h.scaleBand().domain(F.map(nt)).rangeRound([j,0]).padding(k)):(b=h.scaleBand().domain(F.map(nt)).rangeRound([0,L]).padding(k),_=h.scaleLinear().domain([0,t]).rangeRound([j,0]).nice());N=h.scaleOrdinal().range(O).domain(F.map(rt)),P=N.domain(F.map(rt)).domain().reduce((function(t,e){return t[e]=N(e),t}),{})}(),o=f.stack().keys(z),s=V.map((function(t){var e={};return z.forEach((function(n){e[n]=t[n]})),p({},t,e)})),D=o(s),function(e){I||(I=d.select(e).append("svg").classed("britechart stacked-bar",!0),function(){var e=I.append("g").classed("container-group",!0).attr("transform","translate("+t.left+","+t.top+")");e.append("g").classed("x-axis-group",!0).append("g").classed("x axis",!0),e.selectAll(".x-axis-group").append("g").classed("month-axis",!0),e.append("g").classed("y-axis-group axis",!0),e.append("g").classed("grid-lines-group",!0),e.append("g").classed("chart-group",!0),e.append("g").classed("y-axis-label",!0),e.append("g").classed("metadata-group",!0)}());I.attr("width",n).attr("height",y)}(this),function(){var t=R?b:_;I.select(".grid-lines-group").selectAll("line").remove(),("horizontal"===Z||"full"===Z)&&I.select(".grid-lines-group").selectAll("line.horizontal-grid-line").data(t.ticks(E).slice(1)).enter().append("line").attr("class","horizontal-grid-line").attr("x1",1-W).attr("x2",L).attr("y1",(function(t){return _(t)})).attr("y2",(function(t){return _(t)}));"vertical"!==Z&&"full"!==Z||I.select(".grid-lines-group").selectAll("line.vertical-grid-line").data(t.ticks(C).slice(1)).enter().append("line").attr("class","vertical-grid-line").attr("y1",0).attr("y2",j).attr("x1",(function(t){return b(t)})).attr("x2",(function(t){return b(t)}));R?I.select(".grid-lines-group").selectAll("line.extended-y-line").data([0]).enter().append("line").attr("class","extended-y-line").attr("y1",$).attr("y2",j).attr("x1",0).attr("x2",0):I.select(".grid-lines-group").selectAll("line.extended-x-line").data([0]).enter().append("line").attr("class","extended-x-line").attr("x1",W).attr("x2",L).attr("y1",j).attr("y2",j)}(),R?(w=r.axisBottom(b).ticks(C,et),M=r.axisLeft(_)):(w=r.axisBottom(b),M=r.axisLeft(_).ticks(E,et)),function(){R?(I.select(".x-axis-group .axis.x").attr("transform","translate( 0, "+j+" )").call(w),I.select(".y-axis-group.axis").attr("transform","translate( "+-W+", 0)").call(M)):(I.select(".x-axis-group .axis.x").attr("transform","translate( 0, "+j+" )").call(w),I.select(".y-axis-group.axis").attr("transform","translate( "+-W+", 0)").call(M).call(st));Y&&(X&&I.selectAll(".y-axis-label-text").remove(),X=I.select(".y-axis-label").append("text").classed("y-axis-label-text",!0).attr("x",-j/2).attr("y",G).attr("text-anchor","middle").attr("transform","rotate(270 0 0)").text(Y))}(),function(){U&&I.selectAll(".layer").remove();var t=I.select(".chart-group").selectAll(".layer");Q=e.range(20,20*(D[0].length+1),20),R?(n=t.data(D),r=(U=n.enter().append("g").attr("fill",(function(t){var e=t.key;return P[e]})).classed("layer",!0)).selectAll(".bar").data((function(t){return lt(t)})).enter().append("rect").classed("bar",!0).attr("x",(function(t){return b(t[0])})).attr("y",(function(t){return _(t.data.key)})).attr("height",_.bandwidth()),at?r.style("opacity",.24).transition().delay((function(t,e){return Q[e]})).duration(1e3).ease(B).tween("attr.width",gt):r.attr("width",(function(t){return b(t[1]-t[0])}))):function(t){var e=t.data(D),n=(U=e.enter().append("g").attr("fill",(function(t){var e=t.key;return P[e]})).classed("layer",!0)).selectAll(".bar").data((function(t){return lt(t)})).enter().append("rect").classed("bar",!0).attr("x",(function(t){return b(t.data.key)})).attr("y",(function(t){return _(t[1])})).attr("width",b.bandwidth);at?n.style("opacity",.24).transition().delay((function(t,e){return Q[e]})).duration(1e3).ease(B).tween("attr.height",mt):n.attr("height",(function(t){return _(t[0])-_(t[1])}))}(t);var n,r;t.exit().transition().style("opacity",0).remove()}(),function(){n>q&&I.on("mouseover",(function(t){!function(t,e){ot.call("customMouseOver",t,e,d.mouse(t))}(this,t)})).on("mouseout",(function(t){!function(t,e){I.select(".metadata-group").attr("transform","translate(9999, 0)"),ot.call("customMouseOut",t,e,d.mouse(t))}(this,t)})).on("mousemove",(function(e){var n,r,i,o,u,s,l,c,h,f;r=ct(n=this),i=a(r,2),o=i[0],u=i[1],s=R?ft(u):ht(o),l=void 0,c=void 0,s&&(R?(l=o-t.left,c=_(s.key)+_.bandwidth()/2):(l=b(s.key)+t.left,c=u-t.bottom),h=l,f=c,I.select(".metadata-group").attr("transform","translate("+h+","+f+")"),ot.call("customMouseMove",n,s,P,l,c))})).on("click",(function(t){var e,n,r,i,o,u;n=ct(e=this),r=a(n,2),i=r[0],o=r[1],u=R?ft(o):ht(i),ot.call("customClick",e,u,d.mouse(e))}));I.selectAll(".bar").on("mouseover",dt).on("mouseout",pt)}()}))}function st(t){t.selectAll(".tick text").attr("transform","translate(-20, -8)")}function lt(t){return t.map((function(t){for(var e=0;e<t.length;e++)t[e]=it(t[e]);return t}))}function ct(t){return d.mouse(t)}function ht(e){var n=e-t.left;return V.find((function(t){var e=t.key,r=b(e),i=r+b.bandwidth();return n>=r&&n<i}))}function ft(e){var n=e-t.top;return V.find((function(t){var e=t.key,r=_(e),i=r+_.bandwidth();return n>=r&&n<i}))}function dt(){var t=this;d.select(this).attr("fill",(function(){return o.color(d.select(t.parentNode).attr("fill")).darker()}))}function pt(){var t=this;d.select(this).attr("fill",(function(){return d.select(t.parentNode).attr("fill")}))}function gt(t){var e=d.select(this),n=c.interpolateRound(0,b(t[1]-t[0])),r=c.interpolateNumber(0,1);return function(t){e.attr("width",n(t)).style("opacity",r(t))}}function mt(t){var e=_(t[0])-_(t[1]),n=d.select(this),r=c.interpolateRound(0,it(e)),i=c.interpolateNumber(0,1);return function(t){n.attr("height",r(t)).style("opacity",i(t))}}return ut.aspectRatio=function(t){return arguments.length?(A=t,this):A},ut.betweenBarsPadding=function(t){return arguments.length?(k=t,this):k},ut.colorSchema=function(t){return arguments.length?(O=t,this):O},ut.exportChart=function(t,e){g.call(ut,I,t,e)},ut.grid=function(t){return arguments.length?(Z=t,this):Z},ut.hasPercentage=function(t){return arguments.length?(et=t?"%":",f",this):"%"===et},ut.height=function(t){return arguments.length?(A&&(n=Math.ceil(t/A)),y=t,this):y},ut.isHorizontal=function(t){return arguments.length?(R=t,this):R},ut.hasReversedStacks=function(t){return arguments.length?(H=t,this):H},ut.isAnimated=function(t){return arguments.length?(at=t,this):at},ut.locale=function(t){return arguments.length?(T=t,this):T},ut.margin=function(e){return arguments.length?(t=i({},t,e),this):t},ut.nameLabel=function(t){return arguments.length?(K=t,this):K},ut.xTicks=function(t){return arguments.length?(C=t,this):C},ut.yTicks=function(t){return arguments.length?(E=t,this):E},ut.loadingState=function(t){return arguments.length?(x=t,this):x},ut.on=function(){var t=ot.on.apply(ot,arguments);return t===ot?ut:t},ut.percentageAxisToMaxRatio=function(t){return arguments.length?(S=t,this):S},ut.stackLabel=function(t){return arguments.length?(tt=t,this):tt},ut.tooltipThreshold=function(t){return arguments.length?(q=t,this):q},ut.valueLabel=function(t){return arguments.length?(J=t,this):J},ut.valueLabelFormat=function(t){return arguments.length?(et=t,this):et},ut.width=function(t){return arguments.length?(A&&(y=Math.ceil(t*A)),n=t,this):n},ut.yAxisLabel=function(t){return arguments.length?(Y=t,this):Y},ut.yAxisLabelOffset=function(t){return arguments.length?(G=t,this):G},ut}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};void 0===(r=function(t){var e=n(0),r=n(2),a=n(12),o=(n(8),n(20)),u=n(17).exportChart,s=n(10);return function(){var t={top:40,right:20,bottom:20,left:40},n=780,l=270,c=void 0,h=void 0,f=void 0,d=30,p=void 0,g=s.colorSchemas.red,m=void 0,v=["Mo","Tu","We","Th","Fr","Sa","Su"],y=["00h","01h","02h","03h","04h","05h","06h","07h","08h","09h","10h","11h","12h","13h","14h","15h","16h","17h","18h","19h","20h","21h","22h","23h"],x=function(t){return t.value};function b(i){i.each((function(i){var u,s;h=i.reduce((function(t,e){var n=e.day,r=e.hour,i=e.value;return[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t),[{day:+n,hour:+r,value:+i}])}),[]),n-t.left-t.right,l-t.top-t.bottom,p=a.scaleLinear().range([g[0],g[g.length-1]]).domain(e.extent(h,x)).interpolate(o.interpolateHcl),function(e){c||(c=r.select(e).append("svg").classed("britechart heatmap",!0),function(){var e=c.append("g").classed("container-group",!0).attr("transform","translate("+t.left+", "+t.top+")");e.append("g").classed("chart-group",!0),e.append("g").classed("day-labels-group",!0),e.append("g").classed("hour-labels-group",!0),e.append("g").classed("metadata-group",!0)}());c.attr("width",n).attr("height",l)}(this),u=c.select(".day-labels-group"),c.select(".day-labels-group").selectAll(".day-label").data(v).enter().append("text").text((function(t){return t})).attr("x",0).attr("y",(function(t,e){return e*d})).style("text-anchor","start").style("dominant-baseline","central").attr("class","day-label"),u.attr("transform","translate(-30, "+d/2+")"),s=c.select(".hour-labels-group"),c.select(".hour-labels-group").selectAll(".hour-label").data(y).enter().append("text").text((function(t){return t})).attr("y",0).attr("x",(function(t,e){return e*d})).style("text-anchor","middle").style("dominant-baseline","central").attr("class","hour-label"),s.attr("transform","translate("+d/2+", -20)"),(f=c.select(".chart-group").selectAll(".box").data(h)).enter().append("rect").classed("box",!0).attr("width",d).attr("height",d).attr("x",(function(t){return t.hour*d})).attr("y",(function(t){return t.day*d})).style("opacity",.2).style("fill","#BBBBBB").style("stroke","#FFFFFF").style("stroke-width",2).transition().duration(2e3).style("fill",(function(t){var e=t.value;return p(e)})).style("opacity",1),f.exit().remove()}))}return b.boxSize=function(t){return arguments.length?(d=t,this):d},b.colorSchema=function(t){return arguments.length?(g=t,this):g},b.exportChart=function(t,e){u.call(b,c,t,e)},b.yAxisLabels=function(t){return arguments.length?(m=t,this):m},b.height=function(t){return arguments.length?(l=t,this):l},b.margin=function(e){return arguments.length?(t=i({},t,e),this):t},b.width=function(t){return arguments.length?(n=t,this):n},b}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};void 0===(r=function(t){var e=n(0),r=n(19),a=n(13),o=n(11),u=n(9),s=n(12),l=n(2),c=(n(8),n(17).exportChart),h=n(18).line;return function(){var t={top:20,right:20,bottom:30,left:40},n=960,f=500,d=h,p=o.easeQuadInOut,g=void 0,m=void 0,v=void 0,y=void 0,x=void 0,b=6,w=void 0,_=void 0,M=void 0,A=void 0,k=void 0,T=void 0,E=80,C=-20,S=0,O=void 0,N=void 0,P=void 0,D=a.dispatch("customMouseOver","customMouseOut","customMouseMove"),B=u.format(".3"),R=function(t){return t.key},I=function(t){return t.value};function L(i){i.each((function(i){var a;m=n-t.left-t.right,v=f-t.top-t.bottom,g=i.reduce((function(t,e){return e.value=+e.value,e.key=String(e.key),[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t),[e])}),[]),y=s.scaleBand().domain(g.map(R)).rangeRound([0,m]).paddingInner(0),x=s.scaleLinear().domain([0,e.max(g,I)]).rangeRound([v,0]),w=r.axisBottom(y),A=r.axisLeft(x).ticks(b).tickPadding(8).tickFormat(B),function(e){O||(O=l.select(e).append("svg").classed("britechart step-chart",!0),function(){var e=O.append("g").classed("container-group",!0).attr("transform","translate("+t.left+", "+t.top+")");e.append("g").classed("grid-lines-group",!0),e.append("g").classed("chart-group",!0),e.append("g").classed("x-axis-group axis",!0).append("g").classed("x-axis-label",!0),e.append("g").classed("y-axis-group axis",!0).append("g").classed("y-axis-label",!0),e.append("g").classed("metadata-group",!0)}());O.attr("width",n).attr("height",f)}(this),function(){N&&O.selectAll(".horizontal-grid-line").remove();P&&O.selectAll(".extended-x-line").remove();N=O.select(".grid-lines-group").selectAll("line.horizontal-grid-line").data(x.ticks(b)).enter().append("line").attr("class","horizontal-grid-line").attr("x1",S).attr("x2",m).attr("y1",(function(t){return x(t)})).attr("y2",(function(t){return x(t)})),P&&O.selectAll(".extended-x-line").remove();P=O.select(".grid-lines-group").selectAll("line.extended-x-line").data([0]).enter().append("line").attr("class","extended-x-line").attr("x1",S).attr("x2",m).attr("y1",v).attr("y2",v)}(),(a=O.select(".chart-group").selectAll(".step").data(g)).enter().append("rect").classed("step",!0).attr("x",m).attr("y",(function(t){var e=t.value;return x(e)})).attr("width",y.bandwidth()).attr("height",(function(t){return v-x(t.value)})).on("mouseover",(function(t){!function(t,e,n,r){D.call("customMouseOver",t,e,l.mouse(t),[n,r])}(this,t,m,v)})).on("mousemove",(function(t){!function(t,e,n,r){D.call("customMouseMove",t,e,l.mouse(t),[n,r])}(this,t,m,v)})).on("mouseout",(function(t){!function(t,e,n,r){D.call("customMouseOut",t,e,l.mouse(t),[n,r])}(this,t,m,v)})).merge(a).transition().ease(p).attr("x",(function(t){var e=t.key;return y(e)})).attr("y",(function(t){return x(t.value)})).attr("width",y.bandwidth()).attr("height",(function(t){return v-x(t.value)})),a.exit().transition().style("opacity",0).remove(),function(){O.select(".x-axis-group.axis").attr("transform","translate(0, "+v+")").call(w),O.selectAll(".x-axis-group .tick text").style("text-anchor","start").attr("transform","rotate(45 -1 10)"),_&&(M&&O.selectAll(".x-axis-label-text").remove(),M=O.select(".x-axis-label").append("text").attr("y",E).attr("text-anchor","middle").classed("x-axis-label-text",!0).attr("x",m/2).text(_));O.select(".y-axis-group.axis").call(A),k&&(T&&O.selectAll(".y-axis-label-text").remove(),T=O.select(".y-axis-label").append("text").classed("y-axis-label-text",!0).attr("x",-v/2).attr("y",C).attr("text-anchor","middle").attr("transform","rotate(270 0 0)").text(k))}()}))}return L.exportChart=function(t){c.call(L,O,t)},L.margin=function(e){return arguments.length?(t=i({},t,e),this):t},L.yTicks=function(t){return arguments.length?(b=t,this):b},L.height=function(t){return arguments.length?(f=t,this):f},L.loadingState=function(t){return arguments.length?(d=t,this):d},L.on=function(){var t=D.on.apply(D,arguments);return t===D?L:t},L.width=function(t){return arguments.length?(n=t,this):n},L.xAxisLabel=function(t){return arguments.length?(_=t,this):_},L.xAxisLabelOffset=function(t){return arguments.length?(E=t,this):E},L.yAxisLabel=function(t){return arguments.length?(k=t,this):k},L.yAxisLabelOffset=function(t){return arguments.length?(C=t,this):C},L}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}void 0===(r=function(t){var e=n(0),r=n(19),o=n(119),u=n(11),s=n(12),l=n(27),c=n(13),h=n(2),f=(n(39),n(8),n(28)),d=n(10),p=n(75),g=n(35),m=g.axisTimeCombinations,v=g.timeIntervals,y=n(24).uniqueId,x=n(18).line;return function(){var t={top:20,right:20,bottom:30,left:20},n=960,g=500,b=x,w=void 0,_=void 0,M=(u.easeQuadOut,[null,null]),A=void 0,k=void 0,T=void 0,E=void 0,C=void 0,S=null,O=null,N=null,P=void 0,D=void 0,B=void 0,R=void 0,I=void 0,L=d.colorGradients.greenBlue,j=y("brush-area-gradient"),F="timeDay",V=c.dispatch("customBrushStart","customBrushEnd"),z=function(t){return t.value},U=function(t){return t.date};function H(i){i.each((function(i){var u,c,m;A=n-t.left-t.right,k=g-t.top-t.bottom,c=i,u=JSON.parse(JSON.stringify(c)),w=u.reduce((function(t,e){return e.date=new Date(e.date),e.value=+e.value,[].concat(a(t),[e])}),[]),T=s.scaleTime().domain(e.extent(w,U)).range([0,A]),E=s.scaleLinear().domain([0,e.max(w,z)]).range([k,0]),function(){var t=void 0;if("custom"===S&&"string"==typeof N)t={tick:O,format:f.timeFormat(N)};else{var e=p.getTimeSeriesAxis(w,n,S);t=e.minor,e.major}C=r.axisBottom(T).ticks(t.tick).tickSize(10,0).tickPadding([5]).tickFormat(t.format)}(),function(e){_||(_=h.select(e).append("svg").classed("britechart brush-chart",!0),function(){var e=_.append("g").classed("container-group",!0).attr("transform","translate("+t.left+", "+t.top+")");e.append("g").classed("chart-group",!0),e.append("g").classed("x-axis-group",!0).append("g").classed("x axis",!0),e.append("g").classed("brush-group",!0),e.append("g").classed("metadata-group",!0)}());_.attr("width",n).attr("height",g)}(this),I||(I=_.select(".metadata-group").append("linearGradient").attr("id",j).attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("x2",T(w[w.length-1].date)).attr("y1",0).attr("y2",0).selectAll("stop").data([{offset:"0%",color:L[0]},{offset:"100%",color:L[1]}]).enter().append("stop").attr("offset",(function(t){return t.offset})).attr("stop-color",(function(t){return t.color}))),D=o.brushX().extent([[0,0],[A,k]]).on("brush",q).on("end",Y),function(){R&&_.selectAll(".brush-area").remove();R=l.area().x((function(t){var e=t.date;return T(e)})).y0(k).y1((function(t){var e=t.value;return E(e)})).curve(l.curveBasis),_.select(".chart-group").append("path").datum(w).attr("class","brush-area").attr("d",R)}(),_.select(".x-axis-group .axis.x").attr("transform","translate(0, "+k+")").call(C),(B=_.select(".brush-group").call(D)).selectAll("rect").classed("brush-rect",!0).attr("height",k),B.selectAll(".selection").attr("fill","url(#"+j+")"),m=d.colorSchemasHuman.grey[1],B.selectAll(".handle.brush-rect").style("fill",m)}))}function q(){var t=h.event.selection;t&&V.call("customBrushStart",this,t.map(T.invert))}function Y(){if(h.event.sourceEvent){var t=[null,null],e=h.event.selection;if(e){var n=e.map(T.invert);(t=n.map(v[F].round))[0]>=t[1]&&(t[0]=v[F].floor(n[0]),t[1]=v[F].offset(t[0])),h.select(this).transition().call(h.event.target.move,t.map(T))}V.call("customBrushEnd",this,t)}}function X(t,e){var n=null;null!==t&&(n=[T(new Date(t)),T(new Date(e))]),D.move(B,n)}return H.axisTimeCombinations=m,H.dateRange=function(t){return arguments.length?(M=t,Array.isArray(M)&&X.apply(void 0,a(M)),this):M},H.gradient=function(t){return arguments.length?(L=t,this):L},H.height=function(t){return arguments.length?(g=t,this):g},H.loadingState=function(t){return arguments.length?(b=t,this):b},H.locale=function(t){return arguments.length?(P=t,this):P},H.margin=function(e){return arguments.length?(t=i({},t,e),this):t},H.on=function(){var t=V.on.apply(V,arguments);return t===V?H:t},H.width=function(t){return arguments.length?(n=t,this):n},H.xAxisCustomFormat=function(t){return arguments.length?(N=t,this):N},H.xAxisFormat=function(t){return arguments.length?(S=t,this):S},H.xTicks=function(t){return arguments.length?(O=t,this):O},H.roundingTimeInterval=function(t){return arguments.length?(F=t,this):F},H}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};void 0===(r=function(t){n(0);var e=n(11),r=n(19),a=(n(16),n(13),n(9)),o=n(12),u=n(2),s=(n(8),n(17).exportChart),l=n(10);return function(){var t={top:20,right:20,bottom:30,left:20},n=960,c=150,h=void 0,f=void 0,d=void 0,p=void 0,g=void 0,m=l.colorSchemas.britecharts,v=void 0,y=void 0,x="",b=null,w=6,_=void 0,M=5,A=.5,k=void 0,T=!1,E=void 0,C=void 0,S=void 0,O=void 0,N=void 0,P=void 0,D=void 0,B=void 0,R=[],I=[],L=[],j=void 0,F=(e.easeQuadInOut,function(){return N||P}),V=function(){return f/3};function z(e){e.each((function(e){var i,s,l,b,z,U;h=n-t.left-t.right,f=c-t.top-t.bottom,s={ranges:(i=e).ranges.slice().sort().reverse(),measures:i.measures.slice().sort().reverse(),markers:i.markers.slice().sort().reverse(),subtitle:i.subtitle,title:i.title},N=s.title,D=s.subtitle,R=s.ranges,L=s.measures,I=s.markers,s,F()&&(h-=100),l=T?[h,0]:[0,h],d=o.scaleLinear().domain([0,Math.max(R[0],I[0],L[0])]).rangeRound(l).nice(),z=(b=d)(0),k=function(t){return Math.abs(b(t)-z)},p=R.map((function(t,e){return A-.2*e})).reverse(),g=R.map((function(t,e){return.9-.3*e})).reverse(),v=m[0],y=m[1],function(e){j||(j=u.select(e).append("svg").classed("britechart bullet-chart",!0),function(){var e=j.append("g").classed("container-group",!0).attr("transform","translate("+t.left+", "+t.top+")");e.append("g").classed("grid-lines-group",!0),e.append("g").classed("chart-group",!0),e.append("g").classed("axis-group",!0),e.append("g").classed("metadata-group",!0),F()&&e.selectAll(".chart-group").attr("transform","translate(100, 0)")}());j.attr("width",n).attr("height",c)}(this),_=r.axisBottom(d).ticks(w).tickPadding(5).tickFormat(a.format(x)),function(){C&&(C.remove(),S.remove(),O.remove());C=j.select(".chart-group").selectAll("rect.range").data(R).enter().append("rect").attr("fill",v).attr("opacity",(function(t,e){return p[e]})).attr("class",(function(t,e){return"range r"+e})).attr("width",k).attr("height",f).attr("x",T?d:0),S=j.select(".chart-group").selectAll("rect.measure").data(L).enter().append("rect").attr("fill",y).attr("fill-opacity",(function(t,e){return g[e]})).attr("class",(function(t,e){return"measure m"+e})).attr("width",k).attr("height",V).attr("x",T?d:0).attr("y",V),O=j.select(".chart-group").selectAll("line.marker-line").data(I).enter().append("line").attr("class","marker-line").attr("stroke",y).attr("stroke-width",5).attr("opacity",g[0]).attr("x1",d).attr("x2",d).attr("y1",0).attr("y2",f)}(),F()&&(E&&E.remove(),E=j.select(".metadata-group").append("g").classed("legend-group",!0).attr("transform","translate(0, "+f/2+")"),P&&(N=P),E.selectAll("text.bullet-title").data([1]).enter().append("text").attr("class","bullet-title x-axis-label").text(N),(D||B)&&(B&&(D=B),E.selectAll("text.bullet-subtitle").data([1]).enter().append("text").attr("class","bullet-subtitle x-axis-label").attr("y",15).text(D))),U=F()?100:0,j.select(".axis-group").attr("transform","translate("+U+", "+(f+M)+")").call(_),j.select(".axis-group").selectAll("line.extended-x-line").data([0]).enter().append("line").attr("class","extended-x-line").attr("x1",0).attr("x2",h)}))}return z.aspectRatio=function(t){return arguments.length?(b=t,this):b},z.colorSchema=function(t){return arguments.length?(m=t,this):m},z.customTitle=function(t){return arguments.length?(P=t,this):P},z.customSubtitle=function(t){return arguments.length?(B=t,this):B},z.exportChart=function(t,e){s.call(z,j,t,e)},z.height=function(t){return arguments.length?(b&&(n=Math.ceil(t/b)),c=t,this):c},z.isReverse=function(t){return arguments.length?(T=t,this):T},z.margin=function(e){return arguments.length?(t=i({},t,e),this):t},z.numberFormat=function(t){return arguments.length?(x=t,this):x},z.paddingBetweenAxisAndChart=function(t){return arguments.length?(M=t,this):M},z.startMaxRangeOpacity=function(t){return arguments.length?(A=t,this):A},z.ticks=function(t){return arguments.length?(w=t,this):w},z.width=function(t){return arguments.length?(b&&(c=Math.ceil(t*b)),n=t,this):n},z}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";n.r(e);var r=function(t){return function(){return t}};function i(t){return t[0]}function a(t){return t[1]}function o(){this._=null}function u(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function s(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function l(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function c(t){for(;t.L;)t=t.L;return t}o.prototype={constructor:o,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=c(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(s(this,n),n=(t=n).U),n.C=!1,r.C=!0,l(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(l(this,n),n=(t=n).U),n.C=!1,r.C=!0,s(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,a=t.L,o=t.R;if(n=a?o?c(o):a:o,i?i.L===t?i.L=n:i.R=n:this._=n,a&&o?(r=n.C,n.C=t.C,n.L=a,a.U=n,n!==o?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=o,o.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,s(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,l(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,s(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,l(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,s(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,l(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var h=o;function f(t,e,n,r){var i=[null,null],a=I.push(i)-1;return i.left=t,i.right=e,n&&p(i,t,e,n),r&&p(i,e,t,r),B[t.index].halfedges.push(a),B[e.index].halfedges.push(a),i}function d(t,e,n){var r=[e,n];return r.left=t,r}function p(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function g(t,e,n,r,i){var a,o=t[0],u=t[1],s=o[0],l=o[1],c=0,h=1,f=u[0]-s,d=u[1]-l;if(a=e-s,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<h&&(h=a)}else if(f>0){if(a>h)return;a>c&&(c=a)}if(a=r-s,f||!(a<0)){if(a/=f,f<0){if(a>h)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<h&&(h=a)}if(a=n-l,d||!(a>0)){if(a/=d,d<0){if(a<c)return;a<h&&(h=a)}else if(d>0){if(a>h)return;a>c&&(c=a)}if(a=i-l,d||!(a<0)){if(a/=d,d<0){if(a>h)return;a>c&&(c=a)}else if(d>0){if(a<c)return;a<h&&(h=a)}return!(c>0||h<1)||(c>0&&(t[0]=[s+c*f,l+c*d]),h<1&&(t[1]=[s+h*f,l+h*d]),!0)}}}}}function m(t,e,n,r,i){var a=t[1];if(a)return!0;var o,u,s=t[0],l=t.left,c=t.right,h=l[0],f=l[1],d=c[0],p=c[1],g=(h+d)/2,m=(f+p)/2;if(p===f){if(g<e||g>=r)return;if(h>d){if(s){if(s[1]>=i)return}else s=[g,n];a=[g,i]}else{if(s){if(s[1]<n)return}else s=[g,i];a=[g,n]}}else if(u=m-(o=(h-d)/(p-f))*g,o<-1||o>1)if(h>d){if(s){if(s[1]>=i)return}else s=[(n-u)/o,n];a=[(i-u)/o,i]}else{if(s){if(s[1]<n)return}else s=[(i-u)/o,i];a=[(n-u)/o,n]}else if(f<p){if(s){if(s[0]>=r)return}else s=[e,o*e+u];a=[r,o*r+u]}else{if(s){if(s[0]<e)return}else s=[r,o*r+u];a=[e,o*e+u]}return t[0]=s,t[1]=a,!0}function v(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function y(t,e){return e[+(e.left!==t.site)]}function x(t,e){return e[+(e.left===t.site)]}var b,w=[];function _(){u(this),this.x=this.y=this.arc=this.site=this.cy=null}function M(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,a=n.site;if(r!==a){var o=i[0],u=i[1],s=r[0]-o,l=r[1]-u,c=a[0]-o,h=a[1]-u,f=2*(s*h-l*c);if(!(f>=-j)){var d=s*s+l*l,p=c*c+h*h,g=(h*d-l*p)/f,m=(s*p-c*d)/f,v=w.pop()||new _;v.arc=t,v.site=i,v.x=g+o,v.y=(v.cy=m+u)+Math.sqrt(g*g+m*m),t.circle=v;for(var y=null,x=R._;x;)if(v.y<x.y||v.y===x.y&&v.x<=x.x){if(!x.L){y=x.P;break}x=x.L}else{if(!x.R){y=x;break}x=x.R}R.insert(y,v),y||(b=v)}}}}function A(t){var e=t.circle;e&&(e.P||(b=e.N),R.remove(e),w.push(e),u(e),t.circle=null)}var k=[];function T(){u(this),this.edge=this.site=this.circle=null}function E(t){var e=k.pop()||new T;return e.site=t,e}function C(t){A(t),D.remove(t),k.push(t),u(t)}function S(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],a=t.P,o=t.N,u=[t];C(t);for(var s=a;s.circle&&Math.abs(n-s.circle.x)<L&&Math.abs(r-s.circle.cy)<L;)a=s.P,u.unshift(s),C(s),s=a;u.unshift(s),A(s);for(var l=o;l.circle&&Math.abs(n-l.circle.x)<L&&Math.abs(r-l.circle.cy)<L;)o=l.N,u.push(l),C(l),l=o;u.push(l),A(l);var c,h=u.length;for(c=1;c<h;++c)l=u[c],s=u[c-1],p(l.edge,s.site,l.site,i);s=u[0],(l=u[h-1]).edge=f(s.site,l.site,null,i),M(s),M(l)}function O(t){for(var e,n,r,i,a=t[0],o=t[1],u=D._;u;)if((r=N(u,o)-a)>L)u=u.L;else{if(!((i=a-P(u,o))>L)){r>-L?(e=u.P,n=u):i>-L?(e=u,n=u.N):e=n=u;break}if(!u.R){e=u;break}u=u.R}!function(t){B[t.index]={site:t,halfedges:[]}}(t);var s=E(t);if(D.insert(e,s),e||n){if(e===n)return A(e),n=E(e.site),D.insert(s,n),s.edge=n.edge=f(e.site,s.site),M(e),void M(n);if(n){A(e),A(n);var l=e.site,c=l[0],h=l[1],d=t[0]-c,g=t[1]-h,m=n.site,v=m[0]-c,y=m[1]-h,x=2*(d*y-g*v),b=d*d+g*g,w=v*v+y*y,_=[(y*b-g*w)/x+c,(d*w-v*b)/x+h];p(n.edge,l,m,_),s.edge=f(l,t,null,_),n.edge=f(t,m,null,_),M(e),M(n)}else s.edge=f(e.site,s.site)}}function N(t,e){var n=t.site,r=n[0],i=n[1],a=i-e;if(!a)return r;var o=t.P;if(!o)return-1/0;var u=(n=o.site)[0],s=n[1],l=s-e;if(!l)return u;var c=u-r,h=1/a-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-s+l/2+i-a/2)))/h+r:(r+u)/2}function P(t,e){var n=t.N;if(n)return N(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var D,B,R,I,L=1e-6,j=1e-12;function F(t,e){return e[1]-t[1]||e[0]-t[0]}function V(t,e){var n,r,i,a=t.sort(F).pop();for(I=[],B=new Array(t.length),D=new h,R=new h;;)if(i=b,a&&(!i||a[1]<i.y||a[1]===i.y&&a[0]<i.x))a[0]===n&&a[1]===r||(O(a),n=a[0],r=a[1]),a=t.pop();else{if(!i)break;S(i.arc)}if(function(){for(var t,e,n,r,i=0,a=B.length;i<a;++i)if((t=B[i])&&(r=(e=t.halfedges).length)){var o=new Array(r),u=new Array(r);for(n=0;n<r;++n)o[n]=n,u[n]=v(t,I[e[n]]);for(o.sort((function(t,e){return u[e]-u[t]})),n=0;n<r;++n)u[n]=e[o[n]];for(n=0;n<r;++n)e[n]=u[n]}}(),e){var o=+e[0][0],u=+e[0][1],s=+e[1][0],l=+e[1][1];!function(t,e,n,r){for(var i,a=I.length;a--;)m(i=I[a],t,e,n,r)&&g(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>L||Math.abs(i[0][1]-i[1][1])>L)||delete I[a]}(o,u,s,l),function(t,e,n,r){var i,a,o,u,s,l,c,h,f,p,g,m,v=B.length,b=!0;for(i=0;i<v;++i)if(a=B[i]){for(o=a.site,u=(s=a.halfedges).length;u--;)I[s[u]]||s.splice(u,1);for(u=0,l=s.length;u<l;)g=(p=x(a,I[s[u]]))[0],m=p[1],h=(c=y(a,I[s[++u%l]]))[0],f=c[1],(Math.abs(g-h)>L||Math.abs(m-f)>L)&&(s.splice(u,0,I.push(d(o,p,Math.abs(g-t)<L&&r-m>L?[t,Math.abs(h-t)<L?f:r]:Math.abs(m-r)<L&&n-g>L?[Math.abs(f-r)<L?h:n,r]:Math.abs(g-n)<L&&m-e>L?[n,Math.abs(h-n)<L?f:e]:Math.abs(m-e)<L&&g-t>L?[Math.abs(f-e)<L?h:t,e]:null))-1),++l);l&&(b=!1)}if(b){var w,_,M,A=1/0;for(i=0,b=null;i<v;++i)(a=B[i])&&(M=(w=(o=a.site)[0]-t)*w+(_=o[1]-e)*_)<A&&(A=M,b=a);if(b){var k=[t,e],T=[t,r],E=[n,r],C=[n,e];b.halfedges.push(I.push(d(o=b.site,k,T))-1,I.push(d(o,T,E))-1,I.push(d(o,E,C))-1,I.push(d(o,C,k))-1)}}for(i=0;i<v;++i)(a=B[i])&&(a.halfedges.length||delete B[i])}(o,u,s,l)}this.edges=I,this.cells=B,D=R=I=B=null}V.prototype={constructor:V,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return y(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,r){if(a=(i=n.halfedges).length)for(var i,a,o,u,s,l,c=n.site,h=-1,f=e[i[a-1]],d=f.left===c?f.right:f.left;++h<a;)o=d,d=(f=e[i[h]]).left===c?f.right:f.left,o&&d&&r<o.index&&r<d.index&&(s=o,l=d,((u=c)[0]-l[0])*(s[1]-u[1])-(u[0]-s[0])*(l[1]-u[1])<0)&&t.push([c.data,o.data,d.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var r,i,a=this,o=a._found||0,u=a.cells.length;!(i=a.cells[o]);)if(++o>=u)return null;var s=t-i.site[0],l=e-i.site[1],c=s*s+l*l;do{i=a.cells[r=o],o=null,i.halfedges.forEach((function(n){var r=a.edges[n],u=r.left;if(u!==i.site&&u||(u=r.right)){var s=t-u[0],l=e-u[1],h=s*s+l*l;h<c&&(c=h,o=u.index)}}))}while(null!==o);return a._found=r,null==n||c<=n*n?i.site:null}};var z=function(){var t=i,e=a,n=null;function o(r){return new V(r.map((function(n,i){var a=[Math.round(t(n,i,r)/L)*L,Math.round(e(n,i,r)/L)*L];return a.index=i,a.data=n,a})),n)}return o.polygons=function(t){return o(t).polygons()},o.links=function(t){return o(t).links()},o.triangles=function(t){return o(t).triangles()},o.x=function(e){return arguments.length?(t="function"==typeof e?e:r(+e),o):t},o.y=function(t){return arguments.length?(e="function"==typeof t?t:r(+t),o):e},o.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],o):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},o.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],o):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},o};n.d(e,"voronoi",(function(){return z}))},function(t,e,n){"use strict";n.r(e);var r=n(79),i=n(64),a=n(37);var o=function(){a.c.preventDefault(),a.c.stopImmediatePropagation()},u=function(t){var e=t.document.documentElement,n=Object(i.a)(t).on("dragstart.drag",o,!0);"onselectstart"in e?n.on("selectstart.drag",o,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function s(t,e){var n=t.document.documentElement,r=Object(i.a)(t).on("dragstart.drag",null);e&&(r.on("click.drag",o,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var l=n(41),c=n(85),h=n(84),f=n(8),d=function(t){return function(){return t}},p=function(t,e,n){this.target=t,this.type=e,this.selection=n};function g(){a.c.stopImmediatePropagation()}var m=function(){a.c.preventDefault(),a.c.stopImmediatePropagation()},v={name:"drag"},y={name:"space"},x={name:"handle"},b={name:"center"};function w(t){return[+t[0],+t[1]]}function _(t){return[w(t[0]),w(t[1])]}function M(t){return function(e){return Object(c.a)(e,a.c.touches,t)}}var A={name:"x",handles:["w","e"].map(P),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},k={name:"y",handles:["n","s"].map(P),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},T={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(P),input:function(t){return null==t?null:_(t)},output:function(t){return t}},E={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},C={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},S={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},O={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},N={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function P(t){return{type:t}}function D(){return!a.c.ctrlKey&&!a.c.button}function B(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function R(){return navigator.maxTouchPoints||"ontouchstart"in this}function I(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function L(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function j(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function F(){return U(A)}function V(){return U(k)}var z=function(){return U(T)};function U(t){var e,n=B,o=D,c=R,w=!0,T=Object(r.a)("start","brush","end"),j=6;function F(e){var n=e.property("__brush",X).selectAll(".overlay").data([P("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",E.overlay).merge(n).each((function(){var t=I(this).extent;Object(i.a)(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),e.selectAll(".selection").data([P("selection")]).enter().append("rect").attr("class","selection").attr("cursor",E.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return E[t.type]})),e.each(V).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",H).filter(c).on("touchstart.brush",H).on("touchmove.brush",q).on("touchend.brush touchcancel.brush",Y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function V(){var t=Object(i.a)(this),e=I(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?e[1][0]-j/2:e[0][0]-j/2})).attr("y",(function(t){return"s"===t.type[0]?e[1][1]-j/2:e[0][1]-j/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+j:j})).attr("height",(function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+j:j}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function z(t,e,n){return!n&&t.__brush.emitter||new U(t,e)}function U(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function H(){if((!e||a.c.touches)&&o.apply(this,arguments)){var n,r,l,c,d,p,_,T,P,D,B,R=this,j=a.c.target.__data__.type,F="selection"===(w&&a.c.metaKey?j="overlay":j)?v:w&&a.c.altKey?b:x,U=t===k?null:O[j],H=t===A?null:N[j],q=I(R),Y=q.extent,X=q.selection,G=Y[0][0],W=Y[0][1],$=Y[1][0],Q=Y[1][1],Z=0,K=0,J=U&&H&&w&&a.c.shiftKey,tt=a.c.touches?M(a.c.changedTouches[0].identifier):h.a,et=tt(R),nt=et,rt=z(R,arguments,!0).beforestart();"overlay"===j?(X&&(P=!0),q.selection=X=[[n=t===k?G:et[0],l=t===A?W:et[1]],[d=t===k?$:n,_=t===A?Q:l]]):(n=X[0][0],l=X[0][1],d=X[1][0],_=X[1][1]),r=n,c=l,p=d,T=_;var it=Object(i.a)(R).attr("pointer-events","none"),at=it.selectAll(".overlay").attr("cursor",E[j]);if(a.c.touches)rt.moved=ut,rt.ended=lt;else{var ot=Object(i.a)(a.c.view).on("mousemove.brush",ut,!0).on("mouseup.brush",lt,!0);w&&ot.on("keydown.brush",ct,!0).on("keyup.brush",ht,!0),u(a.c.view)}g(),Object(f.interrupt)(R),V.call(R),rt.start()}function ut(){var t=tt(R);!J||D||B||(Math.abs(t[0]-nt[0])>Math.abs(t[1]-nt[1])?B=!0:D=!0),nt=t,P=!0,m(),st()}function st(){var t;switch(Z=nt[0]-et[0],K=nt[1]-et[1],F){case y:case v:U&&(Z=Math.max(G-n,Math.min($-d,Z)),r=n+Z,p=d+Z),H&&(K=Math.max(W-l,Math.min(Q-_,K)),c=l+K,T=_+K);break;case x:U<0?(Z=Math.max(G-n,Math.min($-n,Z)),r=n+Z,p=d):U>0&&(Z=Math.max(G-d,Math.min($-d,Z)),r=n,p=d+Z),H<0?(K=Math.max(W-l,Math.min(Q-l,K)),c=l+K,T=_):H>0&&(K=Math.max(W-_,Math.min(Q-_,K)),c=l,T=_+K);break;case b:U&&(r=Math.max(G,Math.min($,n-Z*U)),p=Math.max(G,Math.min($,d+Z*U))),H&&(c=Math.max(W,Math.min(Q,l-K*H)),T=Math.max(W,Math.min(Q,_+K*H)))}p<r&&(U*=-1,t=n,n=d,d=t,t=r,r=p,p=t,j in C&&at.attr("cursor",E[j=C[j]])),T<c&&(H*=-1,t=l,l=_,_=t,t=c,c=T,T=t,j in S&&at.attr("cursor",E[j=S[j]])),q.selection&&(X=q.selection),D&&(r=X[0][0],p=X[1][0]),B&&(c=X[0][1],T=X[1][1]),X[0][0]===r&&X[0][1]===c&&X[1][0]===p&&X[1][1]===T||(q.selection=[[r,c],[p,T]],V.call(R),rt.brush())}function lt(){if(g(),a.c.touches){if(a.c.touches.length)return;e&&clearTimeout(e),e=setTimeout((function(){e=null}),500)}else s(a.c.view,P),ot.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);it.attr("pointer-events","all"),at.attr("cursor",E.overlay),q.selection&&(X=q.selection),L(X)&&(q.selection=null,V.call(R)),rt.end()}function ct(){switch(a.c.keyCode){case 16:J=U&&H;break;case 18:F===x&&(U&&(d=p-Z*U,n=r+Z*U),H&&(_=T-K*H,l=c+K*H),F=b,st());break;case 32:F!==x&&F!==b||(U<0?d=p-Z:U>0&&(n=r-Z),H<0?_=T-K:H>0&&(l=c-K),F=y,at.attr("cursor",E.selection),st());break;default:return}m()}function ht(){switch(a.c.keyCode){case 16:J&&(D=B=J=!1,st());break;case 18:F===b&&(U<0?d=p:U>0&&(n=r),H<0?_=T:H>0&&(l=c),F=x,st());break;case 32:F===y&&(a.c.altKey?(U&&(d=p-Z*U,n=r+Z*U),H&&(_=T-K*H,l=c+K*H),F=b):(U<0?d=p:U>0&&(n=r),H<0?_=T:H>0&&(l=c),F=x),at.attr("cursor",E[j]),st());break;default:return}m()}}function q(){z(this,arguments).moved()}function Y(){z(this,arguments).ended()}function X(){var e=this.__brush||{selection:null};return e.extent=_(n.apply(this,arguments)),e.dim=t,e}return F.move=function(e,n){e.selection?e.on("start.brush",(function(){z(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){z(this,arguments).end()})).tween("brush",(function(){var e=this,r=e.__brush,i=z(e,arguments),a=r.selection,o=t.input("function"==typeof n?n.apply(this,arguments):n,r.extent),u=Object(l.a)(a,o);function s(t){r.selection=1===t&&null===o?null:u(t),V.call(e),i.brush()}return null!==a&&null!==o?s:s(1)})):e.each((function(){var e=this,r=arguments,i=e.__brush,a=t.input("function"==typeof n?n.apply(e,r):n,i.extent),o=z(e,r).beforestart();Object(f.interrupt)(e),i.selection=null===a?null:a,V.call(e),o.start().brush().end()}))},F.clear=function(t){F.move(t,null)},U.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){Object(a.a)(new p(F,e,t.output(this.state.selection)),T.apply,T,[e,this.that,this.args])}},F.extent=function(t){return arguments.length?(n="function"==typeof t?t:d(_(t)),F):n},F.filter=function(t){return arguments.length?(o="function"==typeof t?t:d(!!t),F):o},F.touchable=function(t){return arguments.length?(c="function"==typeof t?t:d(!!t),F):c},F.handleSize=function(t){return arguments.length?(j=+t,F):j},F.keyModifiers=function(t){return arguments.length?(w=!!t,F):w},F.on=function(){var t=T.on.apply(T,arguments);return t===T?F:t},F}n.d(e,"brush",(function(){return z})),n.d(e,"brushX",(function(){return F})),n.d(e,"brushY",(function(){return V})),n.d(e,"brushSelection",(function(){return j}))}])}));
//# sourceMappingURL=britecharts.min.js.map